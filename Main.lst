Apollo Guidance Computer (AGC) assembler, version 2017-04-17, built Apr 17 2017, target AGC4
(c)2003-2005,2009-2010,2016 Ronald S. Burkey
Refer to http://www.ibiblio.org/apollo/index.html for more information.
Pass #1
Pass #2
Pass #3
000001,000001: 
000002,000002:    4000                                           SETLOC   4000                          	#
000003,000003: 
000004,000004: 
000005,000005:    4000                        RESTART                                                   	#
000006,000006:    4000           00004                           INHINT                                 	# Turn off interrupts
000007,000007:    4001           35134                           CA       O37774                        	# Schedule the first TIME3 interrupt
000008,000008:    4002           54026                           TS       TIME3                         	#
000009,000009:    4003           14054                           TCF      INIT                          	# Proceed with initialization
000010,000010: 
000011,000011: $Vectors.agc                            # Add table of interrupt vectors
000012,000001: 
000013,000002:                                                                                          	# We begin with an interrupt vector table. There are 10 possible interrupts,
000014,000003:                                                                                          	# plus the restart vector which comes first.
000015,000004: 
000016,000005: 
000017,000006: 
000018,000007:    4004           50017                           RESUME                                 	# T6RUPT
000019,000008:    4005           14006                           NOOP                                   	#
000020,000009:    4006           14007                           NOOP                                   	#
000021,000010:    4007           14010                           NOOP                                   	#
000022,000011: 
000023,000012:    4010           50017                           RESUME                                 	# T5RUPT
000024,000013:    4011           14012                           NOOP                                   	#
000025,000014:    4012           14013                           NOOP                                   	#
000026,000015:    4013           14014                           NOOP                                   	#
000027,000016: 
000028,000017:    4014           52011                           DXCH     ARUPT                         	# T3RUPT
000029,000018:    4015           00006                           EXTEND                                 	# Back up A, L, and Q
000030,000019:    4016           22012                           QXCH     QRUPT                         	#
000031,000020:    4017           15006                           TCF      T3RUPT                        	# Transfer to the T3RUPT handler
000032,000021: 
000033,000022:    4020           50017                           RESUME                                 	# T4RUPT
000034,000023:    4021           14022                           NOOP                                   	#
000035,000024:    4022           14023                           NOOP                                   	#
000036,000025:    4023           14024                           NOOP                                   	#
000037,000026: 
000038,000027:    4024           52011                           DXCH     ARUPT                         	# KEYRUPT1, fired whenever a key is pressed
000039,000028:    4025           00006                           EXTEND                                 	#
000040,000029:    4026           22012                           QXCH     QRUPT                         	#
000041,000030:    4027           15015                           TCF      KEYRUPT1                      	#
000042,000031: 
000043,000032:    4030           50017                           RESUME                                 	# KEYRUPT2
000044,000033:    4031           14032                           NOOP                                   	#
000045,000034:    4032           14033                           NOOP                                   	#
000046,000035:    4033           14034                           NOOP                                   	#
000047,000036: 
000048,000037:    4034           50017                           RESUME                                 	# UPRUPT
000049,000038:    4035           14036                           NOOP                                   	#
000050,000039:    4036           14037                           NOOP                                   	#
000051,000040:    4037           14040                           NOOP                                   	#
000052,000041: 
000053,000042:    4040           50017                           RESUME                                 	# DOWNRUPT
000054,000043:    4041           14042                           NOOP                                   	#
000055,000044:    4042           14043                           NOOP                                   	#
000056,000045:    4043           14044                           NOOP                                   	#
000057,000046: 
000058,000047:    4044           50017                           RESUME                                 	# RADAR RUPT
000059,000048:    4045           14046                           NOOP                                   	#
000060,000049:    4046           14047                           NOOP                                   	#
000061,000050:    4047           14050                           NOOP                                   	#
000062,000051: 
000063,000052:    4050           50017                           RESUME                                 	# RUPT10
000064,000053:    4051           14052                           NOOP                                   	#
000065,000054:    4052           14053                           NOOP                                   	#
000066,000055:    4053           14054                           NOOP                                   	#
000067,000056: 
(End of include-file Vectors.agc, resuming Main.agc)
000068,000012: 
000069,000013:                                                                                          	# Initialization.
000070,000014:    4054                        INIT                                                      	#
000071,000015:    4054           30007                           CA       ZERO                          	# Load 0 to A
000072,000016:    4055           54073                           TS       ACTIVE                        	# Set game not started
000073,000017:    4056           54112                           TS       GM_DONE                       	# Set game not completed
000074,000018: 
000075,000019:    4057           00006                           EXTEND                                 	#
000076,000020:    4060           01011                           WRITE    CH11                          	# Clear any DSKY lights
000077,000021: 
000078,000022: 
000079,000023:    4061           35131                           CA       NOKEY                         	# Clear the keypad buffer variable
000080,000024:    4062           54070                           TS       KEYBUF                        	# to initially hold an illegal keycode.
000081,000025: 
000082,000026:    4063           04102                           TC       RESETALL                      	# Set all grid items to empty (-1)
000083,000027:    4064           04704                           TC       DISP15                        	# Clear the grid
000084,000028: 
000085,000029:    4065           35262                           CA       STA_WAIT                      	# Set game status to wait for any key
000086,000030:    4066           54101                           TS       GM_STATE                      	#
000087,000031: 
000088,000032:    4067           00003                           RELINT                                 	# Enable interrupts
000089,000033: 
000090,000034:    4070                        MAINLOOP                                                  	#
000091,000035:    4070           40067                           CS       NEWJOB                        	# Each loop, nudge hardware watchdog
000092,000036: 
000093,000037: 
000094,000038:    4071                        CHK_STATE                                                  	#
000095,000039: 
000096,000040:    4071           50101                           INDEX    GM_STATE                      	# Index into game state jump table
000097,000041:    4072           14073                           TCF      ST_TABLE                      	# Will jump to appropriate function below based on state
000098,000042:    4073                        ST_TABLE                                                  	#
000099,000043:    4073           15053                           TCF      CHECK_KEY                     	# 0
000100,000044:    4074           14215                           TCF      MOVING_DN                     	# 1
000101,000045:    4075           14363                           TCF      MOVING_UP                     	# 2
000102,000046:    4076           14472                           TCF      MOVING_LT                     	# 3
000103,000047:    4077           14602                           TCF      MOVING_RT                     	# 4
000104,000048:    4100           14117                           TCF      NEWNUM                        	# 5
000105,000049:    4101           15041                           TCF      WAITKEY                       	# 6
000106,000050: 
000107,000051: 
000108,000052:                                                                                          	# Include the rest of the code modules below
000109,000053: 
000110,000054: $Grid.agc
000111,000001: 
000112,000002:    4102                        RESETALL                                                  	#
000113,000003: 
000114,000004:    4102           35143                           CA       TWENTY1                       	# Set loop counter to 21
000115,000005:    4103           54075                           TS       CUR_ID                        	#
000116,000006:    4104                        RESETLOOP                                                  	#
000117,000007:    4104           35141                           CA       NEG_ONE                       	# Load -1 to A (empty cell)
000118,000008:    4105           50075                           INDEX    CUR_ID                        	# Index by current loop count
000119,000009:    4106           54124                           TS       VALUES                        	# Save -1 to empty this grid cell
000120,000010: 
000121,000011:    4107           00006                           EXTEND                                 	#
000122,000012:    4110           26075                           DIM      CUR_ID                        	# Decrement loop counter
000123,000013:    4111           30075                           CA       CUR_ID                        	# Load loop counter
000124,000014:    4112           00006                           EXTEND                                 	#
000125,000015:    4113           14115                           BZF      RESETEND                      	# If zero, we've cleared all of VALUES array
000126,000016: 
000127,000017:    4114           14104                           TCF      RESETLOOP                     	# Not zero, loop back for next cell
000128,000018: 
000129,000019: 
000130,000020:    4115                        RESETEND                                                  	#
000131,000021:    4115           00002                           RETURN                                 	# Return to Init
000132,000022: 
000133,000023: 
000134,000024:    4116                        SECOND                                                    	#
000135,000025: 
000136,000026:    4116           24073                           INCR     ACTIVE                        	# Set game to active now two cells will be populated
000137,000027:    4117                        NEWNUM                                                    	#
000138,000028: 
000139,000029:    4117           04776                           TC       IODELAY                       	# Delay a bit before generating the number
000140,000030:    4120           04131                           TC       GENZERO                       	# Call function to generate a 0 or 1 in empty cell
000141,000031:    4121           04704                           TC       DISP15                        	# Call function Display the new grid state
000142,000032: 
000143,000033:    4122           30073                           CA       ACTIVE                        	# Load whether game is active
000144,000034:    4123           00006                           EXTEND                                 	#
000145,000035:    4124           14116                           BZF      SECOND                        	# If not, generate another new number
000146,000036: 
000147,000037:    4125           04776                           TC       IODELAY                       	# Delay before returning control to player
000148,000038: 
000149,000039:    4126           35254                           CA       STA_INPUT                     	# Change game state to player control
000150,000040:    4127           54101                           TS       GM_STATE                      	#
000151,000041: 
000152,000042:    4130           14070                           TCF      MAINLOOP                      	# Return to start of game loop
000153,000043: 
000154,000044: 
000155,000045: 
000156,000046:    4131                        GENZERO                                                   	# Generate a 0 or 1 in an empty grid cell
000157,000047:    4131           00006                           EXTEND                                 	#
000158,000048:    4132           22072                           QXCH     RET_ADR2                      	# Save the return address of the calling function
000159,000049: 
000160,000050: 
000161,000051:    4133                        NEWBOX                                                    	#
000162,000052: 
000163,000053:    4133           35145                           CA       MASK15                        	# Load a mask to keep only the bottom 4 bits
000164,000054:    4134           54061                           TS       TEMPI                         	# Store into temp variable
000165,000055: 
000166,000056:    4135           05121                           TC       RANDOM                        	# Get a random number (and discard)
000167,000057:    4136           30074                           CA       COUNTER                       	# Load the random number counter (0-127)
000168,000058:    4137           75145                           MASK     MASK15                        	# Mask it down to 0-15
000169,000059:    4140           54123                           TS       PLAY_ID                       	# Store it as the grid cell to try and add to
000170,000060:    4141           00006                           EXTEND                                 	#
000171,000061:    4142           60061                           SU       TEMPI                         	# Subtract 15 from this cell number
000172,000062:    4143           00006                           EXTEND                                 	#
000173,000063:    4144           14150                           BZF      ADD5                          	# If is 0, we have cell 16 and there only 15.
000174,000064: 
000175,000065:    4145                        ADD6                                                      	# Is not 0, we can safely add grid offset of 6
000176,000066: 
000177,000067:    4145           30123                           CA       PLAY_ID                       	# Load the number we know is from 0-14
000178,000068:    4146           65262                           AD       DEC6                          	# Add 6 to get the first display segment in the grid
000179,000069: 
000180,000070:    4147           14152                           TCF      CHKVALID                      	# Now check whether this grid cell is empty
000181,000071: 
000182,000072:    4150                        ADD5                                                      	#
000183,000073:    4150           30123                           CA       PLAY_ID                       	# We know the number is 15
000184,000074:    4151           65261                           AD       DEC5                          	# So only add 5 so we still get a valid cell
000185,000075: 
000186,000076:    4152                        CHKVALID                                                  	#
000187,000077: 
000188,000078:    4152           54123                           TS       PLAY_ID                       	# Store the cell id to check is empty
000189,000079:    4153           50123                           INDEX    PLAY_ID                       	# Index by the cell id
000190,000080:    4154           30124                           CA       VALUES                        	# Get the value held for cell in VALUES array
000191,000081:    4155           65255                           AD       DEC1                          	# Add one, if it was empty (-1) it's now zero'
000192,000082:    4156           00006                           EXTEND                                 	#
000193,000083:    4157           14162                           BZF      ISEMPTY                       	# If empty, we can use this cell for new number
000194,000084: 
000195,000085:    4160                        NOTEMPTY                                                  	#
000196,000086: 
000197,000087:    4160           54067                           TS       NEWJOB                        	# Nudge watchdog in case it takes a while to find cell
000198,000088:    4161           14133                           TCF      NEWBOX                        	# We can't use this cell, try again
000199,000089: 
000200,000090:    4162                        ISEMPTY                                                   	#
000201,000091: 
000202,000092:    4162           05121                           TC       RANDOM                        	# Get a random number from 0-9
000203,000093:    4163           54061                           TS       TEMPI                         	# Save to temp variable
000204,000094:    4164           35260                           CA       DEC4                          	# Load 4 into A
000205,000095:    4165           00006                           EXTEND                                 	#
000206,000096:    4166           60061                           SU       TEMPI                         	# Subtract 0-9 from 5
000207,000097:    4167           00006                           EXTEND                                 	#
000208,000098:    4170           64173                           BZMF     MAKEONE                       	# if zero or negative, make cell = 1
000209,000099: 
000210,000100:    4171           30007                           CA       ZERO                          	# is >0, make cell = 0
000211,000101:    4172           14174                           TCF      STORENEW                      	#
000212,000102: 
000213,000103:    4173                        MAKEONE                                                   	#
000214,000104:    4173           35255                           CA       DEC1                          	# Load 1 into A
000215,000105: 
000216,000106:    4174                        STORENEW                                                  	#
000217,000107: 
000218,000108:    4174           50123                           INDEX    PLAY_ID                       	# Index by chosen cell ID
000219,000109:    4175           54124                           TS       VALUES                        	# Store 0-1 into values array by index
000220,000110: 
000221,000111:    4176           00006                           EXTEND                                 	#
000222,000112:    4177           22072                           QXCH     RET_ADR2                      	# Restore return address of calling func
000223,000113: 
000224,000114:    4200           00002                           RETURN                                 	# Return to NEWNUM
(End of include-file Grid.agc, resuming Main.agc)
000225,000055: $Down.agc
000226,000001:    4201                        SETUPMOV                                                  	#
000227,000002: 
000228,000003:    4201           30007                           CA       ZERO                          	# Load 0 into A
000229,000004:    4202           54103                           TS       MATCHMD                       	# Clear array of 5 that indicates whether two numbers
000230,000005:    4203           54104                           TS       MATCH1                        	# have already been combined for the given row/col
000231,000006:    4204           54105                           TS       MATCH2                        	#
000232,000007:    4205           54106                           TS       MATCH3                        	# Otherwise moving left on a row of 0-0-1 would end as 2-x-x.
000233,000008:    4206           54107                           TS       MATCH4                        	# When it should be 1-1-x.
000234,000009: 
000235,000010:    4207           00002                           RETURN                                 	#
000236,000011: 
000237,000012:    4210                        MOVE_DOWN                                                  	# The down key (8) has been pressed
000238,000013: 
000239,000014:    4210           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000240,000015:    4211           30112                           CA       GM_DONE                       	# Load game complete status into A
000241,000016:    4212           00006                           EXTEND                                 	#
000242,000017:    4213           14215                           BZF      MOVING_DN                     	# Flag is zero, not complete yet
000243,000018: 
000244,000019:    4214           14070                           TCF      MAINLOOP                      	#
000245,000020: 
000246,000021:    4215                        MOVING_DN                                                  	# Once in a state of 'sta_down', come here each 'frame'
000247,000022:                                                                                          	# until no more cells can move down
000248,000023: 
000249,000024:    4215           35255                           CA       STA_DOWN                      	# Load the game status of 'moving down'
000250,000025:    4216           54101                           TS       GM_STATE                      	# Save as game state
000251,000026: 
000252,000027:    4217           30007                           CA       ZERO                          	# Load 0 into A
000253,000028:    4220           54123                           TS       PLAY_ID                       	# Reset number of cells moved this iteration.
000254,000029: 
000255,000030:    4221           35255                           CA       DEC1                          	# Start from middle row, checking below to see if we can move into it.
000256,000031:    4222           54113                           TS       ROW_ID                        	# Store 1 into ROW_ID
000257,000032: 
000258,000033:    4223                        D_ROLOOP                                                  	# Loop through rows, checking each column to see if number can move down
000259,000034: 
000260,000035:    4223           50113                           INDEX    ROW_ID                        	# Index by the row_id
000261,000036:    4224           35300                           CA       ROW_STRT                      	# Get the first cell id in this row
000262,000037:    4225           54075                           TS       CUR_ID                        	# Store this as current id
000263,000038:    4226           65261                           AD       DEC5                          	# Add 5
000264,000039:    4227           54115                           TS       END_ID                        	# Store cur_id + 5 to know when to stop processing row
000265,000040: 
000266,000041:    4230                        D_COLOOP                                                  	# Loop through each cell on a row
000267,000042: 
000268,000043: 
000269,000044:    4230           50075                           INDEX    CUR_ID                        	# Index by the current cell id
000270,000045:    4231           35310                           CA       GRID_COL                      	# Get the column this cell belongs to
000271,000046:    4232           54111                           TS       CELLCOL                       	# And save value to ram for later
000272,000047: 
000273,000048:    4233           50075                           INDEX    CUR_ID                        	# Index by the current cell id again
000274,000049:    4234           30124                           CA       VALUES                        	# Get the value in this cell
000275,000050:    4235           54100                           TS       CELL_VALUE                    	# Save cell value
000276,000051:    4236           65255                           AD       DEC1                          	# Add 1. If empty (-1), this is now 0.
000277,000052:    4237           00006                           EXTEND                                 	#
000278,000053:    4240           14272                           BZF      D_NOCOL                       	# If empty, don't bother checking cell below
000279,000054: 
000280,000055: 
000281,000056:    4241                        CHK_BEL                                                   	# This cell has a number, check below
000282,000057: 
000283,000058:    4241           30075                           CA       CUR_ID                        	# Load the current cell id
000284,000059:    4242           65261                           AD       DEC5                          	# Add 5 (number of columns) to get cell below
000285,000060:    4243           54077                           TS       CHK_ID                        	# Store cell check id
000286,000061: 
000287,000062:    4244           50077                           INDEX    CHK_ID                        	# Index using the cell below's id
000288,000063:    4245           30124                           CA       VALUES                        	# Get the value in the cell below
000289,000064:    4246           54102                           TS       CHK_VALUE                     	# Store the cell below's value
000290,000065:    4247           65255                           AD       DEC1                          	# Add 1. If empty (-1), this is now 0.
000291,000066:    4250           00006                           EXTEND                                 	#
000292,000067:    4251           14271                           BZF      MOV_DN                        	# If cell below empty, we can move straight into it.
000293,000068: 
000294,000069:    4252                        D_SOMEHR                                                  	# There's a number below. Check what it is.
000295,000070: 
000296,000071:    4252           50111                           INDEX    CELLCOL                       	# Index by the column our cell is in
000297,000072:    4253           30103                           CA       MATCHMD                       	# Get whether we already combined cells in this column
000298,000073:    4254           00006                           EXTEND                                 	#
000299,000074:    4255           14257                           BZF      D_NOSOF                       	# If 0, we didn't already combine so we can check for match
000300,000075: 
000301,000076:    4256           14272                           TCF      D_NOCOL                       	# We already combined so we don't want to try and combine again
000302,000077: 
000303,000078:    4257                        D_NOSOF                                                   	#
000304,000079: 
000305,000080:    4257           30100                           CA       CELL_VALUE                    	# Load the value in original cell
000306,000081:    4260           00006                           EXTEND                                 	#
000307,000082:    4261           60102                           SU       CHK_VALUE                     	# Subtract the value in cell below
000308,000083:    4262           00006                           EXTEND                                 	#
000309,000084:    4263           14265                           BZF      D_MATCH                       	# If zero, they are the same. Combine them.
000310,000085: 
000311,000086:    4264           14272                           TCF      D_NOCOL                       	# Not the same, can't move as way is blocked
000312,000087: 
000313,000088:    4265                        D_MATCH                                                   	#
000314,000089: 
000315,000090:    4265           50111                           INDEX    CELLCOL                       	# Index by the column these cells are in
000316,000091:    4266           24103                           INCR     MATCHMD                       	# Set flag that we have already matched on this column
000317,000092: 
000318,000093:    4267           04332                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000319,000094: 
000320,000095:    4270           14272                           TCF      D_NOCOL                       	# Move along to next column
000321,000096:    4271                        MOV_DN                                                    	#
000322,000097: 
000323,000098:    4271           04322                           TC       CELL_MOV                      	# Move cell value to new cell, empty orig cell
000324,000099: 
000325,000100:    4272                        D_NOCOL                                                   	# End of processing for this column
000326,000101: 
000327,000102:    4272           24075                           INCR     CUR_ID                        	# Move cell id to next column
000328,000103:    4273           30075                           CA       CUR_ID                        	# Load id into A
000329,000104:    4274           00006                           EXTEND                                 	#
000330,000105:    4275           60115                           SU       END_ID                        	# Subtract id of first cell in row below
000331,000106:    4276           00006                           EXTEND                                 	#
000332,000107:    4277           14301                           BZF      D_NXTRW                       	# If zero, we have no more columns, goto next row
000333,000108: 
000334,000109:    4300           14230                           TCF      D_COLOOP                      	# More columns to process, loop back up
000335,000110: 
000336,000111:    4301                        D_NXTRW                                                   	#
000337,000112: 
000338,000113:    4301           54067                           TS       NEWJOB                        	# Nudge watchdog as this processing might take a while
000339,000114:    4302           30113                           CA       ROW_ID                        	# Load the row id
000340,000115:    4303           00006                           EXTEND                                 	#
000341,000116: 
000342,000117:    4304           14310                           BZF      D_DONE                        	# If row id is zero, we've done all rows now
000343,000118: 
000344,000119:    4305           00006                           EXTEND                                 	#
000345,000120:    4306           26113                           DIM      ROW_ID                        	# Not last row, move up into next row
000346,000121: 
000347,000122:    4307           14223                           TCF      D_ROLOOP                      	# Process the next row
000348,000123: 
000349,000124:    4310                        D_DONE                                                    	#
000350,000125: 
000351,000126:    4310           30123                           CA       PLAY_ID                       	# Did we move anything in this iteration?
000352,000127:    4311           00006                           EXTEND                                 	#
000353,000128:    4312           14316                           BZF      D_NOWT                        	# If 0 we did not so return control to player
000354,000129: 
000355,000130:    4313                        D_UPDATE                                                  	#
000356,000131: 
000357,000132:    4313           04704                           TC       DISP15                        	# We moved something, update display
000358,000133:    4314           04776                           TC       IODELAY                       	# Delay a bit so numbers don't move instantly from one end to other
000359,000134:    4315           14070                           TCF      MAINLOOP                      	# Return to main loop to see if anything still to move
000360,000135: 
000361,000136:    4316                        D_NOWT                                                    	#
000362,000137:    4316           35261                           CA       STA_ADD                       	# All movement handled, now add new number to grid
000363,000138:    4317           54101                           TS       GM_STATE                      	# Save to game state, we'll do in next main loop
000364,000139: 
000365,000140:    4320           04776                           TC       IODELAY                       	# A little delay before adding so it's obvious where it went
000366,000141: 
000367,000142:    4321           14070                           TCF      MAINLOOP                      	# Return to main loop which will add a new number next time
000368,000143: 
000369,000144: 
000370,000145:    4322                        CELL_MOV                                                  	#
000371,000146: 
000372,000147:    4322           24123                           INCR     PLAY_ID                       	# We are moving a number into empty space. Inc move counter.
000373,000148: 
000374,000149:    4323           30100                           CA       CELL_VALUE                    	# Load the value in cell that's moving
000375,000150:    4324           50077                           INDEX    CHK_ID                        	# Index by cell below id
000376,000151:    4325           54124                           TS       VALUES                        	# Set cell below to value of original cell
000377,000152: 
000378,000153:    4326           35141                           CA       NEG_ONE                       	# Load -1 to A (empty)
000379,000154:    4327           50075                           INDEX    CUR_ID                        	# Index by original cell id
000380,000155:    4330           54124                           TS       VALUES                        	# Set original cell to now be empty
000381,000156: 
000382,000157:    4331           00002                           RETURN                                 	#
000383,000158: 
000384,000159:    4332                        UPGRADE                                                   	#
000385,000160: 
000386,000161: 
000387,000162:    4332           24123                           INCR     PLAY_ID                       	#
000388,000163:                                                                                          	# Increase counter as something is going to move
000389,000164: 
000390,000165:    4333           30100                           CA       CELL_VALUE                    	# Load value in original cell
000391,000166:    4334           65255                           AD       DEC1                          	# Add 1 because we are combining
000392,000167:    4335           50077                           INDEX    CHK_ID                        	# Index using cell below id
000393,000168:    4336           54124                           TS       VALUES                        	# Set cell below to be +1
000394,000169:    4337           54061                           TS       TEMPI                         	# Save to temp var, we need to check if it's 9
000395,000170: 
000396,000171:    4340           35265                           CA       DEC9                          	# Load 9 into A
000397,000172:    4341           00006                           EXTEND                                 	#
000398,000173:    4342           60061                           SU       TEMPI                         	# Subtract the value of combined cell
000399,000174:    4343           00006                           EXTEND                                 	#
000400,000175:    4344           14346                           BZF      COMPLETE                      	# If zero, we must have made a 9, game complete
000401,000176: 
000402,000177:    4345           14352                           TCF      NOTCOMP                       	# If zero, we must have made a 9, game complete
000403,000178: 
000404,000179: 
000405,000180:    4346                        COMPLETE                                                  	#
000406,000181: 
000407,000182:    4346           35153                           CA       BIT5                          	# Load value where bit 5 = 1, rest 0 (key rel flash)
000408,000183:    4347           00006                           EXTEND                                 	#
000409,000184:    4350           01011                           WRITE    CH11                          	# Output to DSKY lights IO channel
000410,000185:    4351           24112                           INCR     GM_DONE                       	# Set done flag so we don't allow further play'
000411,000186: 
000412,000187:    4352                        NOTCOMP                                                   	#
000413,000188: 
000414,000189: 
000415,000190:    4352           35141                           CA       NEG_ONE                       	# Load -1 to A (empty)
000416,000191:    4353           50075                           INDEX    CUR_ID                        	# Index by original cell id
000417,000192:    4354           54124                           TS       VALUES                        	# Set original cell to now be empty
000418,000193: 
000419,000194: 
000420,000195: 
000421,000196:    4355           00002                           RETURN                                 	#
000422,000197: 
(End of include-file Down.agc, resuming Main.agc)
000423,000056: $Up.agc
000424,000001:                                                                                          	# See Down.agc for detailed explanation of how the code
000425,000002:                                                                                          	# to move and combine numbers works. The only differences between them
000426,000003:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000427,000004: 
000428,000005:    4356                        MOVE_UP                                                   	#
000429,000006: 
000430,000007:    4356           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000431,000008:    4357           30112                           CA       GM_DONE                       	# Load game complete status into A
000432,000009:    4360           00006                           EXTEND                                 	#
000433,000010:    4361           14363                           BZF      MOVING_UP                     	# Flag is zero, not complete yet
000434,000011: 
000435,000012:    4362           14070                           TCF      MAINLOOP                      	#
000436,000013: 
000437,000014:    4363                        MOVING_UP                                                  	#
000438,000015: 
000439,000016:    4363           35256                           CA       STA_UP                        	#
000440,000017:    4364           54101                           TS       GM_STATE                      	#
000441,000018: 
000442,000019:    4365           30007                           CA       ZERO                          	#
000443,000020:    4366           54123                           TS       PLAY_ID                       	#
000444,000021: 
000445,000022:    4367           35255                           CA       DEC1                          	#
000446,000023:    4370           54113                           TS       ROW_ID                        	#
000447,000024: 
000448,000025:    4371                        U_ROLOOP                                                  	#
000449,000026: 
000450,000027:    4371           50113                           INDEX    ROW_ID                        	#
000451,000028:    4372           35300                           CA       ROW_STRT                      	#
000452,000029:    4373           54075                           TS       CUR_ID                        	#
000453,000030:    4374           65261                           AD       DEC5                          	#
000454,000031:    4375           54115                           TS       END_ID                        	#
000455,000032: 
000456,000033:    4376                        U_COLOOP                                                  	#
000457,000034: 
000458,000035:    4376           50075                           INDEX    CUR_ID                        	#
000459,000036:    4377           35310                           CA       GRID_COL                      	#
000460,000037:    4400           54111                           TS       CELLCOL                       	#
000461,000038: 
000462,000039:    4401           50075                           INDEX    CUR_ID                        	#
000463,000040:    4402           30124                           CA       VALUES                        	#
000464,000041:    4403           54100                           TS       CELL_VALUE                    	#
000465,000042:    4404           65255                           AD       DEC1                          	#
000466,000043:    4405           00006                           EXTEND                                 	#
000467,000044:    4406           14446                           BZF      U_NOCOL                       	#
000468,000045: 
000469,000046: 
000470,000047:    4407                        CHK_ABV                                                   	#
000471,000048: 
000472,000049:    4407           30075                           CA       CUR_ID                        	#
000473,000050:    4410           65152                           AD       NEG5                          	#
000474,000051:    4411           54077                           TS       CHK_ID                        	#
000475,000052: 
000476,000053:    4412           50077                           INDEX    CHK_ID                        	#
000477,000054:    4413           30124                           CA       VALUES                        	#
000478,000055:    4414           54102                           TS       CHK_VALUE                     	#
000479,000056:    4415           65255                           AD       DEC1                          	#
000480,000057:    4416           00006                           EXTEND                                 	#
000481,000058:    4417           14437                           BZF      MOV_UP                        	#
000482,000059: 
000483,000060:    4420                        U_SOMEHR                                                  	#
000484,000061: 
000485,000062:    4420           50111                           INDEX    CELLCOL                       	#
000486,000063:    4421           30103                           CA       MATCHMD                       	#
000487,000064:    4422           00006                           EXTEND                                 	#
000488,000065:    4423           14425                           BZF      U_NOSOF                       	#
000489,000066: 
000490,000067:    4424           14446                           TCF      U_NOCOL                       	#
000491,000068: 
000492,000069:    4425                        U_NOSOF                                                   	#
000493,000070: 
000494,000071:    4425           30100                           CA       CELL_VALUE                    	#
000495,000072:    4426           00006                           EXTEND                                 	#
000496,000073:    4427           60102                           SU       CHK_VALUE                     	#
000497,000074:    4430           00006                           EXTEND                                 	#
000498,000075:    4431           14433                           BZF      U_MATCH                       	#
000499,000076: 
000500,000077:    4432           14446                           TCF      U_NOCOL                       	#
000501,000078: 
000502,000079:    4433                        U_MATCH                                                   	#
000503,000080: 
000504,000081:    4433           50111                           INDEX    CELLCOL                       	#
000505,000082:    4434           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000506,000083: 
000507,000084:    4435           04332                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000508,000085: 
000509,000086:    4436           14446                           TCF      U_NOCOL                       	#
000510,000087:    4437                        MOV_UP                                                    	#
000511,000088: 
000512,000089:    4437           24123                           INCR     PLAY_ID                       	#
000513,000090: 
000514,000091:    4440           30100                           CA       CELL_VALUE                    	#
000515,000092:    4441           50077                           INDEX    CHK_ID                        	#
000516,000093:    4442           54124                           TS       VALUES                        	#
000517,000094: 
000518,000095:    4443           35141                           CA       NEG_ONE                       	#
000519,000096:    4444           50075                           INDEX    CUR_ID                        	#
000520,000097:    4445           54124                           TS       VALUES                        	#
000521,000098: 
000522,000099:    4446                        U_NOCOL                                                   	#
000523,000100: 
000524,000101:    4446           24075                           INCR     CUR_ID                        	#
000525,000102:    4447           30075                           CA       CUR_ID                        	#
000526,000103:    4450           00006                           EXTEND                                 	#
000527,000104:    4451           60115                           SU       END_ID                        	#
000528,000105:    4452           00006                           EXTEND                                 	#
000529,000106:    4453           14455                           BZF      U_NXTRW                       	#
000530,000107: 
000531,000108:    4454           14376                           TCF      U_COLOOP                      	#
000532,000109: 
000533,000110:    4455                        U_NXTRW                                                   	#
000534,000111: 
000535,000112:    4455           54067                           TS       NEWJOB                        	#
000536,000113: 
000537,000114:    4456           35256                           CA       DEC2                          	#
000538,000115:    4457           00006                           EXTEND                                 	#
000539,000116:    4460           60113                           SU       ROW_ID                        	#
000540,000117:    4461           00006                           EXTEND                                 	#
000541,000118:    4462           14310                           BZF      D_DONE                        	#
000542,000119: 
000543,000120: 
000544,000121:    4463           24113                           INCR     ROW_ID                        	#
000545,000122: 
000546,000123:    4464           14371                           TCF      U_ROLOOP                      	#
000547,000124: 
(End of include-file Up.agc, resuming Main.agc)
000548,000057: $Left.agc
000549,000001:                                                                                          	# See Down.agc for detailed explanation of how the code
000550,000002:                                                                                          	# to move and combine numbers works. The only differences between them
000551,000003:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000552,000004: 
000553,000005:    4465                        MOVE_LEFT                                                  	#
000554,000006: 
000555,000007:    4465           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000556,000008:    4466           30112                           CA       GM_DONE                       	# Load game complete status into A
000557,000009:    4467           00006                           EXTEND                                 	#
000558,000010:    4470           14472                           BZF      MOVING_LT                     	# Flag is zero, not complete yet
000559,000011: 
000560,000012:    4471           14070                           TCF      MAINLOOP                      	#
000561,000013: 
000562,000014: 
000563,000015:    4472                        MOVING_LT                                                  	#
000564,000016: 
000565,000017:    4472           35257                           CA       STA_LEFT                      	#
000566,000018:    4473           54101                           TS       GM_STATE                      	#
000567,000019: 
000568,000020:    4474           30007                           CA       ZERO                          	#
000569,000021:    4475           54123                           TS       PLAY_ID                       	#
000570,000022: 
000571,000023:    4476           35255                           CA       DEC1                          	#
000572,000024:    4477           54114                           TS       COL_ID                        	#
000573,000025: 
000574,000026:    4500                        L_COLOOP                                                  	#
000575,000027: 
000576,000028:    4500           50114                           INDEX    COL_ID                        	#
000577,000029:    4501           35303                           CA       COL_STRT                      	#
000578,000030:    4502           54075                           TS       CUR_ID                        	#
000579,000031:    4503           65273                           AD       DEC15                         	#
000580,000032:    4504           54115                           TS       END_ID                        	#
000581,000033: 
000582,000034:    4505                        L_ROLOOP                                                  	#
000583,000035: 
000584,000036:    4505           50075                           INDEX    CUR_ID                        	#
000585,000037:    4506           35335                           CA       GRID_ROW                      	#
000586,000038:    4507           54110                           TS       CELLROW                       	#
000587,000039: 
000588,000040:    4510           50075                           INDEX    CUR_ID                        	#
000589,000041:    4511           30124                           CA       VALUES                        	#
000590,000042:    4512           54100                           TS       CELL_VALUE                    	#
000591,000043:    4513           65255                           AD       DEC1                          	#
000592,000044:    4514           00006                           EXTEND                                 	#
000593,000045:    4515           14555                           BZF      L_NOROW                       	#
000594,000046: 
000595,000047: 
000596,000048:    4516                        CHK_LFT                                                   	#
000597,000049: 
000598,000050:    4516           30075                           CA       CUR_ID                        	#
000599,000051:    4517           65150                           AD       NEG1                          	#
000600,000052:    4520           54077                           TS       CHK_ID                        	#
000601,000053: 
000602,000054:    4521           50077                           INDEX    CHK_ID                        	#
000603,000055:    4522           30124                           CA       VALUES                        	#
000604,000056:    4523           54102                           TS       CHK_VALUE                     	#
000605,000057:    4524           65255                           AD       DEC1                          	#
000606,000058:    4525           00006                           EXTEND                                 	#
000607,000059:    4526           14546                           BZF      MOV_LEFT                      	#
000608,000060: 
000609,000061:    4527                        L_SOMEHR                                                  	#
000610,000062: 
000611,000063:    4527           50110                           INDEX    CELLROW                       	#
000612,000064:    4530           30103                           CA       MATCHMD                       	#
000613,000065:    4531           00006                           EXTEND                                 	#
000614,000066:    4532           14534                           BZF      L_NOMAT                       	#
000615,000067: 
000616,000068:    4533           14555                           TCF      L_NOROW                       	#
000617,000069: 
000618,000070:    4534                        L_NOMAT                                                   	#
000619,000071: 
000620,000072:    4534           30100                           CA       CELL_VALUE                    	#
000621,000073:    4535           00006                           EXTEND                                 	#
000622,000074:    4536           60102                           SU       CHK_VALUE                     	#
000623,000075:    4537           00006                           EXTEND                                 	#
000624,000076:    4540           14542                           BZF      L_MATCH                       	#
000625,000077: 
000626,000078:    4541           14555                           TCF      L_NOROW                       	#
000627,000079: 
000628,000080:    4542                        L_MATCH                                                   	#
000629,000081: 
000630,000082: 
000631,000083:    4542           50110                           INDEX    CELLROW                       	#
000632,000084:    4543           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000633,000085: 
000634,000086:    4544           04332                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000635,000087: 
000636,000088:    4545           14555                           TCF      L_NOROW                       	#
000637,000089:    4546                        MOV_LEFT                                                  	#
000638,000090: 
000639,000091:    4546           24123                           INCR     PLAY_ID                       	#
000640,000092: 
000641,000093:    4547           30100                           CA       CELL_VALUE                    	#
000642,000094:    4550           50077                           INDEX    CHK_ID                        	#
000643,000095:    4551           54124                           TS       VALUES                        	#
000644,000096: 
000645,000097:    4552           35141                           CA       NEG_ONE                       	#
000646,000098:    4553           50075                           INDEX    CUR_ID                        	#
000647,000099:    4554           54124                           TS       VALUES                        	#
000648,000100: 
000649,000101:    4555                        L_NOROW                                                   	#
000650,000102: 
000651,000103:    4555           30075                           CA       CUR_ID                        	#
000652,000104:    4556           65261                           AD       DEC5                          	#
000653,000105:    4557           54075                           TS       CUR_ID                        	#
000654,000106:    4560           00006                           EXTEND                                 	#
000655,000107:    4561           60115                           SU       END_ID                        	#
000656,000108:    4562           00006                           EXTEND                                 	#
000657,000109:    4563           14565                           BZF      L_NXTCOL                      	#
000658,000110: 
000659,000111:    4564           14505                           TCF      L_ROLOOP                      	#
000660,000112: 
000661,000113:    4565                        L_NXTCOL                                                  	#
000662,000114:    4565           54067                           TS       NEWJOB                        	#
000663,000115: 
000664,000116:    4566           35260                           CA       DEC4                          	#
000665,000117:    4567           00006                           EXTEND                                 	#
000666,000118:    4570           60114                           SU       COL_ID                        	#
000667,000119:    4571           00006                           EXTEND                                 	#
000668,000120:    4572           14310                           BZF      D_DONE                        	#
000669,000121: 
000670,000122: 
000671,000123:    4573           24114                           INCR     COL_ID                        	#
000672,000124: 
000673,000125:    4574           14500                           TCF      L_COLOOP                      	#
000674,000126: 
000675,000127: 
(End of include-file Left.agc, resuming Main.agc)
000676,000058: $Right.agc
000677,000001: 
000678,000002:                                                                                          	# See Down.agc for detailed explanation of how the code
000679,000003:                                                                                          	# to move and combine numbers works. The only differences between them
000680,000004:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000681,000005: 
000682,000006:    4575                        MOVE_RT                                                   	#
000683,000007: 
000684,000008:    4575           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000685,000009:    4576           30112                           CA       GM_DONE                       	# Load game complete status into A
000686,000010:    4577           00006                           EXTEND                                 	#
000687,000011:    4600           14602                           BZF      MOVING_RT                     	# Flag is zero, not complete yet
000688,000012: 
000689,000013:    4601           14070                           TCF      MAINLOOP                      	#
000690,000014: 
000691,000015:    4602                        MOVING_RT                                                  	#
000692,000016: 
000693,000017:    4602           35260                           CA       STA_RIGHT                     	#
000694,000018:    4603           54101                           TS       GM_STATE                      	#
000695,000019: 
000696,000020:    4604           30007                           CA       ZERO                          	#
000697,000021:    4605           54123                           TS       PLAY_ID                       	#
000698,000022: 
000699,000023:    4606           35257                           CA       DEC3                          	#
000700,000024:    4607           54114                           TS       COL_ID                        	#
000701,000025: 
000702,000026:    4610                        R_COLOOP                                                  	#
000703,000027: 
000704,000028:    4610           50114                           INDEX    COL_ID                        	#
000705,000029:    4611           35303                           CA       COL_STRT                      	#
000706,000030:    4612           54075                           TS       CUR_ID                        	#
000707,000031:    4613           65273                           AD       DEC15                         	#
000708,000032:    4614           54115                           TS       END_ID                        	#
000709,000033: 
000710,000034:    4615                        R_ROLOOP                                                  	#
000711,000035: 
000712,000036:    4615           50075                           INDEX    CUR_ID                        	#
000713,000037:    4616           35335                           CA       GRID_ROW                      	#
000714,000038:    4617           54110                           TS       CELLROW                       	#
000715,000039: 
000716,000040:    4620           50075                           INDEX    CUR_ID                        	#
000717,000041:    4621           30124                           CA       VALUES                        	#
000718,000042:    4622           54100                           TS       CELL_VALUE                    	#
000719,000043:    4623           65255                           AD       DEC1                          	#
000720,000044:    4624           00006                           EXTEND                                 	#
000721,000045:    4625           14665                           BZF      R_NOROW                       	#
000722,000046: 
000723,000047: 
000724,000048:    4626                        CHK_RT                                                    	#
000725,000049: 
000726,000050:    4626           30075                           CA       CUR_ID                        	#
000727,000051:    4627           65255                           AD       DEC1                          	#
000728,000052:    4630           54077                           TS       CHK_ID                        	#
000729,000053: 
000730,000054:    4631           50077                           INDEX    CHK_ID                        	#
000731,000055:    4632           30124                           CA       VALUES                        	#
000732,000056:    4633           54102                           TS       CHK_VALUE                     	#
000733,000057:    4634           65255                           AD       DEC1                          	#
000734,000058:    4635           00006                           EXTEND                                 	#
000735,000059:    4636           14656                           BZF      MOV_RT                        	#
000736,000060: 
000737,000061:    4637                        R_SOMEHR                                                  	#
000738,000062: 
000739,000063:    4637           50110                           INDEX    CELLROW                       	#
000740,000064:    4640           30103                           CA       MATCHMD                       	#
000741,000065:    4641           00006                           EXTEND                                 	#
000742,000066:    4642           14644                           BZF      R_NOMAT                       	#
000743,000067: 
000744,000068:    4643           14665                           TCF      R_NOROW                       	#
000745,000069: 
000746,000070:    4644                        R_NOMAT                                                   	#
000747,000071: 
000748,000072:    4644           30100                           CA       CELL_VALUE                    	#
000749,000073:    4645           00006                           EXTEND                                 	#
000750,000074:    4646           60102                           SU       CHK_VALUE                     	#
000751,000075:    4647           00006                           EXTEND                                 	#
000752,000076:    4650           14652                           BZF      R_MATCH                       	#
000753,000077: 
000754,000078:    4651           14665                           TCF      R_NOROW                       	#
000755,000079: 
000756,000080:    4652                        R_MATCH                                                   	#
000757,000081: 
000758,000082:    4652           50110                           INDEX    CELLROW                       	#
000759,000083:    4653           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000760,000084: 
000761,000085:    4654           04332                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000762,000086: 
000763,000087:    4655           14665                           TCF      R_NOROW                       	#
000764,000088:    4656                        MOV_RT                                                    	#
000765,000089: 
000766,000090:    4656           24123                           INCR     PLAY_ID                       	#
000767,000091: 
000768,000092:    4657           30100                           CA       CELL_VALUE                    	#
000769,000093:    4660           50077                           INDEX    CHK_ID                        	#
000770,000094:    4661           54124                           TS       VALUES                        	#
000771,000095: 
000772,000096:    4662           35141                           CA       NEG_ONE                       	#
000773,000097:    4663           50075                           INDEX    CUR_ID                        	#
000774,000098:    4664           54124                           TS       VALUES                        	#
000775,000099: 
000776,000100:    4665                        R_NOROW                                                   	#
000777,000101: 
000778,000102:    4665           30075                           CA       CUR_ID                        	#
000779,000103:    4666           65261                           AD       DEC5                          	#
000780,000104:    4667           54075                           TS       CUR_ID                        	#
000781,000105:    4670           00006                           EXTEND                                 	#
000782,000106:    4671           60115                           SU       END_ID                        	#
000783,000107:    4672           00006                           EXTEND                                 	#
000784,000108:    4673           14675                           BZF      R_NXTCOL                      	#
000785,000109: 
000786,000110:    4674           14615                           TCF      R_ROLOOP                      	#
000787,000111: 
000788,000112:    4675                        R_NXTCOL                                                  	#
000789,000113:    4675           54067                           TS       NEWJOB                        	#
000790,000114:    4676           30114                           CA       COL_ID                        	#
000791,000115:    4677           00006                           EXTEND                                 	#
000792,000116:    4700           14310                           BZF      D_DONE                        	#
000793,000117: 
000794,000118:    4701           00006                           EXTEND                                 	#
000795,000119:    4702           26114                           DIM      COL_ID                        	#
000796,000120: 
000797,000121:    4703           14610                           TCF      R_COLOOP                      	#
000798,000122: 
(End of include-file Right.agc, resuming Main.agc)
000799,000059: $Display.agc
000800,000001: 
000801,000002: 
000802,000003:                                                                                          	# DISPLAY ALL 15 SEGMENTS IN THE GAME GRID
000803,000004: 
000804,000005:    4704                        DISP15                                                    	#
000805,000006:    4704           00006                           EXTEND                                 	#
000806,000007:    4705           22071                           QXCH     RET_ADR                       	# Store return address because we TC elsewhere
000807,000008: 
000808,000009:    4706           35262                           CA       DEC6                          	# Do top left cell first as its digit doesn't have a segment partner
000809,000010:    4707           54075                           TS       CUR_ID                        	# Use id for top left cell
000810,000011:    4710           04726                           TC       DISPNUM                       	# Call function to display this digit
000811,000012: 
000812,000013:    4711           24075                           INCR     CUR_ID                        	# Move onto next digit. The rest all come in pairs.
000813,000014: 
000814,000015:    4712                        SEGLOOP                                                   	#
000815,000016: 
000816,000017:    4712           04726                           TC       DISPNUM                       	# Call function to display next two digits.
000817,000018: 
000818,000019:    4713           24075                           INCR     CUR_ID                        	# Inc cell id, it's now +2 from before display call.
000819,000020:    4714           35143                           CA       TWENTY1                       	# Load id of last cell + 1
000820,000021:    4715           00006                           EXTEND                                 	#
000821,000022:    4716           60075                           SU       CUR_ID                        	# Subtract current cell id
000822,000023:    4717           00006                           EXTEND                                 	#
000823,000024:    4720           14723                           BZF      DONE15                        	# If zero, we displayed all cells
000824,000025: 
000825,000026:    4721           54067                           TS       NEWJOB                        	# Nudge watchdog as display code fairly slow
000826,000027: 
000827,000028:    4722           14712                           TCF      SEGLOOP                       	# Loop back to draw the next two segments
000828,000029: 
000829,000030: 
000830,000031:    4723                        DONE15                                                    	#
000831,000032:    4723           00006                           EXTEND                                 	#
000832,000033:    4724           22071                           QXCH     RET_ADR                       	# Retrieve our return address
000833,000034:    4725           00002                           RETURN                                 	# Return to caller (multiple places)
000834,000035: 
000835,000036: 
000836,000037: 
000837,000038: 
000838,000039:    4726                        DISPNUM                                                   	# CUR_ID is the index of next segment to display (0=left prog, 20 = digit 5 bottom row)
000839,000040:                                                                                          	# Print value held in VALUES array to correct segment
000840,000041: 
000841,000042:                                                                                          	# Data is sent to the DSKY via Channel 10 two digits at a time.
000842,000043:                                                                                          	# Bits 10-14 select which pair of digits we want to draw
000843,000044:                                                                                          	# Bits 0-4 selects which digit to draw on the right segment
000844,000045:                                                                                          	# Bits 5-9 selects which digit to draw on the left segment
000845,000046: 
000846,000047:    4726           30007                           CA       ZEROES                        	# Load 0 into accumulator from a fixed rom constant
000847,000048:    4727           54117                           TS       DIGIT_L                       	# Reset left digit calculation to 0 (empty)
000848,000049:    4730           54120                           TS       DIGIT_R                       	# Reset right digit calculation to 0 (empty)
000849,000050: 
000850,000051:    4731           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000851,000052:    4732           35214                           CA       SEG_0                         	# Get which pair of digits this segment belongs to
000852,000053:    4733           54076                           TS       SEG_OUT                       	# Save ID to RAM
000853,000054: 
000854,000055:    4734           50076                           INDEX    SEG_OUT                       	# Index next instruction by segment pair id
000855,000056:    4735           35241                           CA       SEGCODE                       	# Get value required in bits 10-14 to select pair, using id
000856,000057:    4736           54116                           TS       DSKY_OUT                      	# Save to RAM to use later when we have the digit data
000857,000058: 
000858,000059:    4737           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000859,000060:    4740           30124                           CA       VALUES                        	# Get the value in RAM we want to display here
000860,000061:    4741           54061                           TS       TEMPI                         	# Save to temporary RAM variable
000861,000062: 
000862,000063:    4742           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000863,000064:    4743           35167                           CA       LEFTRIGHT                     	# Get whether this segment is left or right of its pair
000864,000065:    4744           00006                           EXTEND                                 	# Extend to use a new Block 2 AGC instruction
000865,000066:    4745           14764                           BZF      SKIPLEFT                      	# If zero (is right), skip the left digit
000866,000067: 
000867,000068:    4746                        CALCLEFT                                                  	#
000868,000069:    4746           50061                           INDEX    TEMPI                         	# Index next instruction by our digit (0-9)
000869,000070:    4747           35155                           CA       DSP0                          	# Get the 5-bit code for this digit to send to DSKY
000870,000071:    4750           54022                           TS       CYL                           	# Transfer it to the shift left register
000871,000072:    4751           30022                           CA       CYL                           	# Shift left no 1
000872,000073:    4752           30022                           CA       CYL                           	# Shift left no 2
000873,000074:    4753           30022                           CA       CYL                           	# Shift left no 3
000874,000075:    4754           30022                           CA       CYL                           	# Shift left no 4
000875,000076:    4755           30022                           CA       CYL                           	# Shift left no 5 (is now in bits 5-9 for the left digit)
000876,000077:    4756           54117                           TS       DIGIT_L                       	# Save to RAM to use later
000877,000078: 
000878,000079:    4757           24075                           INCR     CUR_ID                        	# Move onto the right segment of the pair
000879,000080:    4760           50075                           INDEX    CUR_ID                        	# Index by new segment id
000880,000081:    4761           30124                           CA       VALUES                        	# Get value to display on right digit
000881,000082:    4762           54120                           TS       DIGIT_R                       	# Save to RAM to use later
000882,000083: 
000883,000084:    4763           14766                           TCF      DIDLEFT                       	# Skip the code to set only the right digit if left not drawn
000884,000085: 
000885,000086:    4764                        SKIPLEFT                                                  	#
000886,000087:    4764           30061                           CA       TEMPI                         	# Load the value for this digit to draw on the right of pair
000887,000088:    4765           54120                           TS       DIGIT_R                       	# Store to RAM
000888,000089: 
000889,000090:    4766                        DIDLEFT                                                   	#
000890,000091: 
000891,000092:    4766           50120                           INDEX    DIGIT_R                       	# Index by value of right digit
000892,000093:    4767           35155                           CA       DSP0                          	# Get the 5-bit code for this digit to send to DSKY
000893,000094: 
000894,000095:    4770                        OUTPUT                                                    	#
000895,000096:    4770           60116                           AD       DSKY_OUT                      	# Add bits 10-14
000896,000097:    4771           60117                           AD       DIGIT_L                       	# Add bits 5-9
000897,000098:    4772           00006                           EXTEND                                 	# Extend in order to use I/O channel instruction
000898,000099:    4773           01010                           WRITE    CH10                          	# Send the value to channel 10 to display on DKSY
000899,000100: 
000900,000101:    4774           00002                           RETURN                                 	# Return from subroutine
000901,000102: 
000902,000103: 
000903,000104: 
000904,000105:                                                                                          	#Hold up CPU to delay between movement of numbers to give animation effect
000905,000106: 
000906,000107:    4775           01750        IODELAYT           DEC      1000       B-14               	# This constant is stored in fixed ROM
000907,000108: 
000908,000109:    4776                        IODELAY                                                   	#
000909,000110:    4776           54061                           TS       TEMPI                         	# Save accumulator.
000910,000111:    4777           15000                           NOOP                                   	# Do thing for a bit
000911,000112:    5000           34775                           CA       IODELAYT                      	# Load delay into A
000912,000113:    5001           54067                           TS       NEWJOB                        	# Nudge watchdog as we're in a busy loop
000913,000114:    5002           10000                           CCS      A                             	# Decrement a and compare
000914,000115:    5003           15001                           TCF      -2                            	# >0 so jump back up to TS NEWJOB
000915,000116:    5004           30061                           CA       TEMPI                         	# Restore accumulator.
000916,000117:    5005           00002                           RETURN                                 	# Return to where delay was asked for
(End of include-file Display.agc, resuming Main.agc)
000917,000060: $Interrupts.agc
000918,000001: 
000919,000002:    5006                                           BLOCK    02                            	#
000920,000003:    5006                        T3RUPT                                                    	#
000921,000004:    5006           35134                           CAF      O37774                        	# Schedule another TIME3 interrupt
000922,000005:    5007           54026                           TS       TIME3                         	# ... and don't do anything else, yet...
000923,000006: 
000924,000007:    5010           24074                           INCR     COUNTER                       	# Increment counter for random number generation
000925,000008: 
000926,000009:    5011           52011        RESUME             DXCH     ARUPT                         	# Restore A, L, and Q, and exit the interrupt
000927,000010:    5012           00006                           EXTEND                                 	#
000928,000011:    5013           22012                           QXCH     QRUPT                         	#
000929,000012:    5014           50017                           RESUME                                 	#
(End of include-file Interrupts.agc, resuming Main.agc)
000930,000061: $Input.agc
000931,000001:    5015                        KEYRUPT1                                                  	# Triggered automatically when a key is pressed
000932,000002: 
000933,000003:    5015           35131                           CA       NOKEY                         	# Load code for 'NO KEY PRESSED'
000934,000004:    5016           54070                           TS       KEYBUF                        	# Clear key buffer so we don't persist presses from when they are not wanted
000935,000005: 
000936,000006:    5017           30073                           CA       ACTIVE                        	# Load whether game is active
000937,000007:    5020           00006                           EXTEND                                 	#
000938,000008:    5021           15026                           BZF      CAN_READ                      	# If not active, we can accept key press to start the game
000939,000009: 
000940,000010:    5022           30101                           CA       GM_STATE                      	# Load game state into A
000941,000011:    5023           00006                           EXTEND                                 	#
000942,000012:    5024           15026                           BZF      CAN_READ                      	# If not 'check_key', we don't care about key presses
000943,000013: 
000944,000014:    5025           15032                           TCF      EXITRUPT                      	# Exit, we're not listening for key presses while processing happens
000945,000015: 
000946,000016:    5026                        CAN_READ                                                  	#
000947,000017: 
000948,000018:    5026           00006                           EXTEND                                 	#
000949,000019:    5027           00015                           READ     CH15                          	# Read I/O channel that contains the keycode
000950,000020:    5030           75133                           MASK     LOW5                          	# Retain only lower 5 bits
000951,000021:    5031           54070                           TS       KEYBUF                        	# Store into keyboard buffer variable for main loop to pick up
000952,000022: 
000953,000023:    5032                        EXITRUPT                                                  	#
000954,000024:    5032           30007                           CA       ZEROES                        	# Clear the input channel
000955,000025:    5033           00006                           EXTEND                                 	#
000956,000026:    5034           01015                           WRITE    CH15                          	#
000957,000027: 
000958,000028:    5035           52011                           DXCH     ARUPT                         	# Restore A, L, and Q, and exit the interrupt
000959,000029:    5036           00006                           EXTEND                                 	#
000960,000030:    5037           22012                           QXCH     QRUPT                         	#
000961,000031:    5040           50017                           RESUME                                 	#
000962,000032: 
000963,000033: 
000964,000034: 
000965,000035: 
000966,000036:    5041                        WAITKEY                                                   	# Waiting for any key press to start game
000967,000037:                                                                                          	# If we didn't wait, the RNG would always start in same state
000968,000038: 
000969,000039:    5041           35131                           CA       NOKEY                         	# Load key code for 'no key pressed'
000970,000040:    5042           00006                           EXTEND                                 	#
000971,000041:    5043           60070                           SU       KEYBUF                        	# Subtract the key code read
000972,000042:    5044           00006                           EXTEND                                 	#
000973,000043:    5045           15052                           BZF      WAITMORE                      	# If zero, nothing pressed, continue waiting
000974,000044: 
000975,000045:    5046           35131                           CA       NOKEY                         	# Clear keyboard buffer so not carried into game
000976,000046:    5047           54070                           TS       KEYBUF                        	#
000977,000047: 
000978,000048:    5050           35261                           CA       STA_ADD                       	# Set game state to add the two starting numbers and exit
000979,000049:    5051           54101                           TS       GM_STATE                      	#
000980,000050: 
000981,000051:    5052                        WAITMORE                                                  	#
000982,000052:    5052           14070                           TCF      MAINLOOP                      	#
000983,000053: 
000984,000054: 
000985,000055: 
000986,000056:    5053                        CHECK_KEY                                                  	# Check whether key press in buffer from interrupt
000987,000057: 
000988,000058:    5053           35131                           CA       NOKEY                         	# Load key code for nothing pressed into A
000989,000059:    5054           56070                           XCH      KEYBUF                        	# Swap A and buffer. A is now key code and buffer is clear.
000990,000060:    5055           50000                           INDEX    A                             	# Index using the keycode
000991,000061:    5056           15057                           TCF      KEYTABL                       	# Into a jump table with jumps for each possible key
000992,000062: 
000993,000063:                                                                                          	# We ignore all presses except for 2, 4, 6, 8 for game control and ENTER/RESTART to reset game.
000994,000064:    5057                        KEYTABL                                                   	#
000995,000065:    5057           15120                           TCF      ENDKYCK                       	# unused
000996,000066:    5060           15120                           TCF      ENDKYCK                       	# 1
000997,000067:    5061           14210                           TCF      MOVE_DOWN                     	# 2
000998,000068:    5062           15120                           TCF      ENDKYCK                       	# 3
000999,000069:    5063           14465                           TCF      MOVE_LEFT                     	# 4
001000,000070:    5064           15120                           TCF      ENDKYCK                       	# 5
001001,000071:    5065           14575                           TCF      MOVE_RT                       	# 6
001002,000072:    5066           15120                           TCF      ENDKYCK                       	# 7
001003,000073:    5067           14356                           TCF      MOVE_UP                       	# 8
001004,000074:    5070           15120                           TCF      ENDKYCK                       	# 9
001005,000075:    5071           15120                           TCF      ENDKYCK                       	# unused
001006,000076:    5072           15120                           TCF      ENDKYCK                       	# unused
001007,000077:    5073           15120                           TCF      ENDKYCK                       	# unused
001008,000078:    5074           15120                           TCF      ENDKYCK                       	# unused
001009,000079:    5075           15120                           TCF      ENDKYCK                       	# unused
001010,000080:    5076           15120                           TCF      ENDKYCK                       	# unused
001011,000081:    5077           15120                           TCF      ENDKYCK                       	# 0
001012,000082:    5100           15120                           TCF      ENDKYCK                       	# VERB
001013,000083:    5101           14054                           TCF      INIT                          	# RSET
001014,000084:    5102           15120                           TCF      ENDKYCK                       	# unused
001015,000085:    5103           15120                           TCF      ENDKYCK                       	# unused
001016,000086:    5104           15120                           TCF      ENDKYCK                       	# unused
001017,000087:    5105           15120                           TCF      ENDKYCK                       	# unused
001018,000088:    5106           15120                           TCF      ENDKYCK                       	# unused
001019,000089:    5107           15120                           TCF      ENDKYCK                       	# unused
001020,000090:    5110           15120                           TCF      ENDKYCK                       	# KEY REL
001021,000091:    5111           15120                           TCF      ENDKYCK                       	# +
001022,000092:    5112           15120                           TCF      ENDKYCK                       	# -
001023,000093:    5113           14054                           TCF      INIT                          	# ENTR
001024,000094:    5114           15120                           TCF      ENDKYCK                       	# unused
001025,000095:    5115           15120                           TCF      ENDKYCK                       	# CLR
001026,000096:    5116           15120                           TCF      ENDKYCK                       	# NOUN
001027,000097:    5117           15120                           TCF      ENDKYCK                       	# NOKEY
001028,000098: 
001029,000099:    5120                        ENDKYCK                                                   	#
001030,000100:    5120           14070                           TCF      MAINLOOP                      	# When we do nothing, just exit back to main loop to wait for a valid key
001031,000101: 
(End of include-file Input.agc, resuming Main.agc)
001032,000062: $Random.agc
001033,000001: 
001034,000002:    5121                        RANDOM                                                    	#
001035,000003: 
001036,000004:                                                                                          	# I tried various methods for generating 'random' numbers. Most traditional methods are designed
001037,000005:                                                                                          	# for 8-bit or 16-bit hardware, and the various xor 'magic numbers' are particular to that paradigm.
001038,000006:                                                                                          	# I'm not patient enough to find values that might work. Using a fast-moving index into a lookup
001039,000007:                                                                                          	# table should be 'good enough' for a game.
001040,000008: 
001041,000009: 
001042,000010:    5121           30025                           CA       TIME1                         	# Load a register that is updated very often by the hardware
001043,000011:    5122           60074                           AD       COUNTER                       	# Add previous value of counter in case we were so quick TIME1 didn't change
001044,000012:    5123           75144                           MASK     MASK128                       	# Mask value so now between 0-127.
001045,000013:    5124           54074                           TS       COUNTER                       	# Store this as new counter
001046,000014:    5125           50074                           INDEX    COUNTER                       	# Index using value between 0-127
001047,000015:    5126           35362                           CA       RAND1                         	# Into a table of random numbers between 0 and 9 (generated in Excel)
001048,000016:    5127           24074                           INCR     COUNTER                       	# Move counter on one so next index unlikely to be the same
001049,000017: 
001050,000018: 
001051,000019:    5130           00002                           RETURN                                 	#
001052,000020: 
001053,000021: 
(End of include-file Random.agc, resuming Main.agc)
001054,000063: 
001055,000064: $Constants.agc
001056,000001:                                                                                          	# The AGC does not support 'immediate mode', where you can embed a fixed value into the operand.
001057,000002:                                                                                          	# So where you might do lda #48 in 6502 to load 48 into A, here 48 must be present somewhere in RAM
001058,000003:                                                                                          	# or ROM so that it has an address we can reference in 'CA MYCONSTANT'.
001059,000004:                                                                                          	# So these constants are stored in the ROM itself as data to be lookup up when needed.
001060,000005: 
001061,000006:                                                                                          	#-----------------------------------------------------------------------
001062,000007:                                                                                          	# Constants and read-only memory.
001063,000008: 
001064,000009:                                                                                          	# Names of CPU registers.
001065,000010:    5131                        A                  EQUALS   0                             	#
001066,000011:    5131                        L                  EQUALS   1                             	# L AND Q ARE BOTH CHANNELS AND REGISTERS.
001067,000012:    5131                        Q                  EQUALS   2                             	#
001068,000013:    5131                        EBANK              EQUALS   3                             	#
001069,000014:    5131                        FBANK              EQUALS   4                             	#
001070,000015:    5131                        Z                  EQUALS   5                             	# ADJACENT TO FBANK AND BBANK FOR DXCH Z
001071,000016:    5131                        BBANK              EQUALS   6                             	# (DTCB) AND DXCH FBANK (DTCF).
001072,000017:    5131                        ZEROES             EQUALS   7                             	# REGISTER 7 IS A ZERO-SOURCE, USED BY ZL.
001073,000018:    5131                        ARUPT              EQUALS   10                            	# INTERRUPT STORAGE.
001074,000019:    5131                        LRUPT              EQUALS   11                            	#
001075,000020:    5131                        QRUPT              EQUALS   12                            	#
001076,000021:    5131                        SAMPTIME           EQUALS   13                            	# SAMPLED TIME 1 & 2.
001077,000022:    5131                        ZRUPT              EQUALS   15                            	# (13 AND 14 ARE SPARES.)
001078,000023:    5131                        BANKRUPT           EQUALS   16                            	# USUALLY HOLDS FBANK OR BBANK.
001079,000024:    5131                        BRUPT              EQUALS   17                            	# RESUME ADDRESS AS WELL.
001080,000025:    5131                        CYR                EQUALS   20                            	#
001081,000026:    5131                        SR                 EQUALS   21                            	#
001082,000027:    5131                        CYL                EQUALS   22                            	#
001083,000028:    5131                        EDOP               EQUALS   23                            	#
001084,000029: 
001085,000030: 
001086,000031:    5131                        CH10               EQUALS   10                            	#
001087,000032:    5131                        CH11               EQUALS   11                            	#
001088,000033:    5131                        CH12               EQUALS   12                            	#
001089,000034:    5131                        CH15               EQUALS   15                            	#
001090,000035:    5131                        CH32               EQUALS   32                            	#
001091,000036:    5131                        CH13               EQUALS   13                            	#
001092,000037:    5131           00040        NOKEY              OCT      40                            	#
001093,000038: 
001094,000039:    5132           40000        BIT15              DEC      16384      B-14               	#
001095,000040:    5133  0000007               ZERO               EQUALS   ZEROES                        	#
001096,000041: 
001097,000042: 
001098,000043:    5133           00037        LOW5               OCT      37                            	#
001099,000044: 
001100,000045:    5134           37774        O37774             OCT      37774                         	#
001101,000046:    5135           37777        O37777             OCT      37777                         	#
001102,000047: 
001103,000048:    5136           00012        TEN                DEC      10         B-14               	#
001104,000049:    5137           00034        CLEARBTN           DEC      28         B-14               	#
001105,000050:    5140           00022        RESETBTN           DEC      18         B-14               	#
001106,000051:    5141           77776        NEG_ONE            DEC      -1         B-14               	#
001107,000052: 
001108,000053:    5142           00024        TWENTY             DEC      20         B-14               	#
001109,000054:    5143           00025        TWENTY1            DEC      21         B-14               	#
001110,000055:    5144           00177        MASK128            DEC      127        B-14               	#
001111,000056:    5145           00017        MASK15             DEC      15         B-14               	#
001112,000057:    5146           00400        TWO56              DEC      256        B-14               	#
001113,000058:    5147           00016        FOURTEEN           DEC      14         B-14               	#
001114,000059: 
001115,000060:    5150           77776        NEG1               DEC      -1         B-14               	#
001116,000061:    5151           77775        NEG2               DEC      -2         B-14               	#
001117,000062:    5152           77772        NEG5               DEC      -5         B-14               	#
001118,000063:    5153           00176        BIT5               DEC      126        B-14               	#
001119,000064: 
001120,000065: 
(End of include-file Constants.agc, resuming Main.agc)
001121,000065: $Tables.agc
001122,000001: 
001123,000002:                                                                                          	# Because constants are held in fixed memory (ROM), we can organise them consecutively
001124,000003:                                                                                          	# and use them as handy lookup tables
001125,000004: 
001126,000005:                                                                                          	# For each possible digit (blank, 0-9), the 5-bit code we need to send to the DSKY.
001127,000006: 
001128,000007:    5154           00000        DSPBLANK           OCT      0                             	#
001129,000008:    5155           00025        DSP0               OCT      25                            	#
001130,000009:    5156           00003        DSP1               OCT      3                             	#
001131,000010:    5157           00031        DSP2               OCT      31                            	#
001132,000011:    5160           00033        DSP3               OCT      33                            	#
001133,000012:    5161           00017        DSP4               OCT      17                            	#
001134,000013:    5162           00036        DSP5               OCT      36                            	#
001135,000014:    5163           00034        DSP6               OCT      34                            	#
001136,000015:    5164           00023        DSP7               OCT      23                            	#
001137,000016:    5165           00035        DSP8               OCT      35                            	#
001138,000017:    5166           00037        DSP9               OCT      37                            	#
001139,000018: 
001140,000019:                                                                                          	# For each of the 21 display digits, is it left (1) or right (0) of the pair?
001141,000020: 
001142,000021:    5167           00001        LEFTRIGHT           DEC      1          B-14               	#
001143,000022:    5170           00000        LR1                DEC      0          B-14               	#
001144,000023:    5171           00001        LR2                DEC      1          B-14               	#
001145,000024:    5172           00000        LR3                DEC      0          B-14               	#
001146,000025:    5173           00001        LR4                DEC      1          B-14               	#
001147,000026:    5174           00000        LR5                DEC      0          B-14               	#
001148,000027:    5175           00000        LR6                DEC      0          B-14               	#
001149,000028:    5176           00001        LR7                DEC      1          B-14               	#
001150,000029:    5177           00000        LR8                DEC      0          B-14               	#
001151,000030:    5200           00001        LR9                DEC      1          B-14               	#
001152,000031:    5201           00000        LR10               DEC      0          B-14               	#
001153,000032:    5202           00001        LR11               DEC      1          B-14               	#
001154,000033:    5203           00000        LR12               DEC      0          B-14               	#
001155,000034:    5204           00001        LR13               DEC      1          B-14               	#
001156,000035:    5205           00000        LR14               DEC      0          B-14               	#
001157,000036:    5206           00001        LR15               DEC      1          B-14               	#
001158,000037:    5207           00000        LR16               DEC      0          B-14               	#
001159,000038:    5210           00001        LR17               DEC      1          B-14               	#
001160,000039:    5211           00000        LR18               DEC      0          B-14               	#
001161,000040:    5212           00001        LR19               DEC      1          B-14               	#
001162,000041:    5213           00000        LR20               DEC      0          B-14               	#
001163,000042: 
001164,000043:                                                                                          	# For each of the 21 display digits, which pair of segments does it belong to?
001165,000044: 
001166,000045:    5214           00000        SEG_0              DEC      00         B-14               	#
001167,000046:    5215           00000        SEG_1              DEC      00         B-14               	#
001168,000047:    5216           00001        SEG_2              DEC      01         B-14               	#
001169,000048:    5217           00001        SEG_3              DEC      01         B-14               	#
001170,000049:    5220           00002        SEG_4              DEC      02         B-14               	#
001171,000050:    5221           00002        SEG_5              DEC      02         B-14               	#
001172,000051:    5222           00003        SEG_6              DEC      03         B-14               	#
001173,000052:    5223           00004        SEG_7              DEC      04         B-14               	#
001174,000053:    5224           00004        SEG_8              DEC      04         B-14               	#
001175,000054:    5225           00005        SEG_9              DEC      05         B-14               	#
001176,000055:    5226           00005        SEG_10             DEC      05         B-14               	#
001177,000056:    5227           00006        SEG_11             DEC      06         B-14               	#
001178,000057:    5230           00006        SEG_12             DEC      06         B-14               	#
001179,000058:    5231           00007        SEG_13             DEC      07         B-14               	#
001180,000059:    5232           00007        SEG_14             DEC      07         B-14               	#
001181,000060:    5233           00010        SEG_15             DEC      08         B-14               	#
001182,000061:    5234           00010        SEG_16             DEC      08         B-14               	#
001183,000062:    5235           00011        SEG_17             DEC      09         B-14               	#
001184,000063:    5236           00011        SEG_18             DEC      09         B-14               	#
001185,000064:    5237           00012        SEG_19             DEC      10         B-14               	#
001186,000065:    5240           00012        SEG_20             DEC      10         B-14               	#
001187,000066: 
001188,000067: 
001189,000068:                                                                                          	# Lookup bits 10-14 to select the segement pair in Channel 10 WRITE
001190,000069: 
001191,000070: 
001192,000071:    5241           54000        SEGCODE            OCT      54000                         	#
001193,000072:    5242           50000        VERBLR             OCT      50000                         	#
001194,000073:    5243           44000        NOUNLR             OCT      44000                         	#
001195,000074:    5244           40000        TOP1               OCT      40000                         	#
001196,000075:    5245           34000        TOP23              OCT      34000                         	#
001197,000076:    5246           30000        TOP45              OCT      30000                         	#
001198,000077:    5247           24000        MID12              OCT      24000                         	#
001199,000078:    5250           20000        MID34              OCT      20000                         	#
001200,000079:    5251           14000        MID5BOT1           OCT      14000                         	#
001201,000080:    5252           10000        BOT23              OCT      10000                         	#
001202,000081:    5253           04000        BOT45              OCT      4000                          	#
001203,000082: 
001204,000083: 
001205,000084: 
001206,000085:                                                                                          	# Decimal table for easy loading into A
001207,000086: 
001208,000087:    5254           00000        DIGITS             DEC      0          B-14               	#
001209,000088:    5255           00001        DEC1               DEC      1          B-14               	#
001210,000089:    5256           00002        DEC2               DEC      2          B-14               	#
001211,000090:    5257           00003        DEC3               DEC      3          B-14               	#
001212,000091:    5260           00004        DEC4               DEC      4          B-14               	#
001213,000092:    5261           00005        DEC5               DEC      5          B-14               	#
001214,000093:    5262           00006        DEC6               DEC      6          B-14               	#
001215,000094:    5263           00007        DEC7               DEC      7          B-14               	#
001216,000095:    5264           00010        DEC8               DEC      8          B-14               	#
001217,000096:    5265           00011        DEC9               DEC      9          B-14               	#
001218,000097:    5266           00012        DEC10              DEC      10         B-14               	#
001219,000098:    5267           00013        DEC11              DEC      11         B-14               	#
001220,000099:    5270           00014        DEC12              DEC      12         B-14               	#
001221,000100:    5271           00015        DEC13              DEC      13         B-14               	#
001222,000101:    5272           00016        DEC14              DEC      14         B-14               	#
001223,000102:    5273           00017        DEC15              DEC      15         B-14               	#
001224,000103:    5274           00020        DEC16              DEC      16         B-14               	#
001225,000104:    5275           00021        DEC17              DEC      17         B-14               	#
001226,000105:    5276           00022        DEC18              DEC      18         B-14               	#
001227,000106:    5277           00023        DEC19              DEC      19         B-14               	#
001228,000107: 
001229,000108:                                                                                          	# Game state constants, re-using some of the above
001230,000109: 
001231,000110:    5300     5254               STA_INPUT           EQUALS   DIGITS                        	#
001232,000111:    5300     5255               STA_DOWN           EQUALS   DEC1                          	#
001233,000112:    5300     5256               STA_UP             EQUALS   DEC2                          	#
001234,000113:    5300     5257               STA_LEFT           EQUALS   DEC3                          	#
001235,000114:    5300     5260               STA_RIGHT           EQUALS   DEC4                          	#
001236,000115:    5300     5261               STA_ADD            EQUALS   DEC5                          	#
001237,000116:    5300     5262               STA_WAIT           EQUALS   DEC6                          	#
001238,000117: 
001239,000118: 
001240,000119: 
001241,000120:                                                                                          	# For each grid row, which segment ID does it start at?
001242,000121: 
001243,000122:    5300           00006        ROW_STRT           DEC      6          B-14               	#
001244,000123:    5301           00013        ROW_STRT2           DEC      11         B-14               	#
001245,000124:    5302           00020        ROW_STRT3           DEC      16         B-14               	#
001246,000125: 
001247,000126:                                                                                          	# For each grid column, which segment ID does it start at?
001248,000127: 
001249,000128:    5303           00006        COL_STRT           DEC      6          B-14               	#
001250,000129:    5304           00007        COL_STRT2           DEC      7          B-14               	#
001251,000130:    5305           00010        COL_STRT3           DEC      8          B-14               	#
001252,000131:    5306           00011        COL_STRT4           DEC      9          B-14               	#
001253,000132:    5307           00012        COL_STRT5           DEC      10         B-14               	#
001254,000133: 
001255,000134:                                                                                          	# For each grid cell, which column does it belong to (0-5 ignored)
001256,000135: 
001257,000136:    5310           00000        GRID_COL           DEC      0          B-14               	#
001258,000137:    5311           00000        GRID_CM5           DEC      0          B-14               	#
001259,000138:    5312           00000        GRID_CM4           DEC      0          B-14               	#
001260,000139:    5313           00000        GRID_CM3           DEC      0          B-14               	#
001261,000140:    5314           00000        GRID_CM2           DEC      0          B-14               	#
001262,000141:    5315           00000        GRID_CM1           DEC      0          B-14               	#
001263,000142:    5316           00000        GRID_C0            DEC      0          B-14               	#
001264,000143:    5317           00001        GRID_C1            DEC      1          B-14               	#
001265,000144:    5320           00002        GRID_C2            DEC      2          B-14               	#
001266,000145:    5321           00003        GRID_C3            DEC      3          B-14               	#
001267,000146:    5322           00004        GRID_C4            DEC      4          B-14               	#
001268,000147:    5323           00000        GRID_C5            DEC      0          B-14               	#
001269,000148:    5324           00001        GRID_C6            DEC      1          B-14               	#
001270,000149:    5325           00002        GRID_C7            DEC      2          B-14               	#
001271,000150:    5326           00003        GRID_C8            DEC      3          B-14               	#
001272,000151:    5327           00004        GRID_C9            DEC      4          B-14               	#
001273,000152:    5330           00000        GRID_C10           DEC      0          B-14               	#
001274,000153:    5331           00001        GRID_C11           DEC      1          B-14               	#
001275,000154:    5332           00002        GRID_C12           DEC      2          B-14               	#
001276,000155:    5333           00003        GRID_C13           DEC      3          B-14               	#
001277,000156:    5334           00004        GRID_C14           DEC      4          B-14               	#
001278,000157: 
001279,000158:                                                                                          	# For each grid cell, which ro wdoes it belong to (0-5 ignored)
001280,000159: 
001281,000160:    5335           00000        GRID_ROW           DEC      0          B-14               	#
001282,000161:    5336           00000        GRID_RM5           DEC      0          B-14               	#
001283,000162:    5337           00000        GRID_RM4           DEC      0          B-14               	#
001284,000163:    5340           00000        GRID_RM3           DEC      0          B-14               	#
001285,000164:    5341           00000        GRID_RM2           DEC      0          B-14               	#
001286,000165:    5342           00000        GRID_RM1           DEC      0          B-14               	#
001287,000166:    5343           00000        GRID_R0            DEC      0          B-14               	#
001288,000167:    5344           00000        GRID_R1            DEC      0          B-14               	#
001289,000168:    5345           00000        GRID_R2            DEC      0          B-14               	#
001290,000169:    5346           00000        GRID_R3            DEC      0          B-14               	#
001291,000170:    5347           00000        GRID_R4            DEC      0          B-14               	#
001292,000171:    5350           00001        GRID_R5            DEC      1          B-14               	#
001293,000172:    5351           00001        GRID_R6            DEC      1          B-14               	#
001294,000173:    5352           00001        GRID_R7            DEC      1          B-14               	#
001295,000174:    5353           00001        GRID_R8            DEC      1          B-14               	#
001296,000175:    5354           00001        GRID_R9            DEC      1          B-14               	#
001297,000176:    5355           00002        GRID_R10           DEC      2          B-14               	#
001298,000177:    5356           00002        GRID_R11           DEC      2          B-14               	#
001299,000178:    5357           00002        GRID_R12           DEC      2          B-14               	#
001300,000179:    5360           00002        GRID_R13           DEC      2          B-14               	#
001301,000180:    5361           00002        GRID_R14           DEC      2          B-14               	#
001302,000181: 
001303,000182:                                                                                          	# Table of 128 'random' numbers between 0-9 that we can index into
001304,000183: 
001305,000184:    5362           00005        RAND1              DEC      5          B-14               	#
001306,000185:    5363           00002        RAND2              DEC      2          B-14               	#
001307,000186:    5364           00000        RAND3              DEC      0          B-14               	#
001308,000187:    5365           00002        RAND4              DEC      2          B-14               	#
001309,000188:    5366           00011        RAND5              DEC      9          B-14               	#
001310,000189:    5367           00004        RAND6              DEC      4          B-14               	#
001311,000190:    5370           00005        RAND7              DEC      5          B-14               	#
001312,000191:    5371           00001        RAND8              DEC      1          B-14               	#
001313,000192:    5372           00000        RAND9              DEC      0          B-14               	#
001314,000193:    5373           00003        RAND10             DEC      3          B-14               	#
001315,000194:    5374           00011        RAND11             DEC      9          B-14               	#
001316,000195:    5375           00005        RAND12             DEC      5          B-14               	#
001317,000196:    5376           00006        RAND13             DEC      6          B-14               	#
001318,000197:    5377           00007        RAND14             DEC      7          B-14               	#
001319,000198:    5400           00007        RAND15             DEC      7          B-14               	#
001320,000199:    5401           00001        RAND16             DEC      1          B-14               	#
001321,000200:    5402           00006        RAND17             DEC      6          B-14               	#
001322,000201:    5403           00005        RAND18             DEC      5          B-14               	#
001323,000202:    5404           00007        RAND19             DEC      7          B-14               	#
001324,000203:    5405           00004        RAND20             DEC      4          B-14               	#
001325,000204:    5406           00005        RAND21             DEC      5          B-14               	#
001326,000205:    5407           00002        RAND22             DEC      2          B-14               	#
001327,000206:    5410           00000        RAND23             DEC      0          B-14               	#
001328,000207:    5411           00005        RAND24             DEC      5          B-14               	#
001329,000208:    5412           00011        RAND25             DEC      9          B-14               	#
001330,000209:    5413           00006        RAND26             DEC      6          B-14               	#
001331,000210:    5414           00005        RAND27             DEC      5          B-14               	#
001332,000211:    5415           00007        RAND28             DEC      7          B-14               	#
001333,000212:    5416           00005        RAND29             DEC      5          B-14               	#
001334,000213:    5417           00006        RAND30             DEC      6          B-14               	#
001335,000214:    5420           00000        RAND31             DEC      0          B-14               	#
001336,000215:    5421           00006        RAND32             DEC      6          B-14               	#
001337,000216:    5422           00011        RAND33             DEC      9          B-14               	#
001338,000217:    5423           00004        RAND34             DEC      4          B-14               	#
001339,000218:    5424           00002        RAND35             DEC      2          B-14               	#
001340,000219:    5425           00005        RAND36             DEC      5          B-14               	#
001341,000220:    5426           00011        RAND37             DEC      9          B-14               	#
001342,000221:    5427           00011        RAND38             DEC      9          B-14               	#
001343,000222:    5430           00002        RAND39             DEC      2          B-14               	#
001344,000223:    5431           00000        RAND40             DEC      0          B-14               	#
001345,000224:    5432           00007        RAND41             DEC      7          B-14               	#
001346,000225:    5433           00006        RAND42             DEC      6          B-14               	#
001347,000226:    5434           00000        RAND43             DEC      0          B-14               	#
001348,000227:    5435           00005        RAND44             DEC      5          B-14               	#
001349,000228:    5436           00006        RAND45             DEC      6          B-14               	#
001350,000229:    5437           00001        RAND46             DEC      1          B-14               	#
001351,000230:    5440           00007        RAND47             DEC      7          B-14               	#
001352,000231:    5441           00007        RAND48             DEC      7          B-14               	#
001353,000232:    5442           00002        RAND49             DEC      2          B-14               	#
001354,000233:    5443           00004        RAND50             DEC      4          B-14               	#
001355,000234:    5444           00011        RAND51             DEC      9          B-14               	#
001356,000235:    5445           00006        RAND52             DEC      6          B-14               	#
001357,000236:    5446           00011        RAND53             DEC      9          B-14               	#
001358,000237:    5447           00000        RAND54             DEC      0          B-14               	#
001359,000238:    5450           00003        RAND55             DEC      3          B-14               	#
001360,000239:    5451           00005        RAND56             DEC      5          B-14               	#
001361,000240:    5452           00001        RAND57             DEC      1          B-14               	#
001362,000241:    5453           00004        RAND58             DEC      4          B-14               	#
001363,000242:    5454           00007        RAND59             DEC      7          B-14               	#
001364,000243:    5455           00001        RAND60             DEC      1          B-14               	#
001365,000244:    5456           00002        RAND61             DEC      2          B-14               	#
001366,000245:    5457           00007        RAND62             DEC      7          B-14               	#
001367,000246:    5460           00002        RAND63             DEC      2          B-14               	#
001368,000247:    5461           00001        RAND64             DEC      1          B-14               	#
001369,000248:    5462           00005        RAND65             DEC      5          B-14               	#
001370,000249:    5463           00010        RAND66             DEC      8          B-14               	#
001371,000250:    5464           00001        RAND67             DEC      1          B-14               	#
001372,000251:    5465           00007        RAND68             DEC      7          B-14               	#
001373,000252:    5466           00007        RAND69             DEC      7          B-14               	#
001374,000253:    5467           00003        RAND70             DEC      3          B-14               	#
001375,000254:    5470           00003        RAND71             DEC      3          B-14               	#
001376,000255:    5471           00004        RAND72             DEC      4          B-14               	#
001377,000256:    5472           00005        RAND73             DEC      5          B-14               	#
001378,000257:    5473           00005        RAND74             DEC      5          B-14               	#
001379,000258:    5474           00005        RAND75             DEC      5          B-14               	#
001380,000259:    5475           00006        RAND76             DEC      6          B-14               	#
001381,000260:    5476           00006        RAND77             DEC      6          B-14               	#
001382,000261:    5477           00006        RAND78             DEC      6          B-14               	#
001383,000262:    5500           00010        RAND79             DEC      8          B-14               	#
001384,000263:    5501           00006        RAND80             DEC      6          B-14               	#
001385,000264:    5502           00005        RAND81             DEC      5          B-14               	#
001386,000265:    5503           00001        RAND82             DEC      1          B-14               	#
001387,000266:    5504           00007        RAND83             DEC      7          B-14               	#
001388,000267:    5505           00010        RAND84             DEC      8          B-14               	#
001389,000268:    5506           00001        RAND85             DEC      1          B-14               	#
001390,000269:    5507           00011        RAND86             DEC      9          B-14               	#
001391,000270:    5510           00003        RAND87             DEC      3          B-14               	#
001392,000271:    5511           00000        RAND88             DEC      0          B-14               	#
001393,000272:    5512           00003        RAND89             DEC      3          B-14               	#
001394,000273:    5513           00007        RAND90             DEC      7          B-14               	#
001395,000274:    5514           00002        RAND91             DEC      2          B-14               	#
001396,000275:    5515           00005        RAND92             DEC      5          B-14               	#
001397,000276:    5516           00001        RAND93             DEC      1          B-14               	#
001398,000277:    5517           00000        RAND94             DEC      0          B-14               	#
001399,000278:    5520           00011        RAND95             DEC      9          B-14               	#
001400,000279:    5521           00001        RAND96             DEC      1          B-14               	#
001401,000280:    5522           00011        RAND97             DEC      9          B-14               	#
001402,000281:    5523           00005        RAND98             DEC      5          B-14               	#
001403,000282:    5524           00006        RAND99             DEC      6          B-14               	#
001404,000283:    5525           00006        RAND100            DEC      6          B-14               	#
001405,000284:    5526           00011        RAND101            DEC      9          B-14               	#
001406,000285:    5527           00010        RAND102            DEC      8          B-14               	#
001407,000286:    5530           00001        RAND103            DEC      1          B-14               	#
001408,000287:    5531           00007        RAND104            DEC      7          B-14               	#
001409,000288:    5532           00003        RAND105            DEC      3          B-14               	#
001410,000289:    5533           00006        RAND106            DEC      6          B-14               	#
001411,000290:    5534           00007        RAND107            DEC      7          B-14               	#
001412,000291:    5535           00006        RAND108            DEC      6          B-14               	#
001413,000292:    5536           00001        RAND109            DEC      1          B-14               	#
001414,000293:    5537           00004        RAND110            DEC      4          B-14               	#
001415,000294:    5540           00011        RAND111            DEC      9          B-14               	#
001416,000295:    5541           00000        RAND112            DEC      0          B-14               	#
001417,000296:    5542           00002        RAND113            DEC      2          B-14               	#
001418,000297:    5543           00005        RAND114            DEC      5          B-14               	#
001419,000298:    5544           00004        RAND115            DEC      4          B-14               	#
001420,000299:    5545           00005        RAND116            DEC      5          B-14               	#
001421,000300:    5546           00000        RAND117            DEC      0          B-14               	#
001422,000301:    5547           00000        RAND118            DEC      0          B-14               	#
001423,000302:    5550           00005        RAND119            DEC      5          B-14               	#
001424,000303:    5551           00010        RAND120            DEC      8          B-14               	#
001425,000304:    5552           00005        RAND121            DEC      5          B-14               	#
001426,000305:    5553           00001        RAND122            DEC      1          B-14               	#
001427,000306:    5554           00000        RAND123            DEC      0          B-14               	#
001428,000307:    5555           00003        RAND124            DEC      3          B-14               	#
001429,000308:    5556           00006        RAND125            DEC      6          B-14               	#
001430,000309:    5557           00003        RAND126            DEC      3          B-14               	#
001431,000310:    5560           00004        RAND127            DEC      4          B-14               	#
001432,000311:    5561           00001        RAND128            DEC      1          B-14               	#
(End of include-file Tables.agc, resuming Main.agc)
001433,000066: $Ram.agc
001434,000001: 
001435,000002:                                                                                          	# The AGC has 2,000 words (4KB) of erasable memory. We only need a fraction for this game!
001436,000003: 
001437,000004: 
001438,000005:                                                                                          	#-------------------------------------------------------------------------
001439,000006:                                                                                          	# Some variables.
001440,000007: 
001441,000008:    0024                                           SETLOC   24                            	#
001442,000009:    0024                        TIME2              ERASE                                  	#
001443,000010:    0025                        TIME1              ERASE                                  	#
001444,000011:    0026                        TIME3              ERASE                                  	#
001445,000012:    0027                        TIME4              ERASE                                  	#
001446,000013:    0030                        TIME5              ERASE                                  	#
001447,000014:    0031                        TIME6              ERASE                                  	#
001448,000015: 
001449,000016:    0061                                           SETLOC   61                            	#
001450,000017: 
001451,000018:                                                                                          	# Temp variables.
001452,000019:    0061                        TEMPI              ERASE                                  	#
001453,000020:    0062                        TEMPJ              ERASE                                  	#
001454,000021:    0063                        TEMPK              ERASE                                  	#
001455,000022: 
001456,000023: 
001457,000024:    0067                                           SETLOC   67                            	#
001458,000025:    0067                        NEWJOB             ERASE                                  	#
001459,000026: 
001460,000027: 
001461,000028:    0070                        KEYBUF             ERASE                                  	#
001462,000029:    0071                        RET_ADR            ERASE                                  	#
001463,000030:    0072                        RET_ADR2           ERASE                                  	#
001464,000031: 
001465,000032:    0073                        ACTIVE             ERASE                                  	#
001466,000033:    0074                        COUNTER            ERASE                                  	#
001467,000034:    0075                        CUR_ID             ERASE                                  	#
001468,000035:    0076                        SEG_OUT            ERASE                                  	#
001469,000036:    0077                        CHK_ID             ERASE                                  	#
001470,000037:    0100                        CELL_VALUE           ERASE                                  	#
001471,000038:    0101                        GM_STATE           ERASE                                  	#
001472,000039:    0102                        CHK_VALUE           ERASE                                  	#
001473,000040:    0103                        MATCHMD            ERASE                                  	#
001474,000041:    0104                        MATCH1             ERASE                                  	#
001475,000042:    0105                        MATCH2             ERASE                                  	#
001476,000043:    0106                        MATCH3             ERASE                                  	#
001477,000044:    0107                        MATCH4             ERASE                                  	#
001478,000045:    0110                        CELLROW            ERASE                                  	#
001479,000046:    0111                        CELLCOL            ERASE                                  	#
001480,000047:    0112                        GM_DONE            ERASE                                  	#
001481,000048: 
001482,000049:    0113                        ROW_ID             ERASE                                  	#
001483,000050:    0114                        COL_ID             ERASE                                  	#
001484,000051:    0115                        END_ID             ERASE                                  	#
001485,000052:    0116                        DSKY_OUT           ERASE                                  	#
001486,000053:    0117                        DIGIT_L            ERASE                                  	#
001487,000054:    0120                        DIGIT_R            ERASE                                  	#
001488,000055:    0121                        INPUTBUF           ERASE                                  	#
001489,000056:    0122                        BTNMASK            ERASE                                  	#
001490,000057:    0123                        PLAY_ID            ERASE                                  	#
001491,000058: 
001492,000059:    0124                        VALUES             ERASE    +21                           	#
(End of include-file Ram.agc, resuming Main.agc)
001493,000067: 


Usage Table for Fixed-Memory Banks
----------------------------------
Bank 00:  0000/2000 words used.
Bank 01:  0000/2000 words used.
Bank 02:  1562/2000 words used.
Bank 03:  0000/2000 words used.
Bank 04:  0000/2000 words used.
Bank 05:  0000/2000 words used.
Bank 06:  0000/2000 words used.
Bank 07:  0000/2000 words used.
Bank 10:  0000/2000 words used.
Bank 11:  0000/2000 words used.
Bank 12:  0000/2000 words used.
Bank 13:  0000/2000 words used.
Bank 14:  0000/2000 words used.
Bank 15:  0000/2000 words used.
Bank 16:  0000/2000 words used.
Bank 17:  0000/2000 words used.
Bank 20:  0000/2000 words used.
Bank 21:  0000/2000 words used.
Bank 22:  0000/2000 words used.
Bank 23:  0000/2000 words used.
Bank 24:  0000/2000 words used.
Bank 25:  0000/2000 words used.
Bank 26:  0000/2000 words used.
Bank 27:  0000/2000 words used.
Bank 30:  0000/2000 words used.
Bank 31:  0000/2000 words used.
Bank 32:  0000/2000 words used.
Bank 33:  0000/2000 words used.
Bank 34:  0000/2000 words used.
Bank 35:  0000/2000 words used.
Bank 36:  0000/2000 words used.
Bank 37:  0000/2000 words used.
Bank 40:  0000/2000 words used.
Bank 41:  0000/2000 words used.
Bank 42:  0000/2000 words used.
Bank 43:  0000/2000 words used.


Symbol Table
------------
     1,E:   $17             0017  		     2,E:   $3              0003  		     3,E:   $4              0004  		     4,E:   $5              0005  
     5,E:   $6              0006  		     6,E:   $7              0007  		     7,C:   A            0000000  		     8,E:   ACTIVE          0073  
     9,F:   ADD5            4150  		    10,F:   ADD6            4145  		    11,C:   ARUPT        0000010  		    12,C:   BANKRUPT     0000016  
    13,C:   BBANK        0000006  		    14,F:   BIT15           5132  		    15,F:   BIT5            5153  		    16,F:   BOT23           5252  
    17,F:   BOT45           5253  		    18,C:   BRUPT        0000017  		    19,E:   BTNMASK         0122  		    20,F:   CALCLEFT        4746  
    21,F:   CAN_READ        5026  		    22,E:   CELLCOL         0111  		    23,E:   CELLROW         0110  		    24,F:   CELL_MOV        4322  
    25,E:   CELL_VALUE      0100  		    26,C:   CH10         0000010  		    27,C:   CH11         0000011  		    28,C:   CH12         0000012  
    29,C:   CH13         0000013  		    30,C:   CH15         0000015  		    31,C:   CH32         0000032  		    32,F:   CHECK_KEY       5053  
    33,F:   CHKVALID        4152  		    34,F:   CHK_ABV         4407  		    35,F:   CHK_BEL         4241  		    36,E:   CHK_ID          0077  
    37,F:   CHK_LFT         4516  		    38,F:   CHK_RT          4626  		    39,F:   CHK_STATE       4071  		    40,E:   CHK_VALUE       0102  
    41,F:   CLEARBTN        5137  		    42,E:   COL_ID          0114  		    43,F:   COL_STRT        5303  		    44,F:   COL_STRT2       5304  
    45,F:   COL_STRT3       5305  		    46,F:   COL_STRT4       5306  		    47,F:   COL_STRT5       5307  		    48,F:   COMPLETE        4346  
    49,E:   COUNTER         0074  		    50,E:   CUR_ID          0075  		    51,C:   CYL          0000022  		    52,C:   CYR          0000020  
    53,F:   DEC1            5255  		    54,F:   DEC10           5266  		    55,F:   DEC11           5267  		    56,F:   DEC12           5270  
    57,F:   DEC13           5271  		    58,F:   DEC14           5272  		    59,F:   DEC15           5273  		    60,F:   DEC16           5274  
    61,F:   DEC17           5275  		    62,F:   DEC18           5276  		    63,F:   DEC19           5277  		    64,F:   DEC2            5256  
    65,F:   DEC3            5257  		    66,F:   DEC4            5260  		    67,F:   DEC5            5261  		    68,F:   DEC6            5262  
    69,F:   DEC7            5263  		    70,F:   DEC8            5264  		    71,F:   DEC9            5265  		    72,F:   DIDLEFT         4766  
    73,F:   DIGITS          5254  		    74,E:   DIGIT_L         0117  		    75,E:   DIGIT_R         0120  		    76,F:   DISP15          4704  
    77,F:   DISPNUM         4726  		    78,F:   DONE15          4723  		    79,E:   DSKY_OUT        0116  		    80,F:   DSP0            5155  
    81,F:   DSP1            5156  		    82,F:   DSP2            5157  		    83,F:   DSP3            5160  		    84,F:   DSP4            5161  
    85,F:   DSP5            5162  		    86,F:   DSP6            5163  		    87,F:   DSP7            5164  		    88,F:   DSP8            5165  
    89,F:   DSP9            5166  		    90,F:   DSPBLANK        5154  		    91,F:   D_COLOOP        4230  		    92,F:   D_DONE          4310  
    93,F:   D_MATCH         4265  		    94,F:   D_NOCOL         4272  		    95,F:   D_NOSOF         4257  		    96,F:   D_NOWT          4316  
    97,F:   D_NXTRW         4301  		    98,F:   D_ROLOOP        4223  		    99,F:   D_SOMEHR        4252  		   100,F:   D_UPDATE        4313  
   101,C:   EBANK        0000003  		   102,C:   EDOP         0000023  		   103,F:   ENDKYCK         5120  		   104,E:   END_ID          0115  
   105,F:   EXITRUPT        5032  		   106,C:   FBANK        0000004  		   107,F:   FOURTEEN        5147  		   108,F:   GENZERO         4131  
   109,E:   GM_DONE         0112  		   110,E:   GM_STATE        0101  		   111,F:   GRID_C0         5316  		   112,F:   GRID_C1         5317  
   113,F:   GRID_C10        5330  		   114,F:   GRID_C11        5331  		   115,F:   GRID_C12        5332  		   116,F:   GRID_C13        5333  
   117,F:   GRID_C14        5334  		   118,F:   GRID_C2         5320  		   119,F:   GRID_C3         5321  		   120,F:   GRID_C4         5322  
   121,F:   GRID_C5         5323  		   122,F:   GRID_C6         5324  		   123,F:   GRID_C7         5325  		   124,F:   GRID_C8         5326  
   125,F:   GRID_C9         5327  		   126,F:   GRID_CM1        5315  		   127,F:   GRID_CM2        5314  		   128,F:   GRID_CM3        5313  
   129,F:   GRID_CM4        5312  		   130,F:   GRID_CM5        5311  		   131,F:   GRID_COL        5310  		   132,F:   GRID_R0         5343  
   133,F:   GRID_R1         5344  		   134,F:   GRID_R10        5355  		   135,F:   GRID_R11        5356  		   136,F:   GRID_R12        5357  
   137,F:   GRID_R13        5360  		   138,F:   GRID_R14        5361  		   139,F:   GRID_R2         5345  		   140,F:   GRID_R3         5346  
   141,F:   GRID_R4         5347  		   142,F:   GRID_R5         5350  		   143,F:   GRID_R6         5351  		   144,F:   GRID_R7         5352  
   145,F:   GRID_R8         5353  		   146,F:   GRID_R9         5354  		   147,F:   GRID_RM1        5342  		   148,F:   GRID_RM2        5341  
   149,F:   GRID_RM3        5340  		   150,F:   GRID_RM4        5337  		   151,F:   GRID_RM5        5336  		   152,F:   GRID_ROW        5335  
   153,F:   INIT            4054  		   154,E:   INPUTBUF        0121  		   155,F:   IODELAY         4776  		   156,F:   IODELAYT        4775  
   157,F:   ISEMPTY         4162  		   158,E:   KEYBUF          0070  		   159,F:   KEYRUPT1        5015  		   160,F:   KEYTABL         5057  
   161,C:   L            0000001  		   162,F:   LEFTRIGHT       5167  		   163,F:   LOW5            5133  		   164,F:   LR1             5170  
   165,F:   LR10            5201  		   166,F:   LR11            5202  		   167,F:   LR12            5203  		   168,F:   LR13            5204  
   169,F:   LR14            5205  		   170,F:   LR15            5206  		   171,F:   LR16            5207  		   172,F:   LR17            5210  
   173,F:   LR18            5211  		   174,F:   LR19            5212  		   175,F:   LR2             5171  		   176,F:   LR20            5213  
   177,F:   LR3             5172  		   178,F:   LR4             5173  		   179,F:   LR5             5174  		   180,F:   LR6             5175  
   181,F:   LR7             5176  		   182,F:   LR8             5177  		   183,F:   LR9             5200  		   184,C:   LRUPT        0000011  
   185,F:   L_COLOOP        4500  		   186,F:   L_MATCH         4542  		   187,F:   L_NOMAT         4534  		   188,F:   L_NOROW         4555  
   189,F:   L_NXTCOL        4565  		   190,F:   L_ROLOOP        4505  		   191,F:   L_SOMEHR        4527  		   192,F:   MAINLOOP        4070  
   193,F:   MAKEONE         4173  		   194,F:   MASK128         5144  		   195,F:   MASK15          5145  		   196,E:   MATCH1          0104  
   197,E:   MATCH2          0105  		   198,E:   MATCH3          0106  		   199,E:   MATCH4          0107  		   200,E:   MATCHMD         0103  
   201,F:   MID12           5247  		   202,F:   MID34           5250  		   203,F:   MID5BOT1        5251  		   204,F:   MOVE_DOWN       4210  
   205,F:   MOVE_LEFT       4465  		   206,F:   MOVE_RT         4575  		   207,F:   MOVE_UP         4356  		   208,F:   MOVING_DN       4215  
   209,F:   MOVING_LT       4472  		   210,F:   MOVING_RT       4602  		   211,F:   MOVING_UP       4363  		   212,F:   MOV_DN          4271  
   213,F:   MOV_LEFT        4546  		   214,F:   MOV_RT          4656  		   215,F:   MOV_UP          4437  		   216,F:   NEG1            5150  
   217,F:   NEG2            5151  		   218,F:   NEG5            5152  		   219,F:   NEG_ONE         5141  		   220,F:   NEWBOX          4133  
   221,E:   NEWJOB          0067  		   222,F:   NEWNUM          4117  		   223,F:   NOKEY           5131  		   224,F:   NOTCOMP         4352  
   225,F:   NOTEMPTY        4160  		   226,F:   NOUNLR          5243  		   227,F:   O37774          5134  		   228,F:   O37777          5135  
   229,F:   OUTPUT          4770  		   230,E:   PLAY_ID         0123  		   231,C:   Q            0000002  		   232,C:   QRUPT        0000012  
   233,F:   RAND1           5362  		   234,F:   RAND10          5373  		   235,F:   RAND100         5525  		   236,F:   RAND101         5526  
   237,F:   RAND102         5527  		   238,F:   RAND103         5530  		   239,F:   RAND104         5531  		   240,F:   RAND105         5532  
   241,F:   RAND106         5533  		   242,F:   RAND107         5534  		   243,F:   RAND108         5535  		   244,F:   RAND109         5536  
   245,F:   RAND11          5374  		   246,F:   RAND110         5537  		   247,F:   RAND111         5540  		   248,F:   RAND112         5541  
   249,F:   RAND113         5542  		   250,F:   RAND114         5543  		   251,F:   RAND115         5544  		   252,F:   RAND116         5545  
   253,F:   RAND117         5546  		   254,F:   RAND118         5547  		   255,F:   RAND119         5550  		   256,F:   RAND12          5375  
   257,F:   RAND120         5551  		   258,F:   RAND121         5552  		   259,F:   RAND122         5553  		   260,F:   RAND123         5554  
   261,F:   RAND124         5555  		   262,F:   RAND125         5556  		   263,F:   RAND126         5557  		   264,F:   RAND127         5560  
   265,F:   RAND128         5561  		   266,F:   RAND13          5376  		   267,F:   RAND14          5377  		   268,F:   RAND15          5400  
   269,F:   RAND16          5401  		   270,F:   RAND17          5402  		   271,F:   RAND18          5403  		   272,F:   RAND19          5404  
   273,F:   RAND2           5363  		   274,F:   RAND20          5405  		   275,F:   RAND21          5406  		   276,F:   RAND22          5407  
   277,F:   RAND23          5410  		   278,F:   RAND24          5411  		   279,F:   RAND25          5412  		   280,F:   RAND26          5413  
   281,F:   RAND27          5414  		   282,F:   RAND28          5415  		   283,F:   RAND29          5416  		   284,F:   RAND3           5364  
   285,F:   RAND30          5417  		   286,F:   RAND31          5420  		   287,F:   RAND32          5421  		   288,F:   RAND33          5422  
   289,F:   RAND34          5423  		   290,F:   RAND35          5424  		   291,F:   RAND36          5425  		   292,F:   RAND37          5426  
   293,F:   RAND38          5427  		   294,F:   RAND39          5430  		   295,F:   RAND4           5365  		   296,F:   RAND40          5431  
   297,F:   RAND41          5432  		   298,F:   RAND42          5433  		   299,F:   RAND43          5434  		   300,F:   RAND44          5435  
   301,F:   RAND45          5436  		   302,F:   RAND46          5437  		   303,F:   RAND47          5440  		   304,F:   RAND48          5441  
   305,F:   RAND49          5442  		   306,F:   RAND5           5366  		   307,F:   RAND50          5443  		   308,F:   RAND51          5444  
   309,F:   RAND52          5445  		   310,F:   RAND53          5446  		   311,F:   RAND54          5447  		   312,F:   RAND55          5450  
   313,F:   RAND56          5451  		   314,F:   RAND57          5452  		   315,F:   RAND58          5453  		   316,F:   RAND59          5454  
   317,F:   RAND6           5367  		   318,F:   RAND60          5455  		   319,F:   RAND61          5456  		   320,F:   RAND62          5457  
   321,F:   RAND63          5460  		   322,F:   RAND64          5461  		   323,F:   RAND65          5462  		   324,F:   RAND66          5463  
   325,F:   RAND67          5464  		   326,F:   RAND68          5465  		   327,F:   RAND69          5466  		   328,F:   RAND7           5370  
   329,F:   RAND70          5467  		   330,F:   RAND71          5470  		   331,F:   RAND72          5471  		   332,F:   RAND73          5472  
   333,F:   RAND74          5473  		   334,F:   RAND75          5474  		   335,F:   RAND76          5475  		   336,F:   RAND77          5476  
   337,F:   RAND78          5477  		   338,F:   RAND79          5500  		   339,F:   RAND8           5371  		   340,F:   RAND80          5501  
   341,F:   RAND81          5502  		   342,F:   RAND82          5503  		   343,F:   RAND83          5504  		   344,F:   RAND84          5505  
   345,F:   RAND85          5506  		   346,F:   RAND86          5507  		   347,F:   RAND87          5510  		   348,F:   RAND88          5511  
   349,F:   RAND89          5512  		   350,F:   RAND9           5372  		   351,F:   RAND90          5513  		   352,F:   RAND91          5514  
   353,F:   RAND92          5515  		   354,F:   RAND93          5516  		   355,F:   RAND94          5517  		   356,F:   RAND95          5520  
   357,F:   RAND96          5521  		   358,F:   RAND97          5522  		   359,F:   RAND98          5523  		   360,F:   RAND99          5524  
   361,F:   RANDOM          5121  		   362,F:   RESETALL        4102  		   363,F:   RESETBTN        5140  		   364,F:   RESETEND        4115  
   365,F:   RESETLOOP       4104  		   366,F:   RESTART         4000  		   367,F:   RESUME          5011  		   368,E:   RET_ADR         0071  
   369,E:   RET_ADR2        0072  		   370,E:   ROW_ID          0113  		   371,F:   ROW_STRT        5300  		   372,F:   ROW_STRT2       5301  
   373,F:   ROW_STRT3       5302  		   374,F:   R_COLOOP        4610  		   375,F:   R_MATCH         4652  		   376,F:   R_NOMAT         4644  
   377,F:   R_NOROW         4665  		   378,F:   R_NXTCOL        4675  		   379,F:   R_ROLOOP        4615  		   380,F:   R_SOMEHR        4637  
   381,C:   SAMPTIME     0000013  		   382,F:   SECOND          4116  		   383,F:   SEGCODE         5241  		   384,F:   SEGLOOP         4712  
   385,F:   SEG_0           5214  		   386,F:   SEG_1           5215  		   387,F:   SEG_10          5226  		   388,F:   SEG_11          5227  
   389,F:   SEG_12          5230  		   390,F:   SEG_13          5231  		   391,F:   SEG_14          5232  		   392,F:   SEG_15          5233  
   393,F:   SEG_16          5234  		   394,F:   SEG_17          5235  		   395,F:   SEG_18          5236  		   396,F:   SEG_19          5237  
   397,F:   SEG_2           5216  		   398,F:   SEG_20          5240  		   399,F:   SEG_3           5217  		   400,F:   SEG_4           5220  
   401,F:   SEG_5           5221  		   402,F:   SEG_6           5222  		   403,F:   SEG_7           5223  		   404,F:   SEG_8           5224  
   405,F:   SEG_9           5225  		   406,E:   SEG_OUT         0076  		   407,F:   SETUPMOV        4201  		   408,F:   SKIPLEFT        4764  
   409,C:   SR           0000021  		   410,F:   STA_ADD         5261  		   411,F:   STA_DOWN        5255  		   412,F:   STA_INPUT       5254  
   413,F:   STA_LEFT        5257  		   414,F:   STA_RIGHT       5260  		   415,F:   STA_UP          5256  		   416,F:   STA_WAIT        5262  
   417,F:   STORENEW        4174  		   418,F:   ST_TABLE        4073  		   419,F:   T3RUPT          5006  		   420,E:   TEMPI           0061  
   421,E:   TEMPJ           0062  		   422,E:   TEMPK           0063  		   423,F:   TEN             5136  		   424,E:   TIME1           0025  
   425,E:   TIME2           0024  		   426,E:   TIME3           0026  		   427,E:   TIME4           0027  		   428,E:   TIME5           0030  
   429,E:   TIME6           0031  		   430,F:   TOP1            5244  		   431,F:   TOP23           5245  		   432,F:   TOP45           5246  
   433,F:   TWENTY          5142  		   434,F:   TWENTY1         5143  		   435,F:   TWO56           5146  		   436,F:   UPGRADE         4332  
   437,F:   U_COLOOP        4376  		   438,F:   U_MATCH         4433  		   439,F:   U_NOCOL         4446  		   440,F:   U_NOSOF         4425  
   441,F:   U_NXTRW         4455  		   442,F:   U_ROLOOP        4371  		   443,F:   U_SOMEHR        4420  		   444,E:   VALUES          0124  
   445,F:   VERBLR          5242  		   446,F:   WAITKEY         5041  		   447,F:   WAITMORE        5052  		   448,C:   Z            0000005  
   449,C:   ZERO         0000007  		   450,C:   ZEROES       0000007  		   451,C:   ZRUPT        0000015  		

Unresolved symbols:  0
Fatal errors:  0
Warnings:  0
Removing the duplicated lines... 

Symbol-table file written.

Bugger word 52237 at 02,3564.
