Apollo Guidance Computer (AGC) assembler, version 2017-04-17, built Apr 17 2017, target AGC4
(c)2003-2005,2009-2010,2016 Ronald S. Burkey
Refer to http://www.ibiblio.org/apollo/index.html for more information.
Pass #1
Pass #2
Pass #3
000001,000001: 
000002,000002:    4000                                           SETLOC   4000                          	#
000003,000003: 
000004,000004: 
000005,000005:    4000                        RESTART                                                   	#
000006,000006:    4000           00004                           INHINT                                 	# Turn off interrupts
000007,000007:    4001           35133                           CA       O37774                        	# Schedule the first TIME3 interrupt
000008,000008:    4002           54026                           TS       TIME3                         	#
000009,000009:    4003           14054                           TCF      INIT                          	# Proceed with initialization
000010,000010: 
000011,000011: $Vectors.agc                            # Add table of interrupt vectors
000012,000001: 
000013,000002:                                                                                          	# We begin with an interrupt vector table. There are 10 possible interrupts,
000014,000003:                                                                                          	# plus the restart vector which comes first.
000015,000004: 
000016,000005: 
000017,000006: 
000018,000007:    4004           50017                           RESUME                                 	# T6RUPT
000019,000008:    4005           14006                           NOOP                                   	#
000020,000009:    4006           14007                           NOOP                                   	#
000021,000010:    4007           14010                           NOOP                                   	#
000022,000011: 
000023,000012:    4010           50017                           RESUME                                 	# T5RUPT
000024,000013:    4011           14012                           NOOP                                   	#
000025,000014:    4012           14013                           NOOP                                   	#
000026,000015:    4013           14014                           NOOP                                   	#
000027,000016: 
000028,000017:    4014           52011                           DXCH     ARUPT                         	# T3RUPT
000029,000018:    4015           00006                           EXTEND                                 	# Back up A, L, and Q
000030,000019:    4016           22012                           QXCH     QRUPT                         	#
000031,000020:    4017           15005                           TCF      T3RUPT                        	# Transfer to the T3RUPT handler
000032,000021: 
000033,000022:    4020           50017                           RESUME                                 	# T4RUPT
000034,000023:    4021           14022                           NOOP                                   	#
000035,000024:    4022           14023                           NOOP                                   	#
000036,000025:    4023           14024                           NOOP                                   	#
000037,000026: 
000038,000027:    4024           52011                           DXCH     ARUPT                         	# KEYRUPT1, fired whenever a key is pressed
000039,000028:    4025           00006                           EXTEND                                 	#
000040,000029:    4026           22012                           QXCH     QRUPT                         	#
000041,000030:    4027           15014                           TCF      KEYRUPT1                      	#
000042,000031: 
000043,000032:    4030           50017                           RESUME                                 	# KEYRUPT2
000044,000033:    4031           14032                           NOOP                                   	#
000045,000034:    4032           14033                           NOOP                                   	#
000046,000035:    4033           14034                           NOOP                                   	#
000047,000036: 
000048,000037:    4034           50017                           RESUME                                 	# UPRUPT
000049,000038:    4035           14036                           NOOP                                   	#
000050,000039:    4036           14037                           NOOP                                   	#
000051,000040:    4037           14040                           NOOP                                   	#
000052,000041: 
000053,000042:    4040           50017                           RESUME                                 	# DOWNRUPT
000054,000043:    4041           14042                           NOOP                                   	#
000055,000044:    4042           14043                           NOOP                                   	#
000056,000045:    4043           14044                           NOOP                                   	#
000057,000046: 
000058,000047:    4044           50017                           RESUME                                 	# RADAR RUPT
000059,000048:    4045           14046                           NOOP                                   	#
000060,000049:    4046           14047                           NOOP                                   	#
000061,000050:    4047           14050                           NOOP                                   	#
000062,000051: 
000063,000052:    4050           50017                           RESUME                                 	# RUPT10
000064,000053:    4051           14052                           NOOP                                   	#
000065,000054:    4052           14053                           NOOP                                   	#
000066,000055:    4053           14054                           NOOP                                   	#
000067,000056: 
(End of include-file Vectors.agc, resuming Main.agc)
000068,000012: 
000069,000013:                                                                                          	# Initialization.
000070,000014:    4054                        INIT                                                      	#
000071,000015:    4054           30007                           CA       ZERO                          	# Load 0 to A
000072,000016:    4055           54073                           TS       ACTIVE                        	# Set game not started
000073,000017:    4056           54112                           TS       GM_DONE                       	# Set game not completed
000074,000018: 
000075,000019:    4057           00006                           EXTEND                                 	#
000076,000020:    4060           01011                           WRITE    CH11                          	# Clear any DSKY lights
000077,000021: 
000078,000022: 
000079,000023:    4061           35130                           CA       NOKEY                         	# Clear the keypad buffer variable
000080,000024:    4062           54070                           TS       KEYBUF                        	# to initially hold an illegal keycode.
000081,000025: 
000082,000026:    4063           04102                           TC       RESETALL                      	# Set all grid items to empty (-1)
000083,000027:    4064           04703                           TC       DISP15                        	# Clear the grid
000084,000028: 
000085,000029:    4065           35261                           CA       STA_WAIT                      	# Set game status to wait for any key
000086,000030:    4066           54101                           TS       GM_STATE                      	#
000087,000031: 
000088,000032:    4067           00003                           RELINT                                 	# Enable interrupts
000089,000033: 
000090,000034:    4070                        MAINLOOP                                                  	#
000091,000035:    4070           40067                           CS       NEWJOB                        	# Each loop, nudge hardware watchdog
000092,000036: 
000093,000037: 
000094,000038:    4071                        CHK_STATE                                                  	#
000095,000039: 
000096,000040:    4071           50101                           INDEX    GM_STATE                      	# Index into game state jump table
000097,000041:    4072           14073                           TCF      ST_TABLE                      	# Will jump to appropriate function below based on state
000098,000042:    4073                        ST_TABLE                                                  	#
000099,000043:    4073           15052                           TCF      CHECK_KEY                     	# 0
000100,000044:    4074           14215                           TCF      MOVING_DN                     	# 1
000101,000045:    4075           14362                           TCF      MOVING_UP                     	# 2
000102,000046:    4076           14471                           TCF      MOVING_LT                     	# 3
000103,000047:    4077           14601                           TCF      MOVING_RT                     	# 4
000104,000048:    4100           14117                           TCF      NEWNUM                        	# 5
000105,000049:    4101           15040                           TCF      WAITKEY                       	# 6
000106,000050: 
000107,000051: 
000108,000052:                                                                                          	# Include the rest of the code modules below
000109,000053: 
000110,000054: $Grid.agc
000111,000001: 
000112,000002:    4102                        RESETALL                                                  	#
000113,000003: 
000114,000004:    4102           35142                           CA       TWENTY1                       	# Set loop counter to 21
000115,000005:    4103           54075                           TS       CUR_ID                        	#
000116,000006:    4104                        RESETLOOP                                                  	#
000117,000007:    4104           35140                           CA       NEG_ONE                       	# Load -1 to A (empty cell)
000118,000008:    4105           50075                           INDEX    CUR_ID                        	# Index by current loop count
000119,000009:    4106           54124                           TS       VALUES                        	# Save -1 to empty this grid cell
000120,000010: 
000121,000011:    4107           00006                           EXTEND                                 	#
000122,000012:    4110           26075                           DIM      CUR_ID                        	# Decrement loop counter
000123,000013:    4111           30075                           CA       CUR_ID                        	# Load loop counter
000124,000014:    4112           00006                           EXTEND                                 	#
000125,000015:    4113           14115                           BZF      RESETEND                      	# If zero, we've cleared all of VALUES array
000126,000016: 
000127,000017:    4114           14104                           TCF      RESETLOOP                     	# Not zero, loop back for next cell
000128,000018: 
000129,000019: 
000130,000020:    4115                        RESETEND                                                  	#
000131,000021:    4115           00002                           RETURN                                 	# Return to Init
000132,000022: 
000133,000023: 
000134,000024:    4116                        SECOND                                                    	#
000135,000025: 
000136,000026:    4116           24073                           INCR     ACTIVE                        	# Set game to active now two cells will be populated
000137,000027:    4117                        NEWNUM                                                    	#
000138,000028: 
000139,000029:    4117           04775                           TC       IODELAY                       	# Delay a bit before generating the number
000140,000030:    4120           04131                           TC       GENZERO                       	# Call function to generate a 0 or 1 in empty cell
000141,000031:    4121           04703                           TC       DISP15                        	# Call function Display the new grid state
000142,000032: 
000143,000033:    4122           30073                           CA       ACTIVE                        	# Load whether game is active
000144,000034:    4123           00006                           EXTEND                                 	#
000145,000035:    4124           14116                           BZF      SECOND                        	# If not, generate another new number
000146,000036: 
000147,000037:    4125           04775                           TC       IODELAY                       	# Delay before returning control to player
000148,000038: 
000149,000039:    4126           35253                           CA       STA_INPUT                     	# Change game state to player control
000150,000040:    4127           54101                           TS       GM_STATE                      	#
000151,000041: 
000152,000042:    4130           14070                           TCF      MAINLOOP                      	# Return to start of game loop
000153,000043: 
000154,000044: 
000155,000045: 
000156,000046:    4131                        GENZERO                                                   	# Generate a 0 or 1 in an empty grid cell
000157,000047:    4131           00006                           EXTEND                                 	#
000158,000048:    4132           22072                           QXCH     RET_ADR2                      	# Save the return address of the calling function
000159,000049: 
000160,000050: 
000161,000051:    4133                        NEWBOX                                                    	#
000162,000052: 
000163,000053:    4133           35144                           CA       MASK15                        	# Load a mask to keep only the bottom 4 bits
000164,000054:    4134           54061                           TS       TEMPI                         	# Store into temp variable
000165,000055: 
000166,000056:    4135           05120                           TC       RANDOM                        	# Get a random number (and discard)
000167,000057:    4136           30074                           CA       COUNTER                       	# Load the random number counter (0-127)
000168,000058:    4137           75144                           MASK     MASK15                        	# Mask it down to 0-15
000169,000059:    4140           54123                           TS       PLAY_ID                       	# Store it as the grid cell to try and add to
000170,000060:    4141           00006                           EXTEND                                 	#
000171,000061:    4142           60061                           SU       TEMPI                         	# Subtract 15 from this cell number
000172,000062:    4143           00006                           EXTEND                                 	#
000173,000063:    4144           14150                           BZF      ADD5                          	# If is 0, we have cell 16 and there only 15.
000174,000064: 
000175,000065:    4145                        ADD6                                                      	# Is not 0, we can safely add grid offset of 6
000176,000066: 
000177,000067:    4145           30123                           CA       PLAY_ID                       	# Load the number we know is from 0-14
000178,000068:    4146           65261                           AD       DEC6                          	# Add 6 to get the first display segment in the grid
000179,000069: 
000180,000070:    4147           14152                           TCF      CHKVALID                      	# Now check whether this grid cell is empty
000181,000071: 
000182,000072:    4150                        ADD5                                                      	#
000183,000073:    4150           30123                           CA       PLAY_ID                       	# We know the number is 15
000184,000074:    4151           65260                           AD       DEC5                          	# So only add 5 so we still get a valid cell
000185,000075: 
000186,000076:    4152                        CHKVALID                                                  	#
000187,000077: 
000188,000078:    4152           54123                           TS       PLAY_ID                       	# Store the cell id to check is empty
000189,000079:    4153           50123                           INDEX    PLAY_ID                       	# Index by the cell id
000190,000080:    4154           30124                           CA       VALUES                        	# Get the value held for cell in VALUES array
000191,000081:    4155           65254                           AD       DEC1                          	# Add one, if it was empty (-1) it's now zero'
000192,000082:    4156           00006                           EXTEND                                 	#
000193,000083:    4157           14162                           BZF      ISEMPTY                       	# If empty, we can use this cell for new number
000194,000084: 
000195,000085:    4160                        NOTEMPTY                                                  	#
000196,000086: 
000197,000087:    4160           54067                           TS       NEWJOB                        	# Nudge watchdog in case it takes a while to find cell
000198,000088:    4161           14133                           TCF      NEWBOX                        	# We can't use this cell, try again
000199,000089: 
000200,000090:    4162                        ISEMPTY                                                   	#
000201,000091: 
000202,000092:    4162           05120                           TC       RANDOM                        	# Get a random number from 0-9
000203,000093:    4163           54061                           TS       TEMPI                         	# Save to temp variable
000204,000094:    4164           35257                           CA       DEC4                          	# Load 4 into A
000205,000095:    4165           00006                           EXTEND                                 	#
000206,000096:    4166           60061                           SU       TEMPI                         	# Subtract 0-9 from 5
000207,000097:    4167           00006                           EXTEND                                 	#
000208,000098:    4170           64173                           BZMF     MAKEONE                       	# if zero or negative, make cell = 1
000209,000099: 
000210,000100:    4171           30007                           CA       ZERO                          	# is >0, make cell = 0
000211,000101:    4172           14174                           TCF      STORENEW                      	#
000212,000102: 
000213,000103:    4173                        MAKEONE                                                   	#
000214,000104:    4173           35254                           CA       DEC1                          	# Load 1 into A
000215,000105: 
000216,000106:    4174                        STORENEW                                                  	#
000217,000107: 
000218,000108:    4174           50123                           INDEX    PLAY_ID                       	# Index by chosen cell ID
000219,000109:    4175           54124                           TS       VALUES                        	# Store 0-1 into values array by index
000220,000110: 
000221,000111:    4176           00006                           EXTEND                                 	#
000222,000112:    4177           22072                           QXCH     RET_ADR2                      	# Restore return address of calling func
000223,000113: 
000224,000114:    4200           00002                           RETURN                                 	# Return to NEWNUM
(End of include-file Grid.agc, resuming Main.agc)
000225,000055: $Down.agc
000226,000001:    4201                        SETUPMOV                                                  	#
000227,000002: 
000228,000003:    4201           30007                           CA       ZERO                          	# Load 0 into A
000229,000004:    4202           54103                           TS       MATCHMD                       	# Clear array of 5 that indicates whether two numbers
000230,000005:    4203           54104                           TS       MATCH1                        	# have already been combined for the given row/col
000231,000006:    4204           54105                           TS       MATCH2                        	#
000232,000007:    4205           54106                           TS       MATCH3                        	# Otherwise moving left on a row of 0-0-1 would end as 2-x-x.
000233,000008:    4206           54107                           TS       MATCH4                        	# When it should be 1-1-x.
000234,000009: 
000235,000010:    4207           00002                           RETURN                                 	#
000236,000011: 
000237,000012:    4210                        MOVE_DOWN                                                  	# The down key (8) has been pressed
000238,000013: 
000239,000014:    4210           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000240,000015:    4211           30112                           CA       GM_DONE                       	# Load game complete status into A
000241,000016:    4212           00006                           EXTEND                                 	#
000242,000017:    4213           14215                           BZF      MOVING_DN                     	# Flag is zero, not complete yet
000243,000018: 
000244,000019:    4214           14070                           TCF      MAINLOOP                      	#
000245,000020: 
000246,000021:    4215                        MOVING_DN                                                  	# Once in a state of 'sta_down', come here each 'frame'
000247,000022:                                                                                          	# until no more cells can move down
000248,000023: 
000249,000024:    4215           35254                           CA       STA_DOWN                      	# Load the game status of 'moving down'
000250,000025:    4216           54101                           TS       GM_STATE                      	# Save as game state
000251,000026: 
000252,000027:    4217           30007                           CA       ZERO                          	# Load 0 into A
000253,000028:    4220           54123                           TS       PLAY_ID                       	# Reset number of cells moved this iteration.
000254,000029: 
000255,000030:    4221           35254                           CA       DEC1                          	# Start from middle row, checking below to see if we can move into it.
000256,000031:    4222           54113                           TS       ROW_ID                        	# Store 1 into ROW_ID
000257,000032: 
000258,000033:    4223                        D_ROLOOP                                                  	# Loop through rows, checking each column to see if number can move down
000259,000034: 
000260,000035:    4223           50113                           INDEX    ROW_ID                        	# Index by the row_id
000261,000036:    4224           35277                           CA       ROW_STRT                      	# Get the first cell id in this row
000262,000037:    4225           54075                           TS       CUR_ID                        	# Store this as current id
000263,000038:    4226           65260                           AD       DEC5                          	# Add 5
000264,000039:    4227           54115                           TS       END_ID                        	# Store cur_id + 5 to know when to stop processing row
000265,000040: 
000266,000041:    4230                        D_COLOOP                                                  	# Loop through each cell on a row
000267,000042: 
000268,000043: 
000269,000044:    4230           50075                           INDEX    CUR_ID                        	# Index by the current cell id
000270,000045:    4231           35307                           CA       GRID_COL                      	# Get the column this cell belongs to
000271,000046:    4232           54111                           TS       CELLCOL                       	# And save value to ram for later
000272,000047: 
000273,000048:    4233           50075                           INDEX    CUR_ID                        	# Index by the current cell id again
000274,000049:    4234           30124                           CA       VALUES                        	# Get the value in this cell
000275,000050:    4235           54100                           TS       CELL_VALUE                    	# Save cell value
000276,000051:    4236           65254                           AD       DEC1                          	# Add 1. If empty (-1), this is now 0.
000277,000052:    4237           00006                           EXTEND                                 	#
000278,000053:    4240           14271                           BZF      D_NOCOL                       	# If empty, don't bother checking cell below
000279,000054: 
000280,000055: 
000281,000056:    4241                        CHK_BEL                                                   	# This cell has a number, check below
000282,000057: 
000283,000058:    4241           30075                           CA       CUR_ID                        	# Load the current cell id
000284,000059:    4242           65260                           AD       DEC5                          	# Add 5 (number of columns) to get cell below
000285,000060:    4243           54077                           TS       CHK_ID                        	# Store cell check id
000286,000061: 
000287,000062:    4244           50077                           INDEX    CHK_ID                        	# Index using the cell below's id
000288,000063:    4245           30124                           CA       VALUES                        	# Get the value in the cell below
000289,000064:    4246           54102                           TS       CHK_VALUE                     	# Store the cell below's value
000290,000065:    4247           65254                           AD       DEC1                          	# Add 1. If empty (-1), this is now 0.
000291,000066:    4250           00006                           EXTEND                                 	#
000292,000067:    4251           14270                           BZF      MOV_DN                        	# If cell below empty, we can move straight into it.
000293,000068: 
000294,000069:    4252                        D_SOMEHR                                                  	# There's a number below. Check what it is.
000295,000070: 
000296,000071:    4252           50111                           INDEX    CELLCOL                       	# Index by the column our cell is in
000297,000072:    4253           30103                           CA       MATCHMD                       	# Get whether we already combined cells in this column
000298,000073:    4254           00006                           EXTEND                                 	#
000299,000074:    4255           14257                           BZF      D_NOSOF                       	# If 0, we didn't already combine so we can check for match
000300,000075: 
000301,000076:    4256           14271                           TCF      D_NOCOL                       	# We already combined so we don't want to try and combine again
000302,000077: 
000303,000078:    4257                        D_NOSOF                                                   	#
000304,000079: 
000305,000080:    4257           30100                           CA       CELL_VALUE                    	# Load the value in original cell
000306,000081:    4260           00006                           EXTEND                                 	#
000307,000082:    4261           60102                           SU       CHK_VALUE                     	# Subtract the value in cell below
000308,000083:    4262           00006                           EXTEND                                 	#
000309,000084:    4263           14265                           BZF      D_MATCH                       	# If zero, they are the same. Combine them.
000310,000085: 
000311,000086:    4264           14271                           TCF      D_NOCOL                       	# Not the same, can't move as way is blocked
000312,000087: 
000313,000088:    4265                        D_MATCH                                                   	#
000314,000089: 
000315,000090:    4265           50111                           INDEX    CELLCOL                       	# Index by the column these cells are in
000316,000091:    4266           04331                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000317,000092: 
000318,000093:    4267           14271                           TCF      D_NOCOL                       	# Move along to next column
000319,000094:    4270                        MOV_DN                                                    	#
000320,000095: 
000321,000096:    4270           04321                           TC       CELL_MOV                      	# Move cell value to new cell, empty orig cell
000322,000097: 
000323,000098:    4271                        D_NOCOL                                                   	# End of processing for this column
000324,000099: 
000325,000100:    4271           24075                           INCR     CUR_ID                        	# Move cell id to next column
000326,000101:    4272           30075                           CA       CUR_ID                        	# Load id into A
000327,000102:    4273           00006                           EXTEND                                 	#
000328,000103:    4274           60115                           SU       END_ID                        	# Subtract id of first cell in row below
000329,000104:    4275           00006                           EXTEND                                 	#
000330,000105:    4276           14300                           BZF      D_NXTRW                       	# If zero, we have no more columns, goto next row
000331,000106: 
000332,000107:    4277           14230                           TCF      D_COLOOP                      	# More columns to process, loop back up
000333,000108: 
000334,000109:    4300                        D_NXTRW                                                   	#
000335,000110: 
000336,000111:    4300           54067                           TS       NEWJOB                        	# Nudge watchdog as this processing might take a while
000337,000112:    4301           30113                           CA       ROW_ID                        	# Load the row id
000338,000113:    4302           00006                           EXTEND                                 	#
000339,000114: 
000340,000115:    4303           14307                           BZF      D_DONE                        	# If row id is zero, we've done all rows now
000341,000116: 
000342,000117:    4304           00006                           EXTEND                                 	#
000343,000118:    4305           26113                           DIM      ROW_ID                        	# Not last row, move up into next row
000344,000119: 
000345,000120:    4306           14223                           TCF      D_ROLOOP                      	# Process the next row
000346,000121: 
000347,000122:    4307                        D_DONE                                                    	#
000348,000123: 
000349,000124:    4307           30123                           CA       PLAY_ID                       	# Did we move anything in this iteration?
000350,000125:    4310           00006                           EXTEND                                 	#
000351,000126:    4311           14315                           BZF      D_NOWT                        	# If 0 we did not so return control to player
000352,000127: 
000353,000128:    4312                        D_UPDATE                                                  	#
000354,000129: 
000355,000130:    4312           04703                           TC       DISP15                        	# We moved something, update display
000356,000131:    4313           04775                           TC       IODELAY                       	# Delay a bit so numbers don't move instantly from one end to other
000357,000132:    4314           14070                           TCF      MAINLOOP                      	# Return to main loop to see if anything still to move
000358,000133: 
000359,000134:    4315                        D_NOWT                                                    	#
000360,000135:    4315           35260                           CA       STA_ADD                       	# All movement handled, now add new number to grid
000361,000136:    4316           54101                           TS       GM_STATE                      	# Save to game state, we'll do in next main loop
000362,000137: 
000363,000138:    4317           04775                           TC       IODELAY                       	# A little delay before adding so it's obvious where it went
000364,000139: 
000365,000140:    4320           14070                           TCF      MAINLOOP                      	# Return to main loop which will add a new number next time
000366,000141: 
000367,000142: 
000368,000143:    4321                        CELL_MOV                                                  	#
000369,000144: 
000370,000145:    4321           24123                           INCR     PLAY_ID                       	# We are moving a number into empty space. Inc move counter.
000371,000146: 
000372,000147:    4322           30100                           CA       CELL_VALUE                    	# Load the value in cell that's moving
000373,000148:    4323           50077                           INDEX    CHK_ID                        	# Index by cell below id
000374,000149:    4324           54124                           TS       VALUES                        	# Set cell below to value of original cell
000375,000150: 
000376,000151:    4325           35140                           CA       NEG_ONE                       	# Load -1 to A (empty)
000377,000152:    4326           50075                           INDEX    CUR_ID                        	# Index by original cell id
000378,000153:    4327           54124                           TS       VALUES                        	# Set original cell to now be empty
000379,000154: 
000380,000155:    4330           00002                           RETURN                                 	#
000381,000156: 
000382,000157:    4331                        UPGRADE                                                   	#
000383,000158: 
000384,000159: 
000385,000160:    4331           24123                           INCR     PLAY_ID                       	# Increase counter as something is going to move
000386,000161: 
000387,000162:    4332           30100                           CA       CELL_VALUE                    	# Load value in original cell
000388,000163:    4333           65254                           AD       DEC1                          	# Add 1 because we are combining
000389,000164:    4334           50077                           INDEX    CHK_ID                        	# Index using cell below id
000390,000165:    4335           54124                           TS       VALUES                        	# Set cell below to be +1
000391,000166:    4336           54061                           TS       TEMPI                         	# Save to temp var, we need to check if it's 9
000392,000167: 
000393,000168:    4337           35264                           CA       DEC9                          	# Load 9 into A
000394,000169:    4340           00006                           EXTEND                                 	#
000395,000170:    4341           60061                           SU       TEMPI                         	# Subtract the value of combined cell
000396,000171:    4342           00006                           EXTEND                                 	#
000397,000172:    4343           14345                           BZF      COMPLETE                      	# If zero, we must have made a 9, game complete
000398,000173: 
000399,000174:    4344           14351                           TCF      NOTCOMP                       	# If zero, we must have made a 9, game complete
000400,000175: 
000401,000176: 
000402,000177:    4345                        COMPLETE                                                  	#
000403,000178: 
000404,000179:    4345           35152                           CA       BIT5                          	# Load value where bit 5 = 1, rest 0 (key rel flash)
000405,000180:    4346           00006                           EXTEND                                 	#
000406,000181:    4347           01011                           WRITE    CH11                          	# Output to DSKY lights IO channel
000407,000182:    4350           24112                           INCR     GM_DONE                       	# Set done flag so we don't allow further play'
000408,000183: 
000409,000184:    4351                        NOTCOMP                                                   	#
000410,000185: 
000411,000186: 
000412,000187:    4351           35140                           CA       NEG_ONE                       	# Load -1 to A (empty)
000413,000188:    4352           50075                           INDEX    CUR_ID                        	# Index by original cell id
000414,000189:    4353           54124                           TS       VALUES                        	# Set original cell to now be empty
000415,000190: 
000416,000191: 
000417,000192: 
000418,000193:    4354           00002                           RETURN                                 	#
000419,000194: 
(End of include-file Down.agc, resuming Main.agc)
000420,000056: $Up.agc
000421,000001:                                                                                          	# See Down.agc for detailed explanation of how the code
000422,000002:                                                                                          	# to move and combine numbers works. The only differences between them
000423,000003:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000424,000004: 
000425,000005:    4355                        MOVE_UP                                                   	#
000426,000006: 
000427,000007:    4355           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000428,000008:    4356           30112                           CA       GM_DONE                       	# Load game complete status into A
000429,000009:    4357           00006                           EXTEND                                 	#
000430,000010:    4360           14362                           BZF      MOVING_UP                     	# Flag is zero, not complete yet
000431,000011: 
000432,000012:    4361           14070                           TCF      MAINLOOP                      	#
000433,000013: 
000434,000014:    4362                        MOVING_UP                                                  	#
000435,000015: 
000436,000016:    4362           35255                           CA       STA_UP                        	#
000437,000017:    4363           54101                           TS       GM_STATE                      	#
000438,000018: 
000439,000019:    4364           30007                           CA       ZERO                          	#
000440,000020:    4365           54123                           TS       PLAY_ID                       	#
000441,000021: 
000442,000022:    4366           35254                           CA       DEC1                          	#
000443,000023:    4367           54113                           TS       ROW_ID                        	#
000444,000024: 
000445,000025:    4370                        U_ROLOOP                                                  	#
000446,000026: 
000447,000027:    4370           50113                           INDEX    ROW_ID                        	#
000448,000028:    4371           35277                           CA       ROW_STRT                      	#
000449,000029:    4372           54075                           TS       CUR_ID                        	#
000450,000030:    4373           65260                           AD       DEC5                          	#
000451,000031:    4374           54115                           TS       END_ID                        	#
000452,000032: 
000453,000033:    4375                        U_COLOOP                                                  	#
000454,000034: 
000455,000035:    4375           50075                           INDEX    CUR_ID                        	#
000456,000036:    4376           35307                           CA       GRID_COL                      	#
000457,000037:    4377           54111                           TS       CELLCOL                       	#
000458,000038: 
000459,000039:    4400           50075                           INDEX    CUR_ID                        	#
000460,000040:    4401           30124                           CA       VALUES                        	#
000461,000041:    4402           54100                           TS       CELL_VALUE                    	#
000462,000042:    4403           65254                           AD       DEC1                          	#
000463,000043:    4404           00006                           EXTEND                                 	#
000464,000044:    4405           14445                           BZF      U_NOCOL                       	#
000465,000045: 
000466,000046: 
000467,000047:    4406                        CHK_ABV                                                   	#
000468,000048: 
000469,000049:    4406           30075                           CA       CUR_ID                        	#
000470,000050:    4407           65151                           AD       NEG5                          	#
000471,000051:    4410           54077                           TS       CHK_ID                        	#
000472,000052: 
000473,000053:    4411           50077                           INDEX    CHK_ID                        	#
000474,000054:    4412           30124                           CA       VALUES                        	#
000475,000055:    4413           54102                           TS       CHK_VALUE                     	#
000476,000056:    4414           65254                           AD       DEC1                          	#
000477,000057:    4415           00006                           EXTEND                                 	#
000478,000058:    4416           14436                           BZF      MOV_UP                        	#
000479,000059: 
000480,000060:    4417                        U_SOMEHR                                                  	#
000481,000061: 
000482,000062:    4417           50111                           INDEX    CELLCOL                       	#
000483,000063:    4420           30103                           CA       MATCHMD                       	#
000484,000064:    4421           00006                           EXTEND                                 	#
000485,000065:    4422           14424                           BZF      U_NOSOF                       	#
000486,000066: 
000487,000067:    4423           14445                           TCF      U_NOCOL                       	#
000488,000068: 
000489,000069:    4424                        U_NOSOF                                                   	#
000490,000070: 
000491,000071:    4424           30100                           CA       CELL_VALUE                    	#
000492,000072:    4425           00006                           EXTEND                                 	#
000493,000073:    4426           60102                           SU       CHK_VALUE                     	#
000494,000074:    4427           00006                           EXTEND                                 	#
000495,000075:    4430           14432                           BZF      U_MATCH                       	#
000496,000076: 
000497,000077:    4431           14445                           TCF      U_NOCOL                       	#
000498,000078: 
000499,000079:    4432                        U_MATCH                                                   	#
000500,000080: 
000501,000081:    4432           50111                           INDEX    CELLCOL                       	#
000502,000082:    4433           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000503,000083: 
000504,000084:    4434           04331                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000505,000085: 
000506,000086:    4435           14445                           TCF      U_NOCOL                       	#
000507,000087:    4436                        MOV_UP                                                    	#
000508,000088: 
000509,000089:    4436           24123                           INCR     PLAY_ID                       	#
000510,000090: 
000511,000091:    4437           30100                           CA       CELL_VALUE                    	#
000512,000092:    4440           50077                           INDEX    CHK_ID                        	#
000513,000093:    4441           54124                           TS       VALUES                        	#
000514,000094: 
000515,000095:    4442           35140                           CA       NEG_ONE                       	#
000516,000096:    4443           50075                           INDEX    CUR_ID                        	#
000517,000097:    4444           54124                           TS       VALUES                        	#
000518,000098: 
000519,000099:    4445                        U_NOCOL                                                   	#
000520,000100: 
000521,000101:    4445           24075                           INCR     CUR_ID                        	#
000522,000102:    4446           30075                           CA       CUR_ID                        	#
000523,000103:    4447           00006                           EXTEND                                 	#
000524,000104:    4450           60115                           SU       END_ID                        	#
000525,000105:    4451           00006                           EXTEND                                 	#
000526,000106:    4452           14454                           BZF      U_NXTRW                       	#
000527,000107: 
000528,000108:    4453           14375                           TCF      U_COLOOP                      	#
000529,000109: 
000530,000110:    4454                        U_NXTRW                                                   	#
000531,000111: 
000532,000112:    4454           54067                           TS       NEWJOB                        	#
000533,000113: 
000534,000114:    4455           35255                           CA       DEC2                          	#
000535,000115:    4456           00006                           EXTEND                                 	#
000536,000116:    4457           60113                           SU       ROW_ID                        	#
000537,000117:    4460           00006                           EXTEND                                 	#
000538,000118:    4461           14307                           BZF      D_DONE                        	#
000539,000119: 
000540,000120: 
000541,000121:    4462           24113                           INCR     ROW_ID                        	#
000542,000122: 
000543,000123:    4463           14370                           TCF      U_ROLOOP                      	#
000544,000124: 
(End of include-file Up.agc, resuming Main.agc)
000545,000057: $Left.agc
000546,000001:                                                                                          	# See Down.agc for detailed explanation of how the code
000547,000002:                                                                                          	# to move and combine numbers works. The only differences between them
000548,000003:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000549,000004: 
000550,000005:    4464                        MOVE_LEFT                                                  	#
000551,000006: 
000552,000007:    4464           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000553,000008:    4465           30112                           CA       GM_DONE                       	# Load game complete status into A
000554,000009:    4466           00006                           EXTEND                                 	#
000555,000010:    4467           14471                           BZF      MOVING_LT                     	# Flag is zero, not complete yet
000556,000011: 
000557,000012:    4470           14070                           TCF      MAINLOOP                      	#
000558,000013: 
000559,000014: 
000560,000015:    4471                        MOVING_LT                                                  	#
000561,000016: 
000562,000017:    4471           35256                           CA       STA_LEFT                      	#
000563,000018:    4472           54101                           TS       GM_STATE                      	#
000564,000019: 
000565,000020:    4473           30007                           CA       ZERO                          	#
000566,000021:    4474           54123                           TS       PLAY_ID                       	#
000567,000022: 
000568,000023:    4475           35254                           CA       DEC1                          	#
000569,000024:    4476           54114                           TS       COL_ID                        	#
000570,000025: 
000571,000026:    4477                        L_COLOOP                                                  	#
000572,000027: 
000573,000028:    4477           50114                           INDEX    COL_ID                        	#
000574,000029:    4500           35302                           CA       COL_STRT                      	#
000575,000030:    4501           54075                           TS       CUR_ID                        	#
000576,000031:    4502           65272                           AD       DEC15                         	#
000577,000032:    4503           54115                           TS       END_ID                        	#
000578,000033: 
000579,000034:    4504                        L_ROLOOP                                                  	#
000580,000035: 
000581,000036:    4504           50075                           INDEX    CUR_ID                        	#
000582,000037:    4505           35334                           CA       GRID_ROW                      	#
000583,000038:    4506           54110                           TS       CELLROW                       	#
000584,000039: 
000585,000040:    4507           50075                           INDEX    CUR_ID                        	#
000586,000041:    4510           30124                           CA       VALUES                        	#
000587,000042:    4511           54100                           TS       CELL_VALUE                    	#
000588,000043:    4512           65254                           AD       DEC1                          	#
000589,000044:    4513           00006                           EXTEND                                 	#
000590,000045:    4514           14554                           BZF      L_NOROW                       	#
000591,000046: 
000592,000047: 
000593,000048:    4515                        CHK_LFT                                                   	#
000594,000049: 
000595,000050:    4515           30075                           CA       CUR_ID                        	#
000596,000051:    4516           65147                           AD       NEG1                          	#
000597,000052:    4517           54077                           TS       CHK_ID                        	#
000598,000053: 
000599,000054:    4520           50077                           INDEX    CHK_ID                        	#
000600,000055:    4521           30124                           CA       VALUES                        	#
000601,000056:    4522           54102                           TS       CHK_VALUE                     	#
000602,000057:    4523           65254                           AD       DEC1                          	#
000603,000058:    4524           00006                           EXTEND                                 	#
000604,000059:    4525           14545                           BZF      MOV_LEFT                      	#
000605,000060: 
000606,000061:    4526                        L_SOMEHR                                                  	#
000607,000062: 
000608,000063:    4526           50110                           INDEX    CELLROW                       	#
000609,000064:    4527           30103                           CA       MATCHMD                       	#
000610,000065:    4530           00006                           EXTEND                                 	#
000611,000066:    4531           14533                           BZF      L_NOMAT                       	#
000612,000067: 
000613,000068:    4532           14554                           TCF      L_NOROW                       	#
000614,000069: 
000615,000070:    4533                        L_NOMAT                                                   	#
000616,000071: 
000617,000072:    4533           30100                           CA       CELL_VALUE                    	#
000618,000073:    4534           00006                           EXTEND                                 	#
000619,000074:    4535           60102                           SU       CHK_VALUE                     	#
000620,000075:    4536           00006                           EXTEND                                 	#
000621,000076:    4537           14541                           BZF      L_MATCH                       	#
000622,000077: 
000623,000078:    4540           14554                           TCF      L_NOROW                       	#
000624,000079: 
000625,000080:    4541                        L_MATCH                                                   	#
000626,000081: 
000627,000082: 
000628,000083:    4541           50110                           INDEX    CELLROW                       	#
000629,000084:    4542           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000630,000085: 
000631,000086:    4543           04331                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000632,000087: 
000633,000088:    4544           14554                           TCF      L_NOROW                       	#
000634,000089:    4545                        MOV_LEFT                                                  	#
000635,000090: 
000636,000091:    4545           24123                           INCR     PLAY_ID                       	#
000637,000092: 
000638,000093:    4546           30100                           CA       CELL_VALUE                    	#
000639,000094:    4547           50077                           INDEX    CHK_ID                        	#
000640,000095:    4550           54124                           TS       VALUES                        	#
000641,000096: 
000642,000097:    4551           35140                           CA       NEG_ONE                       	#
000643,000098:    4552           50075                           INDEX    CUR_ID                        	#
000644,000099:    4553           54124                           TS       VALUES                        	#
000645,000100: 
000646,000101:    4554                        L_NOROW                                                   	#
000647,000102: 
000648,000103:    4554           30075                           CA       CUR_ID                        	#
000649,000104:    4555           65260                           AD       DEC5                          	#
000650,000105:    4556           54075                           TS       CUR_ID                        	#
000651,000106:    4557           00006                           EXTEND                                 	#
000652,000107:    4560           60115                           SU       END_ID                        	#
000653,000108:    4561           00006                           EXTEND                                 	#
000654,000109:    4562           14564                           BZF      L_NXTCOL                      	#
000655,000110: 
000656,000111:    4563           14504                           TCF      L_ROLOOP                      	#
000657,000112: 
000658,000113:    4564                        L_NXTCOL                                                  	#
000659,000114:    4564           54067                           TS       NEWJOB                        	#
000660,000115: 
000661,000116:    4565           35257                           CA       DEC4                          	#
000662,000117:    4566           00006                           EXTEND                                 	#
000663,000118:    4567           60114                           SU       COL_ID                        	#
000664,000119:    4570           00006                           EXTEND                                 	#
000665,000120:    4571           14307                           BZF      D_DONE                        	#
000666,000121: 
000667,000122: 
000668,000123:    4572           24114                           INCR     COL_ID                        	#
000669,000124: 
000670,000125:    4573           14477                           TCF      L_COLOOP                      	#
000671,000126: 
000672,000127: 
(End of include-file Left.agc, resuming Main.agc)
000673,000058: $Right.agc
000674,000001: 
000675,000002:                                                                                          	# See Down.agc for detailed explanation of how the code
000676,000003:                                                                                          	# to move and combine numbers works. The only differences between them
000677,000004:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000678,000005: 
000679,000006:    4574                        MOVE_RT                                                   	#
000680,000007: 
000681,000008:    4574           04201                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000682,000009:    4575           30112                           CA       GM_DONE                       	# Load game complete status into A
000683,000010:    4576           00006                           EXTEND                                 	#
000684,000011:    4577           14601                           BZF      MOVING_RT                     	# Flag is zero, not complete yet
000685,000012: 
000686,000013:    4600           14070                           TCF      MAINLOOP                      	#
000687,000014: 
000688,000015:    4601                        MOVING_RT                                                  	#
000689,000016: 
000690,000017:    4601           35257                           CA       STA_RIGHT                     	#
000691,000018:    4602           54101                           TS       GM_STATE                      	#
000692,000019: 
000693,000020:    4603           30007                           CA       ZERO                          	#
000694,000021:    4604           54123                           TS       PLAY_ID                       	#
000695,000022: 
000696,000023:    4605           35256                           CA       DEC3                          	#
000697,000024:    4606           54114                           TS       COL_ID                        	#
000698,000025: 
000699,000026:    4607                        R_COLOOP                                                  	#
000700,000027: 
000701,000028:    4607           50114                           INDEX    COL_ID                        	#
000702,000029:    4610           35302                           CA       COL_STRT                      	#
000703,000030:    4611           54075                           TS       CUR_ID                        	#
000704,000031:    4612           65272                           AD       DEC15                         	#
000705,000032:    4613           54115                           TS       END_ID                        	#
000706,000033: 
000707,000034:    4614                        R_ROLOOP                                                  	#
000708,000035: 
000709,000036:    4614           50075                           INDEX    CUR_ID                        	#
000710,000037:    4615           35334                           CA       GRID_ROW                      	#
000711,000038:    4616           54110                           TS       CELLROW                       	#
000712,000039: 
000713,000040:    4617           50075                           INDEX    CUR_ID                        	#
000714,000041:    4620           30124                           CA       VALUES                        	#
000715,000042:    4621           54100                           TS       CELL_VALUE                    	#
000716,000043:    4622           65254                           AD       DEC1                          	#
000717,000044:    4623           00006                           EXTEND                                 	#
000718,000045:    4624           14664                           BZF      R_NOROW                       	#
000719,000046: 
000720,000047: 
000721,000048:    4625                        CHK_RT                                                    	#
000722,000049: 
000723,000050:    4625           30075                           CA       CUR_ID                        	#
000724,000051:    4626           65254                           AD       DEC1                          	#
000725,000052:    4627           54077                           TS       CHK_ID                        	#
000726,000053: 
000727,000054:    4630           50077                           INDEX    CHK_ID                        	#
000728,000055:    4631           30124                           CA       VALUES                        	#
000729,000056:    4632           54102                           TS       CHK_VALUE                     	#
000730,000057:    4633           65254                           AD       DEC1                          	#
000731,000058:    4634           00006                           EXTEND                                 	#
000732,000059:    4635           14655                           BZF      MOV_RT                        	#
000733,000060: 
000734,000061:    4636                        R_SOMEHR                                                  	#
000735,000062: 
000736,000063:    4636           50110                           INDEX    CELLROW                       	#
000737,000064:    4637           30103                           CA       MATCHMD                       	#
000738,000065:    4640           00006                           EXTEND                                 	#
000739,000066:    4641           14643                           BZF      R_NOMAT                       	#
000740,000067: 
000741,000068:    4642           14664                           TCF      R_NOROW                       	#
000742,000069: 
000743,000070:    4643                        R_NOMAT                                                   	#
000744,000071: 
000745,000072:    4643           30100                           CA       CELL_VALUE                    	#
000746,000073:    4644           00006                           EXTEND                                 	#
000747,000074:    4645           60102                           SU       CHK_VALUE                     	#
000748,000075:    4646           00006                           EXTEND                                 	#
000749,000076:    4647           14651                           BZF      R_MATCH                       	#
000750,000077: 
000751,000078:    4650           14664                           TCF      R_NOROW                       	#
000752,000079: 
000753,000080:    4651                        R_MATCH                                                   	#
000754,000081: 
000755,000082:    4651           50110                           INDEX    CELLROW                       	#
000756,000083:    4652           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000757,000084: 
000758,000085:    4653           04331                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000759,000086: 
000760,000087:    4654           14664                           TCF      R_NOROW                       	#
000761,000088:    4655                        MOV_RT                                                    	#
000762,000089: 
000763,000090:    4655           24123                           INCR     PLAY_ID                       	#
000764,000091: 
000765,000092:    4656           30100                           CA       CELL_VALUE                    	#
000766,000093:    4657           50077                           INDEX    CHK_ID                        	#
000767,000094:    4660           54124                           TS       VALUES                        	#
000768,000095: 
000769,000096:    4661           35140                           CA       NEG_ONE                       	#
000770,000097:    4662           50075                           INDEX    CUR_ID                        	#
000771,000098:    4663           54124                           TS       VALUES                        	#
000772,000099: 
000773,000100:    4664                        R_NOROW                                                   	#
000774,000101: 
000775,000102:    4664           30075                           CA       CUR_ID                        	#
000776,000103:    4665           65260                           AD       DEC5                          	#
000777,000104:    4666           54075                           TS       CUR_ID                        	#
000778,000105:    4667           00006                           EXTEND                                 	#
000779,000106:    4670           60115                           SU       END_ID                        	#
000780,000107:    4671           00006                           EXTEND                                 	#
000781,000108:    4672           14674                           BZF      R_NXTCOL                      	#
000782,000109: 
000783,000110:    4673           14614                           TCF      R_ROLOOP                      	#
000784,000111: 
000785,000112:    4674                        R_NXTCOL                                                  	#
000786,000113:    4674           54067                           TS       NEWJOB                        	#
000787,000114:    4675           30114                           CA       COL_ID                        	#
000788,000115:    4676           00006                           EXTEND                                 	#
000789,000116:    4677           14307                           BZF      D_DONE                        	#
000790,000117: 
000791,000118:    4700           00006                           EXTEND                                 	#
000792,000119:    4701           26114                           DIM      COL_ID                        	#
000793,000120: 
000794,000121:    4702           14607                           TCF      R_COLOOP                      	#
000795,000122: 
(End of include-file Right.agc, resuming Main.agc)
000796,000059: $Display.agc
000797,000001: 
000798,000002: 
000799,000003:                                                                                          	# DISPLAY ALL 15 SEGMENTS IN THE GAME GRID
000800,000004: 
000801,000005:    4703                        DISP15                                                    	#
000802,000006:    4703           00006                           EXTEND                                 	#
000803,000007:    4704           22071                           QXCH     RET_ADR                       	# Store return address because we TC elsewhere
000804,000008: 
000805,000009:    4705           35261                           CA       DEC6                          	# Do top left cell first as its digit doesn't have a segment partner
000806,000010:    4706           54075                           TS       CUR_ID                        	# Use id for top left cell
000807,000011:    4707           04725                           TC       DISPNUM                       	# Call function to display this digit
000808,000012: 
000809,000013:    4710           24075                           INCR     CUR_ID                        	# Move onto next digit. The rest all come in pairs.
000810,000014: 
000811,000015:    4711                        SEGLOOP                                                   	#
000812,000016: 
000813,000017:    4711           04725                           TC       DISPNUM                       	# Call function to display next two digits.
000814,000018: 
000815,000019:    4712           24075                           INCR     CUR_ID                        	# Inc cell id, it's now +2 from before display call.
000816,000020:    4713           35142                           CA       TWENTY1                       	# Load id of last cell + 1
000817,000021:    4714           00006                           EXTEND                                 	#
000818,000022:    4715           60075                           SU       CUR_ID                        	# Subtract current cell id
000819,000023:    4716           00006                           EXTEND                                 	#
000820,000024:    4717           14722                           BZF      DONE15                        	# If zero, we displayed all cells
000821,000025: 
000822,000026:    4720           54067                           TS       NEWJOB                        	# Nudge watchdog as display code fairly slow
000823,000027: 
000824,000028:    4721           14711                           TCF      SEGLOOP                       	# Loop back to draw the next two segments
000825,000029: 
000826,000030: 
000827,000031:    4722                        DONE15                                                    	#
000828,000032:    4722           00006                           EXTEND                                 	#
000829,000033:    4723           22071                           QXCH     RET_ADR                       	# Retrieve our return address
000830,000034:    4724           00002                           RETURN                                 	# Return to caller (multiple places)
000831,000035: 
000832,000036: 
000833,000037: 
000834,000038: 
000835,000039:    4725                        DISPNUM                                                   	# CUR_ID is the index of next segment to display (0=left prog, 20 = digit 5 bottom row)
000836,000040:                                                                                          	# Print value held in VALUES array to correct segment
000837,000041: 
000838,000042:                                                                                          	# Data is sent to the DSKY via Channel 10 two digits at a time.
000839,000043:                                                                                          	# Bits 10-14 select which pair of digits we want to draw
000840,000044:                                                                                          	# Bits 0-4 selects which digit to draw on the right segment
000841,000045:                                                                                          	# Bits 5-9 selects which digit to draw on the left segment
000842,000046: 
000843,000047:    4725           30007                           CA       ZEROES                        	# Load 0 into accumulator from a fixed rom constant
000844,000048:    4726           54117                           TS       DIGIT_L                       	# Reset left digit calculation to 0 (empty)
000845,000049:    4727           54120                           TS       DIGIT_R                       	# Reset right digit calculation to 0 (empty)
000846,000050: 
000847,000051:    4730           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000848,000052:    4731           35213                           CA       SEG_0                         	# Get which pair of digits this segment belongs to
000849,000053:    4732           54076                           TS       SEG_OUT                       	# Save ID to RAM
000850,000054: 
000851,000055:    4733           50076                           INDEX    SEG_OUT                       	# Index next instruction by segment pair id
000852,000056:    4734           35240                           CA       SEGCODE                       	# Get value required in bits 10-14 to select pair, using id
000853,000057:    4735           54116                           TS       DSKY_OUT                      	# Save to RAM to use later when we have the digit data
000854,000058: 
000855,000059:    4736           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000856,000060:    4737           30124                           CA       VALUES                        	# Get the value in RAM we want to display here
000857,000061:    4740           54061                           TS       TEMPI                         	# Save to temporary RAM variable
000858,000062: 
000859,000063:    4741           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000860,000064:    4742           35166                           CA       LEFTRIGHT                     	# Get whether this segment is left or right of its pair
000861,000065:    4743           00006                           EXTEND                                 	# Extend to use a new Block 2 AGC instruction
000862,000066:    4744           14763                           BZF      SKIPLEFT                      	# If zero (is right), skip the left digit
000863,000067: 
000864,000068:    4745                        CALCLEFT                                                  	#
000865,000069:    4745           50061                           INDEX    TEMPI                         	# Index next instruction by our digit (0-9)
000866,000070:    4746           35154                           CA       DSP0                          	# Get the 5-bit code for this digit to send to DSKY
000867,000071:    4747           54022                           TS       CYL                           	# Transfer it to the shift left register
000868,000072:    4750           30022                           CA       CYL                           	# Shift left no 1
000869,000073:    4751           30022                           CA       CYL                           	# Shift left no 2
000870,000074:    4752           30022                           CA       CYL                           	# Shift left no 3
000871,000075:    4753           30022                           CA       CYL                           	# Shift left no 4
000872,000076:    4754           30022                           CA       CYL                           	# Shift left no 5 (is now in bits 5-9 for the left digit)
000873,000077:    4755           54117                           TS       DIGIT_L                       	# Save to RAM to use later
000874,000078: 
000875,000079:    4756           24075                           INCR     CUR_ID                        	# Move onto the right segment of the pair
000876,000080:    4757           50075                           INDEX    CUR_ID                        	# Index by new segment id
000877,000081:    4760           30124                           CA       VALUES                        	# Get value to display on right digit
000878,000082:    4761           54120                           TS       DIGIT_R                       	# Save to RAM to use later
000879,000083: 
000880,000084:    4762           14765                           TCF      DIDLEFT                       	# Skip the code to set only the right digit if left not drawn
000881,000085: 
000882,000086:    4763                        SKIPLEFT                                                  	#
000883,000087:    4763           30061                           CA       TEMPI                         	# Load the value for this digit to draw on the right of pair
000884,000088:    4764           54120                           TS       DIGIT_R                       	# Store to RAM
000885,000089: 
000886,000090:    4765                        DIDLEFT                                                   	#
000887,000091: 
000888,000092:    4765           50120                           INDEX    DIGIT_R                       	# Index by value of right digit
000889,000093:    4766           35154                           CA       DSP0                          	# Get the 5-bit code for this digit to send to DSKY
000890,000094: 
000891,000095:    4767                        OUTPUT                                                    	#
000892,000096:    4767           60116                           AD       DSKY_OUT                      	# Add bits 10-14
000893,000097:    4770           60117                           AD       DIGIT_L                       	# Add bits 5-9
000894,000098:    4771           00006                           EXTEND                                 	# Extend in order to use I/O channel instruction
000895,000099:    4772           01010                           WRITE    CH10                          	# Send the value to channel 10 to display on DKSY
000896,000100: 
000897,000101:    4773           00002                           RETURN                                 	# Return from subroutine
000898,000102: 
000899,000103: 
000900,000104: 
000901,000105:                                                                                          	#Hold up CPU to delay between movement of numbers to give animation effect
000902,000106: 
000903,000107:    4774           01750        IODELAYT           DEC      1000       B-14               	# This constant is stored in fixed ROM
000904,000108: 
000905,000109:    4775                        IODELAY                                                   	#
000906,000110:    4775           54061                           TS       TEMPI                         	# Save accumulator.
000907,000111:    4776           14777                           NOOP                                   	# Do thing for a bit
000908,000112:    4777           34774                           CA       IODELAYT                      	# Load delay into A
000909,000113:    5000           54067                           TS       NEWJOB                        	# Nudge watchdog as we're in a busy loop
000910,000114:    5001           10000                           CCS      A                             	# Decrement a and compare
000911,000115:    5002           15000                           TCF      -2                            	# >0 so jump back up to TS NEWJOB
000912,000116:    5003           30061                           CA       TEMPI                         	# Restore accumulator.
000913,000117:    5004           00002                           RETURN                                 	# Return to where delay was asked for
(End of include-file Display.agc, resuming Main.agc)
000914,000060: $Interrupts.agc
000915,000001: 
000916,000002:    5005                                           BLOCK    02                            	#
000917,000003:    5005                        T3RUPT                                                    	#
000918,000004:    5005           35133                           CAF      O37774                        	# Schedule another TIME3 interrupt
000919,000005:    5006           54026                           TS       TIME3                         	# ... and don't do anything else, yet...
000920,000006: 
000921,000007:    5007           24074                           INCR     COUNTER                       	# Increment counter for random number generation
000922,000008: 
000923,000009:    5010           52011        RESUME             DXCH     ARUPT                         	# Restore A, L, and Q, and exit the interrupt
000924,000010:    5011           00006                           EXTEND                                 	#
000925,000011:    5012           22012                           QXCH     QRUPT                         	#
000926,000012:    5013           50017                           RESUME                                 	#
(End of include-file Interrupts.agc, resuming Main.agc)
000927,000061: $Input.agc
000928,000001:    5014                        KEYRUPT1                                                  	# Triggered automatically when a key is pressed
000929,000002: 
000930,000003:    5014           35130                           CA       NOKEY                         	# Load code for 'NO KEY PRESSED'
000931,000004:    5015           54070                           TS       KEYBUF                        	# Clear key buffer so we don't persist presses from when they are not wanted
000932,000005: 
000933,000006:    5016           30073                           CA       ACTIVE                        	# Load whether game is active
000934,000007:    5017           00006                           EXTEND                                 	#
000935,000008:    5020           15025                           BZF      CAN_READ                      	# If not active, we can accept key press to start the game
000936,000009: 
000937,000010:    5021           30101                           CA       GM_STATE                      	# Load game state into A
000938,000011:    5022           00006                           EXTEND                                 	#
000939,000012:    5023           15025                           BZF      CAN_READ                      	# If not 'check_key', we don't care about key presses
000940,000013: 
000941,000014:    5024           15031                           TCF      EXITRUPT                      	# Exit, we're not listening for key presses while processing happens
000942,000015: 
000943,000016:    5025                        CAN_READ                                                  	#
000944,000017: 
000945,000018:    5025           00006                           EXTEND                                 	#
000946,000019:    5026           00015                           READ     CH15                          	# Read I/O channel that contains the keycode
000947,000020:    5027           75132                           MASK     LOW5                          	# Retain only lower 5 bits
000948,000021:    5030           54070                           TS       KEYBUF                        	# Store into keyboard buffer variable for main loop to pick up
000949,000022: 
000950,000023:    5031                        EXITRUPT                                                  	#
000951,000024:    5031           30007                           CA       ZEROES                        	# Clear the input channel
000952,000025:    5032           00006                           EXTEND                                 	#
000953,000026:    5033           01015                           WRITE    CH15                          	#
000954,000027: 
000955,000028:    5034           52011                           DXCH     ARUPT                         	# Restore A, L, and Q, and exit the interrupt
000956,000029:    5035           00006                           EXTEND                                 	#
000957,000030:    5036           22012                           QXCH     QRUPT                         	#
000958,000031:    5037           50017                           RESUME                                 	#
000959,000032: 
000960,000033: 
000961,000034: 
000962,000035: 
000963,000036:    5040                        WAITKEY                                                   	# Waiting for any key press to start game
000964,000037:                                                                                          	# If we didn't wait, the RNG would always start in same state
000965,000038: 
000966,000039:    5040           35130                           CA       NOKEY                         	# Load key code for 'no key pressed'
000967,000040:    5041           00006                           EXTEND                                 	#
000968,000041:    5042           60070                           SU       KEYBUF                        	# Subtract the key code read
000969,000042:    5043           00006                           EXTEND                                 	#
000970,000043:    5044           15051                           BZF      WAITMORE                      	# If zero, nothing pressed, continue waiting
000971,000044: 
000972,000045:    5045           35130                           CA       NOKEY                         	# Clear keyboard buffer so not carried into game
000973,000046:    5046           54070                           TS       KEYBUF                        	#
000974,000047: 
000975,000048:    5047           35260                           CA       STA_ADD                       	# Set game state to add the two starting numbers and exit
000976,000049:    5050           54101                           TS       GM_STATE                      	#
000977,000050: 
000978,000051:    5051                        WAITMORE                                                  	#
000979,000052:    5051           14070                           TCF      MAINLOOP                      	#
000980,000053: 
000981,000054: 
000982,000055: 
000983,000056:    5052                        CHECK_KEY                                                  	# Check whether key press in buffer from interrupt
000984,000057: 
000985,000058:    5052           35130                           CA       NOKEY                         	# Load key code for nothing pressed into A
000986,000059:    5053           56070                           XCH      KEYBUF                        	# Swap A and buffer. A is now key code and buffer is clear.
000987,000060:    5054           50000                           INDEX    A                             	# Index using the keycode
000988,000061:    5055           15056                           TCF      KEYTABL                       	# Into a jump table with jumps for each possible key
000989,000062: 
000990,000063:                                                                                          	# We ignore all presses except for 2, 4, 6, 8 for game control and ENTER/RESTART to reset game.
000991,000064:    5056                        KEYTABL                                                   	#
000992,000065:    5056           15117                           TCF      ENDKYCK                       	# unused
000993,000066:    5057           15117                           TCF      ENDKYCK                       	# 1
000994,000067:    5060           14210                           TCF      MOVE_DOWN                     	# 2
000995,000068:    5061           15117                           TCF      ENDKYCK                       	# 3
000996,000069:    5062           14464                           TCF      MOVE_LEFT                     	# 4
000997,000070:    5063           15117                           TCF      ENDKYCK                       	# 5
000998,000071:    5064           14574                           TCF      MOVE_RT                       	# 6
000999,000072:    5065           15117                           TCF      ENDKYCK                       	# 7
001000,000073:    5066           14355                           TCF      MOVE_UP                       	# 8
001001,000074:    5067           15117                           TCF      ENDKYCK                       	# 9
001002,000075:    5070           15117                           TCF      ENDKYCK                       	# unused
001003,000076:    5071           15117                           TCF      ENDKYCK                       	# unused
001004,000077:    5072           15117                           TCF      ENDKYCK                       	# unused
001005,000078:    5073           15117                           TCF      ENDKYCK                       	# unused
001006,000079:    5074           15117                           TCF      ENDKYCK                       	# unused
001007,000080:    5075           15117                           TCF      ENDKYCK                       	# unused
001008,000081:    5076           15117                           TCF      ENDKYCK                       	# 0
001009,000082:    5077           15117                           TCF      ENDKYCK                       	# VERB
001010,000083:    5100           14054                           TCF      INIT                          	# RSET
001011,000084:    5101           15117                           TCF      ENDKYCK                       	# unused
001012,000085:    5102           15117                           TCF      ENDKYCK                       	# unused
001013,000086:    5103           15117                           TCF      ENDKYCK                       	# unused
001014,000087:    5104           15117                           TCF      ENDKYCK                       	# unused
001015,000088:    5105           15117                           TCF      ENDKYCK                       	# unused
001016,000089:    5106           15117                           TCF      ENDKYCK                       	# unused
001017,000090:    5107           15117                           TCF      ENDKYCK                       	# KEY REL
001018,000091:    5110           15117                           TCF      ENDKYCK                       	# +
001019,000092:    5111           15117                           TCF      ENDKYCK                       	# -
001020,000093:    5112           14054                           TCF      INIT                          	# ENTR
001021,000094:    5113           15117                           TCF      ENDKYCK                       	# unused
001022,000095:    5114           15117                           TCF      ENDKYCK                       	# CLR
001023,000096:    5115           15117                           TCF      ENDKYCK                       	# NOUN
001024,000097:    5116           15117                           TCF      ENDKYCK                       	# NOKEY
001025,000098: 
001026,000099:    5117                        ENDKYCK                                                   	#
001027,000100:    5117           14070                           TCF      MAINLOOP                      	# When we do nothing, just exit back to main loop to wait for a valid key
001028,000101: 
(End of include-file Input.agc, resuming Main.agc)
001029,000062: $Random.agc
001030,000001: 
001031,000002:    5120                        RANDOM                                                    	#
001032,000003: 
001033,000004:                                                                                          	# I tried various methods for generating 'random' numbers. Most traditional methods are designed
001034,000005:                                                                                          	# for 8-bit or 16-bit hardware, and the various xor 'magic numbers' are particular to that paradigm.
001035,000006:                                                                                          	# I'm not patient enough to find values that might work. Using a fast-moving index into a lookup
001036,000007:                                                                                          	# table should be 'good enough' for a game.
001037,000008: 
001038,000009: 
001039,000010:    5120           30025                           CA       TIME1                         	# Load a register that is updated very often by the hardware
001040,000011:    5121           60074                           AD       COUNTER                       	# Add previous value of counter in case we were so quick TIME1 didn't change
001041,000012:    5122           75143                           MASK     MASK128                       	# Mask value so now between 0-127.
001042,000013:    5123           54074                           TS       COUNTER                       	# Store this as new counter
001043,000014:    5124           50074                           INDEX    COUNTER                       	# Index using value between 0-127
001044,000015:    5125           35361                           CA       RAND1                         	# Into a table of random numbers between 0 and 9 (generated in Excel)
001045,000016:    5126           24074                           INCR     COUNTER                       	# Move counter on one so next index unlikely to be the same
001046,000017: 
001047,000018: 
001048,000019:    5127           00002                           RETURN                                 	#
001049,000020: 
001050,000021: 
(End of include-file Random.agc, resuming Main.agc)
001051,000063: 
001052,000064: $Constants.agc
001053,000001:                                                                                          	# The AGC does not support 'immediate mode', where you can embed a fixed value into the operand.
001054,000002:                                                                                          	# So where you might do lda #48 in 6502 to load 48 into A, here 48 must be present somewhere in RAM
001055,000003:                                                                                          	# or ROM so that it has an address we can reference in 'CA MYCONSTANT'.
001056,000004:                                                                                          	# So these constants are stored in the ROM itself as data to be lookup up when needed.
001057,000005: 
001058,000006:                                                                                          	#-----------------------------------------------------------------------
001059,000007:                                                                                          	# Constants and read-only memory.
001060,000008: 
001061,000009:                                                                                          	# Names of CPU registers.
001062,000010:    5130                        A                  EQUALS   0                             	#
001063,000011:    5130                        L                  EQUALS   1                             	# L AND Q ARE BOTH CHANNELS AND REGISTERS.
001064,000012:    5130                        Q                  EQUALS   2                             	#
001065,000013:    5130                        EBANK              EQUALS   3                             	#
001066,000014:    5130                        FBANK              EQUALS   4                             	#
001067,000015:    5130                        Z                  EQUALS   5                             	# ADJACENT TO FBANK AND BBANK FOR DXCH Z
001068,000016:    5130                        BBANK              EQUALS   6                             	# (DTCB) AND DXCH FBANK (DTCF).
001069,000017:    5130                        ZEROES             EQUALS   7                             	# REGISTER 7 IS A ZERO-SOURCE, USED BY ZL.
001070,000018:    5130                        ARUPT              EQUALS   10                            	# INTERRUPT STORAGE.
001071,000019:    5130                        LRUPT              EQUALS   11                            	#
001072,000020:    5130                        QRUPT              EQUALS   12                            	#
001073,000021:    5130                        SAMPTIME           EQUALS   13                            	# SAMPLED TIME 1 & 2.
001074,000022:    5130                        ZRUPT              EQUALS   15                            	# (13 AND 14 ARE SPARES.)
001075,000023:    5130                        BANKRUPT           EQUALS   16                            	# USUALLY HOLDS FBANK OR BBANK.
001076,000024:    5130                        BRUPT              EQUALS   17                            	# RESUME ADDRESS AS WELL.
001077,000025:    5130                        CYR                EQUALS   20                            	#
001078,000026:    5130                        SR                 EQUALS   21                            	#
001079,000027:    5130                        CYL                EQUALS   22                            	#
001080,000028:    5130                        EDOP               EQUALS   23                            	#
001081,000029: 
001082,000030: 
001083,000031:    5130                        CH10               EQUALS   10                            	#
001084,000032:    5130                        CH11               EQUALS   11                            	#
001085,000033:    5130                        CH12               EQUALS   12                            	#
001086,000034:    5130                        CH15               EQUALS   15                            	#
001087,000035:    5130                        CH32               EQUALS   32                            	#
001088,000036:    5130                        CH13               EQUALS   13                            	#
001089,000037:    5130           00040        NOKEY              OCT      40                            	#
001090,000038: 
001091,000039:    5131           40000        BIT15              DEC      16384      B-14               	#
001092,000040:    5132  0000007               ZERO               EQUALS   ZEROES                        	#
001093,000041: 
001094,000042: 
001095,000043:    5132           00037        LOW5               OCT      37                            	#
001096,000044: 
001097,000045:    5133           37774        O37774             OCT      37774                         	#
001098,000046:    5134           37777        O37777             OCT      37777                         	#
001099,000047: 
001100,000048:    5135           00012        TEN                DEC      10         B-14               	#
001101,000049:    5136           00034        CLEARBTN           DEC      28         B-14               	#
001102,000050:    5137           00022        RESETBTN           DEC      18         B-14               	#
001103,000051:    5140           77776        NEG_ONE            DEC      -1         B-14               	#
001104,000052: 
001105,000053:    5141           00024        TWENTY             DEC      20         B-14               	#
001106,000054:    5142           00025        TWENTY1            DEC      21         B-14               	#
001107,000055:    5143           00177        MASK128            DEC      127        B-14               	#
001108,000056:    5144           00017        MASK15             DEC      15         B-14               	#
001109,000057:    5145           00400        TWO56              DEC      256        B-14               	#
001110,000058:    5146           00016        FOURTEEN           DEC      14         B-14               	#
001111,000059: 
001112,000060:    5147           77776        NEG1               DEC      -1         B-14               	#
001113,000061:    5150           77775        NEG2               DEC      -2         B-14               	#
001114,000062:    5151           77772        NEG5               DEC      -5         B-14               	#
001115,000063:    5152           00176        BIT5               DEC      126        B-14               	#
001116,000064: 
001117,000065: 
(End of include-file Constants.agc, resuming Main.agc)
001118,000065: $Tables.agc
001119,000001: 
001120,000002:                                                                                          	# Because constants are held in fixed memory (ROM), we can organise them consecutively
001121,000003:                                                                                          	# and use them as handy lookup tables
001122,000004: 
001123,000005:                                                                                          	# For each possible digit (blank, 0-9), the 5-bit code we need to send to the DSKY.
001124,000006: 
001125,000007:    5153           00000        DSPBLANK           OCT      0                             	#
001126,000008:    5154           00025        DSP0               OCT      25                            	#
001127,000009:    5155           00003        DSP1               OCT      3                             	#
001128,000010:    5156           00031        DSP2               OCT      31                            	#
001129,000011:    5157           00033        DSP3               OCT      33                            	#
001130,000012:    5160           00017        DSP4               OCT      17                            	#
001131,000013:    5161           00036        DSP5               OCT      36                            	#
001132,000014:    5162           00034        DSP6               OCT      34                            	#
001133,000015:    5163           00023        DSP7               OCT      23                            	#
001134,000016:    5164           00035        DSP8               OCT      35                            	#
001135,000017:    5165           00037        DSP9               OCT      37                            	#
001136,000018: 
001137,000019:                                                                                          	# For each of the 21 display digits, is it left (1) or right (0) of the pair?
001138,000020: 
001139,000021:    5166           00001        LEFTRIGHT           DEC      1          B-14               	#
001140,000022:    5167           00000        LR1                DEC      0          B-14               	#
001141,000023:    5170           00001        LR2                DEC      1          B-14               	#
001142,000024:    5171           00000        LR3                DEC      0          B-14               	#
001143,000025:    5172           00001        LR4                DEC      1          B-14               	#
001144,000026:    5173           00000        LR5                DEC      0          B-14               	#
001145,000027:    5174           00000        LR6                DEC      0          B-14               	#
001146,000028:    5175           00001        LR7                DEC      1          B-14               	#
001147,000029:    5176           00000        LR8                DEC      0          B-14               	#
001148,000030:    5177           00001        LR9                DEC      1          B-14               	#
001149,000031:    5200           00000        LR10               DEC      0          B-14               	#
001150,000032:    5201           00001        LR11               DEC      1          B-14               	#
001151,000033:    5202           00000        LR12               DEC      0          B-14               	#
001152,000034:    5203           00001        LR13               DEC      1          B-14               	#
001153,000035:    5204           00000        LR14               DEC      0          B-14               	#
001154,000036:    5205           00001        LR15               DEC      1          B-14               	#
001155,000037:    5206           00000        LR16               DEC      0          B-14               	#
001156,000038:    5207           00001        LR17               DEC      1          B-14               	#
001157,000039:    5210           00000        LR18               DEC      0          B-14               	#
001158,000040:    5211           00001        LR19               DEC      1          B-14               	#
001159,000041:    5212           00000        LR20               DEC      0          B-14               	#
001160,000042: 
001161,000043:                                                                                          	# For each of the 21 display digits, which pair of segments does it belong to?
001162,000044: 
001163,000045:    5213           00000        SEG_0              DEC      00         B-14               	#
001164,000046:    5214           00000        SEG_1              DEC      00         B-14               	#
001165,000047:    5215           00001        SEG_2              DEC      01         B-14               	#
001166,000048:    5216           00001        SEG_3              DEC      01         B-14               	#
001167,000049:    5217           00002        SEG_4              DEC      02         B-14               	#
001168,000050:    5220           00002        SEG_5              DEC      02         B-14               	#
001169,000051:    5221           00003        SEG_6              DEC      03         B-14               	#
001170,000052:    5222           00004        SEG_7              DEC      04         B-14               	#
001171,000053:    5223           00004        SEG_8              DEC      04         B-14               	#
001172,000054:    5224           00005        SEG_9              DEC      05         B-14               	#
001173,000055:    5225           00005        SEG_10             DEC      05         B-14               	#
001174,000056:    5226           00006        SEG_11             DEC      06         B-14               	#
001175,000057:    5227           00006        SEG_12             DEC      06         B-14               	#
001176,000058:    5230           00007        SEG_13             DEC      07         B-14               	#
001177,000059:    5231           00007        SEG_14             DEC      07         B-14               	#
001178,000060:    5232           00010        SEG_15             DEC      08         B-14               	#
001179,000061:    5233           00010        SEG_16             DEC      08         B-14               	#
001180,000062:    5234           00011        SEG_17             DEC      09         B-14               	#
001181,000063:    5235           00011        SEG_18             DEC      09         B-14               	#
001182,000064:    5236           00012        SEG_19             DEC      10         B-14               	#
001183,000065:    5237           00012        SEG_20             DEC      10         B-14               	#
001184,000066: 
001185,000067: 
001186,000068:                                                                                          	# Lookup bits 10-14 to select the segement pair in Channel 10 WRITE
001187,000069: 
001188,000070: 
001189,000071:    5240           54000        SEGCODE            OCT      54000                         	#
001190,000072:    5241           50000        VERBLR             OCT      50000                         	#
001191,000073:    5242           44000        NOUNLR             OCT      44000                         	#
001192,000074:    5243           40000        TOP1               OCT      40000                         	#
001193,000075:    5244           34000        TOP23              OCT      34000                         	#
001194,000076:    5245           30000        TOP45              OCT      30000                         	#
001195,000077:    5246           24000        MID12              OCT      24000                         	#
001196,000078:    5247           20000        MID34              OCT      20000                         	#
001197,000079:    5250           14000        MID5BOT1           OCT      14000                         	#
001198,000080:    5251           10000        BOT23              OCT      10000                         	#
001199,000081:    5252           04000        BOT45              OCT      4000                          	#
001200,000082: 
001201,000083: 
001202,000084: 
001203,000085:                                                                                          	# Decimal table for easy loading into A
001204,000086: 
001205,000087:    5253           00000        DIGITS             DEC      0          B-14               	#
001206,000088:    5254           00001        DEC1               DEC      1          B-14               	#
001207,000089:    5255           00002        DEC2               DEC      2          B-14               	#
001208,000090:    5256           00003        DEC3               DEC      3          B-14               	#
001209,000091:    5257           00004        DEC4               DEC      4          B-14               	#
001210,000092:    5260           00005        DEC5               DEC      5          B-14               	#
001211,000093:    5261           00006        DEC6               DEC      6          B-14               	#
001212,000094:    5262           00007        DEC7               DEC      7          B-14               	#
001213,000095:    5263           00010        DEC8               DEC      8          B-14               	#
001214,000096:    5264           00011        DEC9               DEC      9          B-14               	#
001215,000097:    5265           00012        DEC10              DEC      10         B-14               	#
001216,000098:    5266           00013        DEC11              DEC      11         B-14               	#
001217,000099:    5267           00014        DEC12              DEC      12         B-14               	#
001218,000100:    5270           00015        DEC13              DEC      13         B-14               	#
001219,000101:    5271           00016        DEC14              DEC      14         B-14               	#
001220,000102:    5272           00017        DEC15              DEC      15         B-14               	#
001221,000103:    5273           00020        DEC16              DEC      16         B-14               	#
001222,000104:    5274           00021        DEC17              DEC      17         B-14               	#
001223,000105:    5275           00022        DEC18              DEC      18         B-14               	#
001224,000106:    5276           00023        DEC19              DEC      19         B-14               	#
001225,000107: 
001226,000108:                                                                                          	# Game state constants, re-using some of the above
001227,000109: 
001228,000110:    5277     5253               STA_INPUT           EQUALS   DIGITS                        	#
001229,000111:    5277     5254               STA_DOWN           EQUALS   DEC1                          	#
001230,000112:    5277     5255               STA_UP             EQUALS   DEC2                          	#
001231,000113:    5277     5256               STA_LEFT           EQUALS   DEC3                          	#
001232,000114:    5277     5257               STA_RIGHT           EQUALS   DEC4                          	#
001233,000115:    5277     5260               STA_ADD            EQUALS   DEC5                          	#
001234,000116:    5277     5261               STA_WAIT           EQUALS   DEC6                          	#
001235,000117: 
001236,000118: 
001237,000119: 
001238,000120:                                                                                          	# For each grid row, which segment ID does it start at?
001239,000121: 
001240,000122:    5277           00006        ROW_STRT           DEC      6          B-14               	#
001241,000123:    5300           00013        ROW_STRT2           DEC      11         B-14               	#
001242,000124:    5301           00020        ROW_STRT3           DEC      16         B-14               	#
001243,000125: 
001244,000126:                                                                                          	# For each grid column, which segment ID does it start at?
001245,000127: 
001246,000128:    5302           00006        COL_STRT           DEC      6          B-14               	#
001247,000129:    5303           00007        COL_STRT2           DEC      7          B-14               	#
001248,000130:    5304           00010        COL_STRT3           DEC      8          B-14               	#
001249,000131:    5305           00011        COL_STRT4           DEC      9          B-14               	#
001250,000132:    5306           00012        COL_STRT5           DEC      10         B-14               	#
001251,000133: 
001252,000134:                                                                                          	# For each grid cell, which column does it belong to (0-5 ignored)
001253,000135: 
001254,000136:    5307           00000        GRID_COL           DEC      0          B-14               	#
001255,000137:    5310           00000        GRID_CM5           DEC      0          B-14               	#
001256,000138:    5311           00000        GRID_CM4           DEC      0          B-14               	#
001257,000139:    5312           00000        GRID_CM3           DEC      0          B-14               	#
001258,000140:    5313           00000        GRID_CM2           DEC      0          B-14               	#
001259,000141:    5314           00000        GRID_CM1           DEC      0          B-14               	#
001260,000142:    5315           00000        GRID_C0            DEC      0          B-14               	#
001261,000143:    5316           00001        GRID_C1            DEC      1          B-14               	#
001262,000144:    5317           00002        GRID_C2            DEC      2          B-14               	#
001263,000145:    5320           00003        GRID_C3            DEC      3          B-14               	#
001264,000146:    5321           00004        GRID_C4            DEC      4          B-14               	#
001265,000147:    5322           00000        GRID_C5            DEC      0          B-14               	#
001266,000148:    5323           00001        GRID_C6            DEC      1          B-14               	#
001267,000149:    5324           00002        GRID_C7            DEC      2          B-14               	#
001268,000150:    5325           00003        GRID_C8            DEC      3          B-14               	#
001269,000151:    5326           00004        GRID_C9            DEC      4          B-14               	#
001270,000152:    5327           00000        GRID_C10           DEC      0          B-14               	#
001271,000153:    5330           00001        GRID_C11           DEC      1          B-14               	#
001272,000154:    5331           00002        GRID_C12           DEC      2          B-14               	#
001273,000155:    5332           00003        GRID_C13           DEC      3          B-14               	#
001274,000156:    5333           00004        GRID_C14           DEC      4          B-14               	#
001275,000157: 
001276,000158:                                                                                          	# For each grid cell, which ro wdoes it belong to (0-5 ignored)
001277,000159: 
001278,000160:    5334           00000        GRID_ROW           DEC      0          B-14               	#
001279,000161:    5335           00000        GRID_RM5           DEC      0          B-14               	#
001280,000162:    5336           00000        GRID_RM4           DEC      0          B-14               	#
001281,000163:    5337           00000        GRID_RM3           DEC      0          B-14               	#
001282,000164:    5340           00000        GRID_RM2           DEC      0          B-14               	#
001283,000165:    5341           00000        GRID_RM1           DEC      0          B-14               	#
001284,000166:    5342           00000        GRID_R0            DEC      0          B-14               	#
001285,000167:    5343           00000        GRID_R1            DEC      0          B-14               	#
001286,000168:    5344           00000        GRID_R2            DEC      0          B-14               	#
001287,000169:    5345           00000        GRID_R3            DEC      0          B-14               	#
001288,000170:    5346           00000        GRID_R4            DEC      0          B-14               	#
001289,000171:    5347           00001        GRID_R5            DEC      1          B-14               	#
001290,000172:    5350           00001        GRID_R6            DEC      1          B-14               	#
001291,000173:    5351           00001        GRID_R7            DEC      1          B-14               	#
001292,000174:    5352           00001        GRID_R8            DEC      1          B-14               	#
001293,000175:    5353           00001        GRID_R9            DEC      1          B-14               	#
001294,000176:    5354           00002        GRID_R10           DEC      2          B-14               	#
001295,000177:    5355           00002        GRID_R11           DEC      2          B-14               	#
001296,000178:    5356           00002        GRID_R12           DEC      2          B-14               	#
001297,000179:    5357           00002        GRID_R13           DEC      2          B-14               	#
001298,000180:    5360           00002        GRID_R14           DEC      2          B-14               	#
001299,000181: 
001300,000182:                                                                                          	# Table of 128 'random' numbers between 0-9 that we can index into
001301,000183: 
001302,000184:    5361           00005        RAND1              DEC      5          B-14               	#
001303,000185:    5362           00002        RAND2              DEC      2          B-14               	#
001304,000186:    5363           00000        RAND3              DEC      0          B-14               	#
001305,000187:    5364           00002        RAND4              DEC      2          B-14               	#
001306,000188:    5365           00011        RAND5              DEC      9          B-14               	#
001307,000189:    5366           00004        RAND6              DEC      4          B-14               	#
001308,000190:    5367           00005        RAND7              DEC      5          B-14               	#
001309,000191:    5370           00001        RAND8              DEC      1          B-14               	#
001310,000192:    5371           00000        RAND9              DEC      0          B-14               	#
001311,000193:    5372           00003        RAND10             DEC      3          B-14               	#
001312,000194:    5373           00011        RAND11             DEC      9          B-14               	#
001313,000195:    5374           00005        RAND12             DEC      5          B-14               	#
001314,000196:    5375           00006        RAND13             DEC      6          B-14               	#
001315,000197:    5376           00007        RAND14             DEC      7          B-14               	#
001316,000198:    5377           00007        RAND15             DEC      7          B-14               	#
001317,000199:    5400           00001        RAND16             DEC      1          B-14               	#
001318,000200:    5401           00006        RAND17             DEC      6          B-14               	#
001319,000201:    5402           00005        RAND18             DEC      5          B-14               	#
001320,000202:    5403           00007        RAND19             DEC      7          B-14               	#
001321,000203:    5404           00004        RAND20             DEC      4          B-14               	#
001322,000204:    5405           00005        RAND21             DEC      5          B-14               	#
001323,000205:    5406           00002        RAND22             DEC      2          B-14               	#
001324,000206:    5407           00000        RAND23             DEC      0          B-14               	#
001325,000207:    5410           00005        RAND24             DEC      5          B-14               	#
001326,000208:    5411           00011        RAND25             DEC      9          B-14               	#
001327,000209:    5412           00006        RAND26             DEC      6          B-14               	#
001328,000210:    5413           00005        RAND27             DEC      5          B-14               	#
001329,000211:    5414           00007        RAND28             DEC      7          B-14               	#
001330,000212:    5415           00005        RAND29             DEC      5          B-14               	#
001331,000213:    5416           00006        RAND30             DEC      6          B-14               	#
001332,000214:    5417           00000        RAND31             DEC      0          B-14               	#
001333,000215:    5420           00006        RAND32             DEC      6          B-14               	#
001334,000216:    5421           00011        RAND33             DEC      9          B-14               	#
001335,000217:    5422           00004        RAND34             DEC      4          B-14               	#
001336,000218:    5423           00002        RAND35             DEC      2          B-14               	#
001337,000219:    5424           00005        RAND36             DEC      5          B-14               	#
001338,000220:    5425           00011        RAND37             DEC      9          B-14               	#
001339,000221:    5426           00011        RAND38             DEC      9          B-14               	#
001340,000222:    5427           00002        RAND39             DEC      2          B-14               	#
001341,000223:    5430           00000        RAND40             DEC      0          B-14               	#
001342,000224:    5431           00007        RAND41             DEC      7          B-14               	#
001343,000225:    5432           00006        RAND42             DEC      6          B-14               	#
001344,000226:    5433           00000        RAND43             DEC      0          B-14               	#
001345,000227:    5434           00005        RAND44             DEC      5          B-14               	#
001346,000228:    5435           00006        RAND45             DEC      6          B-14               	#
001347,000229:    5436           00001        RAND46             DEC      1          B-14               	#
001348,000230:    5437           00007        RAND47             DEC      7          B-14               	#
001349,000231:    5440           00007        RAND48             DEC      7          B-14               	#
001350,000232:    5441           00002        RAND49             DEC      2          B-14               	#
001351,000233:    5442           00004        RAND50             DEC      4          B-14               	#
001352,000234:    5443           00011        RAND51             DEC      9          B-14               	#
001353,000235:    5444           00006        RAND52             DEC      6          B-14               	#
001354,000236:    5445           00011        RAND53             DEC      9          B-14               	#
001355,000237:    5446           00000        RAND54             DEC      0          B-14               	#
001356,000238:    5447           00003        RAND55             DEC      3          B-14               	#
001357,000239:    5450           00005        RAND56             DEC      5          B-14               	#
001358,000240:    5451           00001        RAND57             DEC      1          B-14               	#
001359,000241:    5452           00004        RAND58             DEC      4          B-14               	#
001360,000242:    5453           00007        RAND59             DEC      7          B-14               	#
001361,000243:    5454           00001        RAND60             DEC      1          B-14               	#
001362,000244:    5455           00002        RAND61             DEC      2          B-14               	#
001363,000245:    5456           00007        RAND62             DEC      7          B-14               	#
001364,000246:    5457           00002        RAND63             DEC      2          B-14               	#
001365,000247:    5460           00001        RAND64             DEC      1          B-14               	#
001366,000248:    5461           00005        RAND65             DEC      5          B-14               	#
001367,000249:    5462           00010        RAND66             DEC      8          B-14               	#
001368,000250:    5463           00001        RAND67             DEC      1          B-14               	#
001369,000251:    5464           00007        RAND68             DEC      7          B-14               	#
001370,000252:    5465           00007        RAND69             DEC      7          B-14               	#
001371,000253:    5466           00003        RAND70             DEC      3          B-14               	#
001372,000254:    5467           00003        RAND71             DEC      3          B-14               	#
001373,000255:    5470           00004        RAND72             DEC      4          B-14               	#
001374,000256:    5471           00005        RAND73             DEC      5          B-14               	#
001375,000257:    5472           00005        RAND74             DEC      5          B-14               	#
001376,000258:    5473           00005        RAND75             DEC      5          B-14               	#
001377,000259:    5474           00006        RAND76             DEC      6          B-14               	#
001378,000260:    5475           00006        RAND77             DEC      6          B-14               	#
001379,000261:    5476           00006        RAND78             DEC      6          B-14               	#
001380,000262:    5477           00010        RAND79             DEC      8          B-14               	#
001381,000263:    5500           00006        RAND80             DEC      6          B-14               	#
001382,000264:    5501           00005        RAND81             DEC      5          B-14               	#
001383,000265:    5502           00001        RAND82             DEC      1          B-14               	#
001384,000266:    5503           00007        RAND83             DEC      7          B-14               	#
001385,000267:    5504           00010        RAND84             DEC      8          B-14               	#
001386,000268:    5505           00001        RAND85             DEC      1          B-14               	#
001387,000269:    5506           00011        RAND86             DEC      9          B-14               	#
001388,000270:    5507           00003        RAND87             DEC      3          B-14               	#
001389,000271:    5510           00000        RAND88             DEC      0          B-14               	#
001390,000272:    5511           00003        RAND89             DEC      3          B-14               	#
001391,000273:    5512           00007        RAND90             DEC      7          B-14               	#
001392,000274:    5513           00002        RAND91             DEC      2          B-14               	#
001393,000275:    5514           00005        RAND92             DEC      5          B-14               	#
001394,000276:    5515           00001        RAND93             DEC      1          B-14               	#
001395,000277:    5516           00000        RAND94             DEC      0          B-14               	#
001396,000278:    5517           00011        RAND95             DEC      9          B-14               	#
001397,000279:    5520           00001        RAND96             DEC      1          B-14               	#
001398,000280:    5521           00011        RAND97             DEC      9          B-14               	#
001399,000281:    5522           00005        RAND98             DEC      5          B-14               	#
001400,000282:    5523           00006        RAND99             DEC      6          B-14               	#
001401,000283:    5524           00006        RAND100            DEC      6          B-14               	#
001402,000284:    5525           00011        RAND101            DEC      9          B-14               	#
001403,000285:    5526           00010        RAND102            DEC      8          B-14               	#
001404,000286:    5527           00001        RAND103            DEC      1          B-14               	#
001405,000287:    5530           00007        RAND104            DEC      7          B-14               	#
001406,000288:    5531           00003        RAND105            DEC      3          B-14               	#
001407,000289:    5532           00006        RAND106            DEC      6          B-14               	#
001408,000290:    5533           00007        RAND107            DEC      7          B-14               	#
001409,000291:    5534           00006        RAND108            DEC      6          B-14               	#
001410,000292:    5535           00001        RAND109            DEC      1          B-14               	#
001411,000293:    5536           00004        RAND110            DEC      4          B-14               	#
001412,000294:    5537           00011        RAND111            DEC      9          B-14               	#
001413,000295:    5540           00000        RAND112            DEC      0          B-14               	#
001414,000296:    5541           00002        RAND113            DEC      2          B-14               	#
001415,000297:    5542           00005        RAND114            DEC      5          B-14               	#
001416,000298:    5543           00004        RAND115            DEC      4          B-14               	#
001417,000299:    5544           00005        RAND116            DEC      5          B-14               	#
001418,000300:    5545           00000        RAND117            DEC      0          B-14               	#
001419,000301:    5546           00000        RAND118            DEC      0          B-14               	#
001420,000302:    5547           00005        RAND119            DEC      5          B-14               	#
001421,000303:    5550           00010        RAND120            DEC      8          B-14               	#
001422,000304:    5551           00005        RAND121            DEC      5          B-14               	#
001423,000305:    5552           00001        RAND122            DEC      1          B-14               	#
001424,000306:    5553           00000        RAND123            DEC      0          B-14               	#
001425,000307:    5554           00003        RAND124            DEC      3          B-14               	#
001426,000308:    5555           00006        RAND125            DEC      6          B-14               	#
001427,000309:    5556           00003        RAND126            DEC      3          B-14               	#
001428,000310:    5557           00004        RAND127            DEC      4          B-14               	#
001429,000311:    5560           00001        RAND128            DEC      1          B-14               	#
(End of include-file Tables.agc, resuming Main.agc)
001430,000066: $Ram.agc
001431,000001: 
001432,000002:                                                                                          	# The AGC has 2,000 words (4KB) of erasable memory. We only need a fraction for this game!
001433,000003: 
001434,000004: 
001435,000005:                                                                                          	#-------------------------------------------------------------------------
001436,000006:                                                                                          	# Some variables.
001437,000007: 
001438,000008:    0024                                           SETLOC   24                            	#
001439,000009:    0024                        TIME2              ERASE                                  	#
001440,000010:    0025                        TIME1              ERASE                                  	#
001441,000011:    0026                        TIME3              ERASE                                  	#
001442,000012:    0027                        TIME4              ERASE                                  	#
001443,000013:    0030                        TIME5              ERASE                                  	#
001444,000014:    0031                        TIME6              ERASE                                  	#
001445,000015: 
001446,000016:    0061                                           SETLOC   61                            	#
001447,000017: 
001448,000018:                                                                                          	# Temp variables.
001449,000019:    0061                        TEMPI              ERASE                                  	#
001450,000020:    0062                        TEMPJ              ERASE                                  	#
001451,000021:    0063                        TEMPK              ERASE                                  	#
001452,000022: 
001453,000023: 
001454,000024:    0067                                           SETLOC   67                            	#
001455,000025:    0067                        NEWJOB             ERASE                                  	#
001456,000026: 
001457,000027: 
001458,000028:    0070                        KEYBUF             ERASE                                  	#
001459,000029:    0071                        RET_ADR            ERASE                                  	#
001460,000030:    0072                        RET_ADR2           ERASE                                  	#
001461,000031: 
001462,000032:    0073                        ACTIVE             ERASE                                  	#
001463,000033:    0074                        COUNTER            ERASE                                  	#
001464,000034:    0075                        CUR_ID             ERASE                                  	#
001465,000035:    0076                        SEG_OUT            ERASE                                  	#
001466,000036:    0077                        CHK_ID             ERASE                                  	#
001467,000037:    0100                        CELL_VALUE           ERASE                                  	#
001468,000038:    0101                        GM_STATE           ERASE                                  	#
001469,000039:    0102                        CHK_VALUE           ERASE                                  	#
001470,000040:    0103                        MATCHMD            ERASE                                  	#
001471,000041:    0104                        MATCH1             ERASE                                  	#
001472,000042:    0105                        MATCH2             ERASE                                  	#
001473,000043:    0106                        MATCH3             ERASE                                  	#
001474,000044:    0107                        MATCH4             ERASE                                  	#
001475,000045:    0110                        CELLROW            ERASE                                  	#
001476,000046:    0111                        CELLCOL            ERASE                                  	#
001477,000047:    0112                        GM_DONE            ERASE                                  	#
001478,000048: 
001479,000049:    0113                        ROW_ID             ERASE                                  	#
001480,000050:    0114                        COL_ID             ERASE                                  	#
001481,000051:    0115                        END_ID             ERASE                                  	#
001482,000052:    0116                        DSKY_OUT           ERASE                                  	#
001483,000053:    0117                        DIGIT_L            ERASE                                  	#
001484,000054:    0120                        DIGIT_R            ERASE                                  	#
001485,000055:    0121                        INPUTBUF           ERASE                                  	#
001486,000056:    0122                        BTNMASK            ERASE                                  	#
001487,000057:    0123                        PLAY_ID            ERASE                                  	#
001488,000058: 
001489,000059:    0124                        VALUES             ERASE    +21                           	#
(End of include-file Ram.agc, resuming Main.agc)
001490,000067: 


Usage Table for Fixed-Memory Banks
----------------------------------
Bank 00:  0000/2000 words used.
Bank 01:  0000/2000 words used.
Bank 02:  1561/2000 words used.
Bank 03:  0000/2000 words used.
Bank 04:  0000/2000 words used.
Bank 05:  0000/2000 words used.
Bank 06:  0000/2000 words used.
Bank 07:  0000/2000 words used.
Bank 10:  0000/2000 words used.
Bank 11:  0000/2000 words used.
Bank 12:  0000/2000 words used.
Bank 13:  0000/2000 words used.
Bank 14:  0000/2000 words used.
Bank 15:  0000/2000 words used.
Bank 16:  0000/2000 words used.
Bank 17:  0000/2000 words used.
Bank 20:  0000/2000 words used.
Bank 21:  0000/2000 words used.
Bank 22:  0000/2000 words used.
Bank 23:  0000/2000 words used.
Bank 24:  0000/2000 words used.
Bank 25:  0000/2000 words used.
Bank 26:  0000/2000 words used.
Bank 27:  0000/2000 words used.
Bank 30:  0000/2000 words used.
Bank 31:  0000/2000 words used.
Bank 32:  0000/2000 words used.
Bank 33:  0000/2000 words used.
Bank 34:  0000/2000 words used.
Bank 35:  0000/2000 words used.
Bank 36:  0000/2000 words used.
Bank 37:  0000/2000 words used.
Bank 40:  0000/2000 words used.
Bank 41:  0000/2000 words used.
Bank 42:  0000/2000 words used.
Bank 43:  0000/2000 words used.


Symbol Table
------------
     1,E:   $17             0017  		     2,E:   $3              0003  		     3,E:   $4              0004  		     4,E:   $5              0005  
     5,E:   $6              0006  		     6,E:   $7              0007  		     7,C:   A            0000000  		     8,E:   ACTIVE          0073  
     9,F:   ADD5            4150  		    10,F:   ADD6            4145  		    11,C:   ARUPT        0000010  		    12,C:   BANKRUPT     0000016  
    13,C:   BBANK        0000006  		    14,F:   BIT15           5131  		    15,F:   BIT5            5152  		    16,F:   BOT23           5251  
    17,F:   BOT45           5252  		    18,C:   BRUPT        0000017  		    19,E:   BTNMASK         0122  		    20,F:   CALCLEFT        4745  
    21,F:   CAN_READ        5025  		    22,E:   CELLCOL         0111  		    23,E:   CELLROW         0110  		    24,F:   CELL_MOV        4321  
    25,E:   CELL_VALUE      0100  		    26,C:   CH10         0000010  		    27,C:   CH11         0000011  		    28,C:   CH12         0000012  
    29,C:   CH13         0000013  		    30,C:   CH15         0000015  		    31,C:   CH32         0000032  		    32,F:   CHECK_KEY       5052  
    33,F:   CHKVALID        4152  		    34,F:   CHK_ABV         4406  		    35,F:   CHK_BEL         4241  		    36,E:   CHK_ID          0077  
    37,F:   CHK_LFT         4515  		    38,F:   CHK_RT          4625  		    39,F:   CHK_STATE       4071  		    40,E:   CHK_VALUE       0102  
    41,F:   CLEARBTN        5136  		    42,E:   COL_ID          0114  		    43,F:   COL_STRT        5302  		    44,F:   COL_STRT2       5303  
    45,F:   COL_STRT3       5304  		    46,F:   COL_STRT4       5305  		    47,F:   COL_STRT5       5306  		    48,F:   COMPLETE        4345  
    49,E:   COUNTER         0074  		    50,E:   CUR_ID          0075  		    51,C:   CYL          0000022  		    52,C:   CYR          0000020  
    53,F:   DEC1            5254  		    54,F:   DEC10           5265  		    55,F:   DEC11           5266  		    56,F:   DEC12           5267  
    57,F:   DEC13           5270  		    58,F:   DEC14           5271  		    59,F:   DEC15           5272  		    60,F:   DEC16           5273  
    61,F:   DEC17           5274  		    62,F:   DEC18           5275  		    63,F:   DEC19           5276  		    64,F:   DEC2            5255  
    65,F:   DEC3            5256  		    66,F:   DEC4            5257  		    67,F:   DEC5            5260  		    68,F:   DEC6            5261  
    69,F:   DEC7            5262  		    70,F:   DEC8            5263  		    71,F:   DEC9            5264  		    72,F:   DIDLEFT         4765  
    73,F:   DIGITS          5253  		    74,E:   DIGIT_L         0117  		    75,E:   DIGIT_R         0120  		    76,F:   DISP15          4703  
    77,F:   DISPNUM         4725  		    78,F:   DONE15          4722  		    79,E:   DSKY_OUT        0116  		    80,F:   DSP0            5154  
    81,F:   DSP1            5155  		    82,F:   DSP2            5156  		    83,F:   DSP3            5157  		    84,F:   DSP4            5160  
    85,F:   DSP5            5161  		    86,F:   DSP6            5162  		    87,F:   DSP7            5163  		    88,F:   DSP8            5164  
    89,F:   DSP9            5165  		    90,F:   DSPBLANK        5153  		    91,F:   D_COLOOP        4230  		    92,F:   D_DONE          4307  
    93,F:   D_MATCH         4265  		    94,F:   D_NOCOL         4271  		    95,F:   D_NOSOF         4257  		    96,F:   D_NOWT          4315  
    97,F:   D_NXTRW         4300  		    98,F:   D_ROLOOP        4223  		    99,F:   D_SOMEHR        4252  		   100,F:   D_UPDATE        4312  
   101,C:   EBANK        0000003  		   102,C:   EDOP         0000023  		   103,F:   ENDKYCK         5117  		   104,E:   END_ID          0115  
   105,F:   EXITRUPT        5031  		   106,C:   FBANK        0000004  		   107,F:   FOURTEEN        5146  		   108,F:   GENZERO         4131  
   109,E:   GM_DONE         0112  		   110,E:   GM_STATE        0101  		   111,F:   GRID_C0         5315  		   112,F:   GRID_C1         5316  
   113,F:   GRID_C10        5327  		   114,F:   GRID_C11        5330  		   115,F:   GRID_C12        5331  		   116,F:   GRID_C13        5332  
   117,F:   GRID_C14        5333  		   118,F:   GRID_C2         5317  		   119,F:   GRID_C3         5320  		   120,F:   GRID_C4         5321  
   121,F:   GRID_C5         5322  		   122,F:   GRID_C6         5323  		   123,F:   GRID_C7         5324  		   124,F:   GRID_C8         5325  
   125,F:   GRID_C9         5326  		   126,F:   GRID_CM1        5314  		   127,F:   GRID_CM2        5313  		   128,F:   GRID_CM3        5312  
   129,F:   GRID_CM4        5311  		   130,F:   GRID_CM5        5310  		   131,F:   GRID_COL        5307  		   132,F:   GRID_R0         5342  
   133,F:   GRID_R1         5343  		   134,F:   GRID_R10        5354  		   135,F:   GRID_R11        5355  		   136,F:   GRID_R12        5356  
   137,F:   GRID_R13        5357  		   138,F:   GRID_R14        5360  		   139,F:   GRID_R2         5344  		   140,F:   GRID_R3         5345  
   141,F:   GRID_R4         5346  		   142,F:   GRID_R5         5347  		   143,F:   GRID_R6         5350  		   144,F:   GRID_R7         5351  
   145,F:   GRID_R8         5352  		   146,F:   GRID_R9         5353  		   147,F:   GRID_RM1        5341  		   148,F:   GRID_RM2        5340  
   149,F:   GRID_RM3        5337  		   150,F:   GRID_RM4        5336  		   151,F:   GRID_RM5        5335  		   152,F:   GRID_ROW        5334  
   153,F:   INIT            4054  		   154,E:   INPUTBUF        0121  		   155,F:   IODELAY         4775  		   156,F:   IODELAYT        4774  
   157,F:   ISEMPTY         4162  		   158,E:   KEYBUF          0070  		   159,F:   KEYRUPT1        5014  		   160,F:   KEYTABL         5056  
   161,C:   L            0000001  		   162,F:   LEFTRIGHT       5166  		   163,F:   LOW5            5132  		   164,F:   LR1             5167  
   165,F:   LR10            5200  		   166,F:   LR11            5201  		   167,F:   LR12            5202  		   168,F:   LR13            5203  
   169,F:   LR14            5204  		   170,F:   LR15            5205  		   171,F:   LR16            5206  		   172,F:   LR17            5207  
   173,F:   LR18            5210  		   174,F:   LR19            5211  		   175,F:   LR2             5170  		   176,F:   LR20            5212  
   177,F:   LR3             5171  		   178,F:   LR4             5172  		   179,F:   LR5             5173  		   180,F:   LR6             5174  
   181,F:   LR7             5175  		   182,F:   LR8             5176  		   183,F:   LR9             5177  		   184,C:   LRUPT        0000011  
   185,F:   L_COLOOP        4477  		   186,F:   L_MATCH         4541  		   187,F:   L_NOMAT         4533  		   188,F:   L_NOROW         4554  
   189,F:   L_NXTCOL        4564  		   190,F:   L_ROLOOP        4504  		   191,F:   L_SOMEHR        4526  		   192,F:   MAINLOOP        4070  
   193,F:   MAKEONE         4173  		   194,F:   MASK128         5143  		   195,F:   MASK15          5144  		   196,E:   MATCH1          0104  
   197,E:   MATCH2          0105  		   198,E:   MATCH3          0106  		   199,E:   MATCH4          0107  		   200,E:   MATCHMD         0103  
   201,F:   MID12           5246  		   202,F:   MID34           5247  		   203,F:   MID5BOT1        5250  		   204,F:   MOVE_DOWN       4210  
   205,F:   MOVE_LEFT       4464  		   206,F:   MOVE_RT         4574  		   207,F:   MOVE_UP         4355  		   208,F:   MOVING_DN       4215  
   209,F:   MOVING_LT       4471  		   210,F:   MOVING_RT       4601  		   211,F:   MOVING_UP       4362  		   212,F:   MOV_DN          4270  
   213,F:   MOV_LEFT        4545  		   214,F:   MOV_RT          4655  		   215,F:   MOV_UP          4436  		   216,F:   NEG1            5147  
   217,F:   NEG2            5150  		   218,F:   NEG5            5151  		   219,F:   NEG_ONE         5140  		   220,F:   NEWBOX          4133  
   221,E:   NEWJOB          0067  		   222,F:   NEWNUM          4117  		   223,F:   NOKEY           5130  		   224,F:   NOTCOMP         4351  
   225,F:   NOTEMPTY        4160  		   226,F:   NOUNLR          5242  		   227,F:   O37774          5133  		   228,F:   O37777          5134  
   229,F:   OUTPUT          4767  		   230,E:   PLAY_ID         0123  		   231,C:   Q            0000002  		   232,C:   QRUPT        0000012  
   233,F:   RAND1           5361  		   234,F:   RAND10          5372  		   235,F:   RAND100         5524  		   236,F:   RAND101         5525  
   237,F:   RAND102         5526  		   238,F:   RAND103         5527  		   239,F:   RAND104         5530  		   240,F:   RAND105         5531  
   241,F:   RAND106         5532  		   242,F:   RAND107         5533  		   243,F:   RAND108         5534  		   244,F:   RAND109         5535  
   245,F:   RAND11          5373  		   246,F:   RAND110         5536  		   247,F:   RAND111         5537  		   248,F:   RAND112         5540  
   249,F:   RAND113         5541  		   250,F:   RAND114         5542  		   251,F:   RAND115         5543  		   252,F:   RAND116         5544  
   253,F:   RAND117         5545  		   254,F:   RAND118         5546  		   255,F:   RAND119         5547  		   256,F:   RAND12          5374  
   257,F:   RAND120         5550  		   258,F:   RAND121         5551  		   259,F:   RAND122         5552  		   260,F:   RAND123         5553  
   261,F:   RAND124         5554  		   262,F:   RAND125         5555  		   263,F:   RAND126         5556  		   264,F:   RAND127         5557  
   265,F:   RAND128         5560  		   266,F:   RAND13          5375  		   267,F:   RAND14          5376  		   268,F:   RAND15          5377  
   269,F:   RAND16          5400  		   270,F:   RAND17          5401  		   271,F:   RAND18          5402  		   272,F:   RAND19          5403  
   273,F:   RAND2           5362  		   274,F:   RAND20          5404  		   275,F:   RAND21          5405  		   276,F:   RAND22          5406  
   277,F:   RAND23          5407  		   278,F:   RAND24          5410  		   279,F:   RAND25          5411  		   280,F:   RAND26          5412  
   281,F:   RAND27          5413  		   282,F:   RAND28          5414  		   283,F:   RAND29          5415  		   284,F:   RAND3           5363  
   285,F:   RAND30          5416  		   286,F:   RAND31          5417  		   287,F:   RAND32          5420  		   288,F:   RAND33          5421  
   289,F:   RAND34          5422  		   290,F:   RAND35          5423  		   291,F:   RAND36          5424  		   292,F:   RAND37          5425  
   293,F:   RAND38          5426  		   294,F:   RAND39          5427  		   295,F:   RAND4           5364  		   296,F:   RAND40          5430  
   297,F:   RAND41          5431  		   298,F:   RAND42          5432  		   299,F:   RAND43          5433  		   300,F:   RAND44          5434  
   301,F:   RAND45          5435  		   302,F:   RAND46          5436  		   303,F:   RAND47          5437  		   304,F:   RAND48          5440  
   305,F:   RAND49          5441  		   306,F:   RAND5           5365  		   307,F:   RAND50          5442  		   308,F:   RAND51          5443  
   309,F:   RAND52          5444  		   310,F:   RAND53          5445  		   311,F:   RAND54          5446  		   312,F:   RAND55          5447  
   313,F:   RAND56          5450  		   314,F:   RAND57          5451  		   315,F:   RAND58          5452  		   316,F:   RAND59          5453  
   317,F:   RAND6           5366  		   318,F:   RAND60          5454  		   319,F:   RAND61          5455  		   320,F:   RAND62          5456  
   321,F:   RAND63          5457  		   322,F:   RAND64          5460  		   323,F:   RAND65          5461  		   324,F:   RAND66          5462  
   325,F:   RAND67          5463  		   326,F:   RAND68          5464  		   327,F:   RAND69          5465  		   328,F:   RAND7           5367  
   329,F:   RAND70          5466  		   330,F:   RAND71          5467  		   331,F:   RAND72          5470  		   332,F:   RAND73          5471  
   333,F:   RAND74          5472  		   334,F:   RAND75          5473  		   335,F:   RAND76          5474  		   336,F:   RAND77          5475  
   337,F:   RAND78          5476  		   338,F:   RAND79          5477  		   339,F:   RAND8           5370  		   340,F:   RAND80          5500  
   341,F:   RAND81          5501  		   342,F:   RAND82          5502  		   343,F:   RAND83          5503  		   344,F:   RAND84          5504  
   345,F:   RAND85          5505  		   346,F:   RAND86          5506  		   347,F:   RAND87          5507  		   348,F:   RAND88          5510  
   349,F:   RAND89          5511  		   350,F:   RAND9           5371  		   351,F:   RAND90          5512  		   352,F:   RAND91          5513  
   353,F:   RAND92          5514  		   354,F:   RAND93          5515  		   355,F:   RAND94          5516  		   356,F:   RAND95          5517  
   357,F:   RAND96          5520  		   358,F:   RAND97          5521  		   359,F:   RAND98          5522  		   360,F:   RAND99          5523  
   361,F:   RANDOM          5120  		   362,F:   RESETALL        4102  		   363,F:   RESETBTN        5137  		   364,F:   RESETEND        4115  
   365,F:   RESETLOOP       4104  		   366,F:   RESTART         4000  		   367,F:   RESUME          5010  		   368,E:   RET_ADR         0071  
   369,E:   RET_ADR2        0072  		   370,E:   ROW_ID          0113  		   371,F:   ROW_STRT        5277  		   372,F:   ROW_STRT2       5300  
   373,F:   ROW_STRT3       5301  		   374,F:   R_COLOOP        4607  		   375,F:   R_MATCH         4651  		   376,F:   R_NOMAT         4643  
   377,F:   R_NOROW         4664  		   378,F:   R_NXTCOL        4674  		   379,F:   R_ROLOOP        4614  		   380,F:   R_SOMEHR        4636  
   381,C:   SAMPTIME     0000013  		   382,F:   SECOND          4116  		   383,F:   SEGCODE         5240  		   384,F:   SEGLOOP         4711  
   385,F:   SEG_0           5213  		   386,F:   SEG_1           5214  		   387,F:   SEG_10          5225  		   388,F:   SEG_11          5226  
   389,F:   SEG_12          5227  		   390,F:   SEG_13          5230  		   391,F:   SEG_14          5231  		   392,F:   SEG_15          5232  
   393,F:   SEG_16          5233  		   394,F:   SEG_17          5234  		   395,F:   SEG_18          5235  		   396,F:   SEG_19          5236  
   397,F:   SEG_2           5215  		   398,F:   SEG_20          5237  		   399,F:   SEG_3           5216  		   400,F:   SEG_4           5217  
   401,F:   SEG_5           5220  		   402,F:   SEG_6           5221  		   403,F:   SEG_7           5222  		   404,F:   SEG_8           5223  
   405,F:   SEG_9           5224  		   406,E:   SEG_OUT         0076  		   407,F:   SETUPMOV        4201  		   408,F:   SKIPLEFT        4763  
   409,C:   SR           0000021  		   410,F:   STA_ADD         5260  		   411,F:   STA_DOWN        5254  		   412,F:   STA_INPUT       5253  
   413,F:   STA_LEFT        5256  		   414,F:   STA_RIGHT       5257  		   415,F:   STA_UP          5255  		   416,F:   STA_WAIT        5261  
   417,F:   STORENEW        4174  		   418,F:   ST_TABLE        4073  		   419,F:   T3RUPT          5005  		   420,E:   TEMPI           0061  
   421,E:   TEMPJ           0062  		   422,E:   TEMPK           0063  		   423,F:   TEN             5135  		   424,E:   TIME1           0025  
   425,E:   TIME2           0024  		   426,E:   TIME3           0026  		   427,E:   TIME4           0027  		   428,E:   TIME5           0030  
   429,E:   TIME6           0031  		   430,F:   TOP1            5243  		   431,F:   TOP23           5244  		   432,F:   TOP45           5245  
   433,F:   TWENTY          5141  		   434,F:   TWENTY1         5142  		   435,F:   TWO56           5145  		   436,F:   UPGRADE         4331  
   437,F:   U_COLOOP        4375  		   438,F:   U_MATCH         4432  		   439,F:   U_NOCOL         4445  		   440,F:   U_NOSOF         4424  
   441,F:   U_NXTRW         4454  		   442,F:   U_ROLOOP        4370  		   443,F:   U_SOMEHR        4417  		   444,E:   VALUES          0124  
   445,F:   VERBLR          5241  		   446,F:   WAITKEY         5040  		   447,F:   WAITMORE        5051  		   448,C:   Z            0000005  
   449,C:   ZERO         0000007  		   450,C:   ZEROES       0000007  		   451,C:   ZRUPT        0000015  		

Unresolved symbols:  0
Fatal errors:  0
Warnings:  0
Removing the duplicated lines... 

Symbol-table file written.

Bugger word 76635 at 02,3563.
