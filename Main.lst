Apollo Guidance Computer (AGC) assembler, version 2017-04-17, built Apr 17 2017, target AGC4
(c)2003-2005,2009-2010,2016 Ronald S. Burkey
Refer to http://www.ibiblio.org/apollo/index.html for more information.
Pass #1
Pass #2
Pass #3
000001,000001: 
000002,000002:    4000                                           SETLOC   4000                          	#
000003,000003: 
000004,000004: 
000005,000005:    4000                        RESTART                                                   	#
000006,000006:    4000           00004                           INHINT                                 	# Turn off interrupts
000007,000007:    4001           35153                           CA       O37774                        	# Schedule the first TIME3 interrupt
000008,000008:    4002           54026                           TS       TIME3                         	#
000009,000009:    4003           14054                           TCF      INIT                          	# Proceed with initialization
000010,000010: 
000011,000011: $Vectors.agc                            # Add table of interrupt vectors
000012,000001: 
000013,000002:                                                                                          	# We begin with an interrupt vector table. There are 10 possible interrupts,
000014,000003:                                                                                          	# plus the restart vector which comes first.
000015,000004: 
000016,000005: 
000017,000006: 
000018,000007:    4004           50017                           RESUME                                 	# T6RUPT
000019,000008:    4005           14006                           NOOP                                   	#
000020,000009:    4006           14007                           NOOP                                   	#
000021,000010:    4007           14010                           NOOP                                   	#
000022,000011: 
000023,000012:    4010           50017                           RESUME                                 	# T5RUPT
000024,000013:    4011           14012                           NOOP                                   	#
000025,000014:    4012           14013                           NOOP                                   	#
000026,000015:    4013           14014                           NOOP                                   	#
000027,000016: 
000028,000017:    4014           52011                           DXCH     ARUPT                         	# T3RUPT
000029,000018:    4015           00006                           EXTEND                                 	# Back up A, L, and Q
000030,000019:    4016           22012                           QXCH     QRUPT                         	#
000031,000020:    4017           15025                           TCF      T3RUPT                        	# Transfer to the T3RUPT handler
000032,000021: 
000033,000022:    4020           50017                           RESUME                                 	# T4RUPT
000034,000023:    4021           14022                           NOOP                                   	#
000035,000024:    4022           14023                           NOOP                                   	#
000036,000025:    4023           14024                           NOOP                                   	#
000037,000026: 
000038,000027:    4024           52011                           DXCH     ARUPT                         	# KEYRUPT1, fired whenever a key is pressed
000039,000028:    4025           00006                           EXTEND                                 	#
000040,000029:    4026           22012                           QXCH     QRUPT                         	#
000041,000030:    4027           15034                           TCF      KEYRUPT1                      	#
000042,000031: 
000043,000032:    4030           50017                           RESUME                                 	# KEYRUPT2
000044,000033:    4031           14032                           NOOP                                   	#
000045,000034:    4032           14033                           NOOP                                   	#
000046,000035:    4033           14034                           NOOP                                   	#
000047,000036: 
000048,000037:    4034           50017                           RESUME                                 	# UPRUPT
000049,000038:    4035           14036                           NOOP                                   	#
000050,000039:    4036           14037                           NOOP                                   	#
000051,000040:    4037           14040                           NOOP                                   	#
000052,000041: 
000053,000042:    4040           50017                           RESUME                                 	# DOWNRUPT
000054,000043:    4041           14042                           NOOP                                   	#
000055,000044:    4042           14043                           NOOP                                   	#
000056,000045:    4043           14044                           NOOP                                   	#
000057,000046: 
000058,000047:    4044           50017                           RESUME                                 	# RADAR RUPT
000059,000048:    4045           14046                           NOOP                                   	#
000060,000049:    4046           14047                           NOOP                                   	#
000061,000050:    4047           14050                           NOOP                                   	#
000062,000051: 
000063,000052:    4050           50017                           RESUME                                 	# RUPT10
000064,000053:    4051           14052                           NOOP                                   	#
000065,000054:    4052           14053                           NOOP                                   	#
000066,000055:    4053           14054                           NOOP                                   	#
000067,000056: 
(End of include-file Vectors.agc, resuming Main.agc)
000068,000012: 
000069,000013:                                                                                          	# Initialization.
000070,000014:    4054                        INIT                                                      	#
000071,000015:    4054           30007                           CA       ZERO                          	# Load 0 to A
000072,000016:    4055           54073                           TS       ACTIVE                        	# Set game not started
000073,000017:    4056           54112                           TS       GM_DONE                       	# Set game not completed
000074,000018: 
000075,000019:    4057           00006                           EXTEND                                 	#
000076,000020:    4060           01011                           WRITE    CH11                          	# Clear any DSKY lights
000077,000021: 
000078,000022: 
000079,000023:    4061           35150                           CA       NOKEY                         	# Clear the keypad buffer variable
000080,000024:    4062           54070                           TS       KEYBUF                        	# to initially hold an illegal keycode.
000081,000025: 
000082,000026:    4063           04102                           TC       RESETALL                      	# Set all grid items to empty (-1)
000083,000027:    4064           04723                           TC       DISP15                        	# Clear the grid
000084,000028: 
000085,000029:    4065           35301                           CA       STA_WAIT                      	# Set game status to wait for any key
000086,000030:    4066           54101                           TS       GM_STATE                      	#
000087,000031: 
000088,000032:    4067           00003                           RELINT                                 	# Enable interrupts
000089,000033: 
000090,000034:    4070                        MAINLOOP                                                  	#
000091,000035:    4070           40067                           CS       NEWJOB                        	# Each loop, nudge hardware watchdog
000092,000036: 
000093,000037: 
000094,000038:    4071                        CHK_STATE                                                  	#
000095,000039: 
000096,000040:    4071           50101                           INDEX    GM_STATE                      	# Index into game state jump table
000097,000041:    4072           14073                           TCF      ST_TABLE                      	# Will jump to appropriate function below based on state
000098,000042:    4073                        ST_TABLE                                                  	#
000099,000043:    4073           15072                           TCF      CHECK_KEY                     	# 0
000100,000044:    4074           14234                           TCF      MOVING_DN                     	# 1
000101,000045:    4075           14402                           TCF      MOVING_UP                     	# 2
000102,000046:    4076           14511                           TCF      MOVING_LT                     	# 3
000103,000047:    4077           14621                           TCF      MOVING_RT                     	# 4
000104,000048:    4100           14117                           TCF      NEWNUM                        	# 5
000105,000049:    4101           15060                           TCF      WAITKEY                       	# 6
000106,000050: 
000107,000051: 
000108,000052:                                                                                          	# Include the rest of the code modules below
000109,000053: 
000110,000054: $Grid.agc
000111,000001: 
000112,000002:    4102                        RESETALL                                                  	#
000113,000003: 
000114,000004:    4102           35162                           CA       TWENTY1                       	# Set loop counter to 21
000115,000005:    4103           54075                           TS       CUR_ID                        	#
000116,000006:    4104                        RESETLOOP                                                  	#
000117,000007: 
000118,000008:    4104           00006                           EXTEND                                 	#
000119,000009:    4105           26075                           DIM      CUR_ID                        	# Decrement id so we start at 20, end at 0
000120,000010:    4106           35160                           CA       NEG_ONE                       	# Load -1 to A (empty cell)
000121,000011:    4107           50075                           INDEX    CUR_ID                        	# Index by current loop count
000122,000012:    4110           54124                           TS       VALUES                        	# Save -1 to empty this grid cell
000123,000013: 
000124,000014:    4111           30075                           CA       CUR_ID                        	# Load loop counter
000125,000015:    4112           00006                           EXTEND                                 	#
000126,000016:    4113           14115                           BZF      RESETEND                      	# If zero, we've cleared all of VALUES array
000127,000017: 
000128,000018:    4114           14104                           TCF      RESETLOOP                     	# Not zero, loop back for next cell
000129,000019: 
000130,000020: 
000131,000021:    4115                        RESETEND                                                  	#
000132,000022:    4115           00002                           RETURN                                 	# Return to Init
000133,000023: 
000134,000024: 
000135,000025:    4116                        SECOND                                                    	#
000136,000026: 
000137,000027:    4116           24073                           INCR     ACTIVE                        	# Set game to active now two cells will be populated
000138,000028:    4117                        NEWNUM                                                    	#
000139,000029: 
000140,000030:    4117           05015                           TC       IODELAY                       	# Delay a bit before generating the number
000141,000031:    4120           04131                           TC       GENZERO                       	# Call function to generate a 0 or 1 in empty cell
000142,000032:    4121           04723                           TC       DISP15                        	# Call function Display the new grid state
000143,000033: 
000144,000034:    4122           30073                           CA       ACTIVE                        	# Load whether game is active
000145,000035:    4123           00006                           EXTEND                                 	#
000146,000036:    4124           14116                           BZF      SECOND                        	# If not, generate another new number
000147,000037: 
000148,000038:    4125           05015                           TC       IODELAY                       	# Delay before returning control to player
000149,000039: 
000150,000040:    4126           35273                           CA       STA_INPUT                     	# Change game state to player control
000151,000041:    4127           54101                           TS       GM_STATE                      	#
000152,000042: 
000153,000043:    4130           14070                           TCF      MAINLOOP                      	# Return to start of game loop
000154,000044: 
000155,000045: 
000156,000046: 
000157,000047:    4131                        GENZERO                                                   	# Generate a 0 or 1 in an empty grid cell
000158,000048:    4131           00006                           EXTEND                                 	#
000159,000049:    4132           22072                           QXCH     RET_ADR2                      	# Save the return address of the calling function
000160,000050: 
000161,000051:    4133                        CHECKEMP                                                  	# Check whether all grid spaces taken
000162,000052:    4133           35162                           CA       TWENTY1                       	# Load 21 into A for loop counter
000163,000053:    4134           54075                           TS       CUR_ID                        	# Store into loop counter
000164,000054:    4135                        CHKLOOP                                                   	#
000165,000055: 
000166,000056:    4135           00006                           EXTEND                                 	#
000167,000057:    4136           26075                           DIM      CUR_ID                        	# Decrement id so we start at 20, end at 0
000168,000058: 
000169,000059:    4137           50075                           INDEX    CUR_ID                        	# Index by current loop count
000170,000060:    4140           30124                           CA       VALUES                        	# Get this grid cell
000171,000061:    4141           65274                           AD       DEC1                          	# Add 1, if empty (-1) will be 0
000172,000062:    4142           00006                           EXTEND                                 	#
000173,000063:    4143           14152                           BZF      NEWBOX                        	# When found first empty cell, start process to find random one
000174,000064: 
000175,000065:    4144           35301                           CA       DEC6                          	# Load 6 into accumulator
000176,000066:    4145           00006                           EXTEND                                 	#
000177,000067:    4146           60075                           SU       CUR_ID                        	# Subtract id. If 6, is first ID of game grid.
000178,000068:    4147           00006                           EXTEND                                 	#
000179,000069:    4150           14215                           BZF      EXITGEN                       	# If zero, all cells are occupied, don't bother
000180,000070: 
000181,000071:    4151           14135                           TCF      CHKLOOP                       	#
000182,000072: 
000183,000073: 
000184,000074:    4152                        NEWBOX                                                    	#
000185,000075: 
000186,000076:    4152           35164                           CA       MASK15                        	# Load a mask to keep only the bottom 4 bits
000187,000077:    4153           54061                           TS       TEMPI                         	# Store into temp variable
000188,000078: 
000189,000079:    4154           05140                           TC       RANDOM                        	# Get a random number (and discard)
000190,000080:    4155           30074                           CA       COUNTER                       	# Load the random number counter (0-127)
000191,000081:    4156           75164                           MASK     MASK15                        	# Mask it down to 0-15
000192,000082:    4157           54123                           TS       PLAY_ID                       	# Store it as the grid cell to try and add to
000193,000083:    4160           00006                           EXTEND                                 	#
000194,000084:    4161           60061                           SU       TEMPI                         	# Subtract 15 from this cell number
000195,000085:    4162           00006                           EXTEND                                 	#
000196,000086:    4163           14167                           BZF      ADD5                          	# If is 0, we have cell 16 and there only 15.
000197,000087: 
000198,000088:    4164                        ADD6                                                      	# Is not 0, we can safely add grid offset of 6
000199,000089: 
000200,000090:    4164           30123                           CA       PLAY_ID                       	# Load the number we know is from 0-14
000201,000091:    4165           65301                           AD       DEC6                          	# Add 6 to get the first display segment in the grid
000202,000092: 
000203,000093:    4166           14171                           TCF      CHKVALID                      	# Now check whether this grid cell is empty
000204,000094: 
000205,000095:    4167                        ADD5                                                      	#
000206,000096:    4167           30123                           CA       PLAY_ID                       	# We know the number is 15
000207,000097:    4170           65300                           AD       DEC5                          	# So only add 5 so we still get a valid cell
000208,000098: 
000209,000099:    4171                        CHKVALID                                                  	#
000210,000100: 
000211,000101:    4171           54123                           TS       PLAY_ID                       	# Store the cell id to check is empty
000212,000102:    4172           50123                           INDEX    PLAY_ID                       	# Index by the cell id
000213,000103:    4173           30124                           CA       VALUES                        	# Get the value held for cell in VALUES array
000214,000104:    4174           65274                           AD       DEC1                          	# Add one, if it was empty (-1) it's now zero'
000215,000105:    4175           00006                           EXTEND                                 	#
000216,000106:    4176           14201                           BZF      ISEMPTY                       	# If empty, we can use this cell for new number
000217,000107: 
000218,000108:    4177                        NOTEMPTY                                                  	#
000219,000109: 
000220,000110:    4177           54067                           TS       NEWJOB                        	# Nudge watchdog in case it takes a while to find cell
000221,000111:    4200           14152                           TCF      NEWBOX                        	# We can't use this cell, try again
000222,000112: 
000223,000113:    4201                        ISEMPTY                                                   	#
000224,000114: 
000225,000115:    4201           05140                           TC       RANDOM                        	# Get a random number from 0-9
000226,000116:    4202           54061                           TS       TEMPI                         	# Save to temp variable
000227,000117:    4203           35277                           CA       DEC4                          	# Load 4 into A
000228,000118:    4204           00006                           EXTEND                                 	#
000229,000119:    4205           60061                           SU       TEMPI                         	# Subtract 0-9 from 5
000230,000120:    4206           00006                           EXTEND                                 	#
000231,000121:    4207           64212                           BZMF     MAKEONE                       	# if zero or negative, make cell = 1
000232,000122: 
000233,000123:    4210           30007                           CA       ZERO                          	# is >0, make cell = 0
000234,000124:    4211           14213                           TCF      STORENEW                      	#
000235,000125: 
000236,000126:    4212                        MAKEONE                                                   	#
000237,000127:    4212           35274                           CA       DEC1                          	# Load 1 into A
000238,000128: 
000239,000129:    4213                        STORENEW                                                  	#
000240,000130: 
000241,000131:    4213           50123                           INDEX    PLAY_ID                       	# Index by chosen cell ID
000242,000132:    4214           54124                           TS       VALUES                        	# Store 0-1 into values array by index
000243,000133: 
000244,000134:    4215                        EXITGEN                                                   	#
000245,000135:    4215           00006                           EXTEND                                 	#
000246,000136:    4216           22072                           QXCH     RET_ADR2                      	# Restore return address of calling func
000247,000137: 
000248,000138:    4217           00002                           RETURN                                 	# Return to NEWNUM
(End of include-file Grid.agc, resuming Main.agc)
000249,000055: $Down.agc
000250,000001:    4220                        SETUPMOV                                                  	#
000251,000002: 
000252,000003:    4220           30007                           CA       ZERO                          	# Load 0 into A
000253,000004:    4221           54103                           TS       MATCHMD                       	# Clear array of 5 that indicates whether two numbers
000254,000005:    4222           54104                           TS       MATCH1                        	# have already been combined for the given row/col
000255,000006:    4223           54105                           TS       MATCH2                        	#
000256,000007:    4224           54106                           TS       MATCH3                        	# Otherwise moving left on a row of 0-0-1 would end as 2-x-x.
000257,000008:    4225           54107                           TS       MATCH4                        	# When it should be 1-1-x.
000258,000009: 
000259,000010:    4226           00002                           RETURN                                 	#
000260,000011: 
000261,000012:    4227                        MOVE_DOWN                                                  	# The down key (8) has been pressed
000262,000013: 
000263,000014:    4227           04220                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000264,000015:    4230           30112                           CA       GM_DONE                       	# Load game complete status into A
000265,000016:    4231           00006                           EXTEND                                 	#
000266,000017:    4232           14234                           BZF      MOVING_DN                     	# Flag is zero, not complete yet
000267,000018: 
000268,000019:    4233           14070                           TCF      MAINLOOP                      	#
000269,000020: 
000270,000021:    4234                        MOVING_DN                                                  	# Once in a state of 'sta_down', come here each 'frame'
000271,000022:                                                                                          	# until no more cells can move down
000272,000023: 
000273,000024:    4234           35274                           CA       STA_DOWN                      	# Load the game status of 'moving down'
000274,000025:    4235           54101                           TS       GM_STATE                      	# Save as game state
000275,000026: 
000276,000027:    4236           30007                           CA       ZERO                          	# Load 0 into A
000277,000028:    4237           54123                           TS       PLAY_ID                       	# Reset number of cells moved this iteration.
000278,000029: 
000279,000030:    4240           35274                           CA       DEC1                          	# Start from middle row, checking below to see if we can move into it.
000280,000031:    4241           54113                           TS       ROW_ID                        	# Store 1 into ROW_ID
000281,000032: 
000282,000033:    4242                        D_ROLOOP                                                  	# Loop through rows, checking each column to see if number can move down
000283,000034: 
000284,000035:    4242           50113                           INDEX    ROW_ID                        	# Index by the row_id
000285,000036:    4243           35317                           CA       ROW_STRT                      	# Get the first cell id in this row
000286,000037:    4244           54075                           TS       CUR_ID                        	# Store this as current id
000287,000038:    4245           65300                           AD       DEC5                          	# Add 5
000288,000039:    4246           54115                           TS       END_ID                        	# Store cur_id + 5 to know when to stop processing row
000289,000040: 
000290,000041:    4247                        D_COLOOP                                                  	# Loop through each cell on a row
000291,000042: 
000292,000043: 
000293,000044:    4247           50075                           INDEX    CUR_ID                        	# Index by the current cell id
000294,000045:    4250           35327                           CA       GRID_COL                      	# Get the column this cell belongs to
000295,000046:    4251           54111                           TS       CELLCOL                       	# And save value to ram for later
000296,000047: 
000297,000048:    4252           50075                           INDEX    CUR_ID                        	# Index by the current cell id again
000298,000049:    4253           30124                           CA       VALUES                        	# Get the value in this cell
000299,000050:    4254           54100                           TS       CELL_VALUE                    	# Save cell value
000300,000051:    4255           65274                           AD       DEC1                          	# Add 1. If empty (-1), this is now 0.
000301,000052:    4256           00006                           EXTEND                                 	#
000302,000053:    4257           14311                           BZF      D_NOCOL                       	# If empty, don't bother checking cell below
000303,000054: 
000304,000055: 
000305,000056:    4260                        CHK_BEL                                                   	# This cell has a number, check below
000306,000057: 
000307,000058:    4260           30075                           CA       CUR_ID                        	# Load the current cell id
000308,000059:    4261           65300                           AD       DEC5                          	# Add 5 (number of columns) to get cell below
000309,000060:    4262           54077                           TS       CHK_ID                        	# Store cell check id
000310,000061: 
000311,000062:    4263           50077                           INDEX    CHK_ID                        	# Index using the cell below's id
000312,000063:    4264           30124                           CA       VALUES                        	# Get the value in the cell below
000313,000064:    4265           54102                           TS       CHK_VALUE                     	# Store the cell below's value
000314,000065:    4266           65274                           AD       DEC1                          	# Add 1. If empty (-1), this is now 0.
000315,000066:    4267           00006                           EXTEND                                 	#
000316,000067:    4270           14310                           BZF      MOV_DN                        	# If cell below empty, we can move straight into it.
000317,000068: 
000318,000069:    4271                        D_SOMEHR                                                  	# There's a number below. Check what it is.
000319,000070: 
000320,000071:    4271           50111                           INDEX    CELLCOL                       	# Index by the column our cell is in
000321,000072:    4272           30103                           CA       MATCHMD                       	# Get whether we already combined cells in this column
000322,000073:    4273           00006                           EXTEND                                 	#
000323,000074:    4274           14276                           BZF      D_NOSOF                       	# If 0, we didn't already combine so we can check for match
000324,000075: 
000325,000076:    4275           14311                           TCF      D_NOCOL                       	# We already combined so we don't want to try and combine again
000326,000077: 
000327,000078:    4276                        D_NOSOF                                                   	#
000328,000079: 
000329,000080:    4276           30100                           CA       CELL_VALUE                    	# Load the value in original cell
000330,000081:    4277           00006                           EXTEND                                 	#
000331,000082:    4300           60102                           SU       CHK_VALUE                     	# Subtract the value in cell below
000332,000083:    4301           00006                           EXTEND                                 	#
000333,000084:    4302           14304                           BZF      D_MATCH                       	# If zero, they are the same. Combine them.
000334,000085: 
000335,000086:    4303           14311                           TCF      D_NOCOL                       	# Not the same, can't move as way is blocked
000336,000087: 
000337,000088:    4304                        D_MATCH                                                   	#
000338,000089: 
000339,000090:    4304           50111                           INDEX    CELLCOL                       	# Index by the column these cells are in
000340,000091:    4305           24103                           INCR     MATCHMD                       	# Set flag that we have already matched on this column
000341,000092: 
000342,000093:    4306           04351                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000343,000094: 
000344,000095:    4307           14311                           TCF      D_NOCOL                       	# Move along to next column
000345,000096:    4310                        MOV_DN                                                    	#
000346,000097: 
000347,000098:    4310           04341                           TC       CELL_MOV                      	# Move cell value to new cell, empty orig cell
000348,000099: 
000349,000100:    4311                        D_NOCOL                                                   	# End of processing for this column
000350,000101: 
000351,000102:    4311           24075                           INCR     CUR_ID                        	# Move cell id to next column
000352,000103:    4312           30075                           CA       CUR_ID                        	# Load id into A
000353,000104:    4313           00006                           EXTEND                                 	#
000354,000105:    4314           60115                           SU       END_ID                        	# Subtract id of first cell in row below
000355,000106:    4315           00006                           EXTEND                                 	#
000356,000107:    4316           14320                           BZF      D_NXTRW                       	# If zero, we have no more columns, goto next row
000357,000108: 
000358,000109:    4317           14247                           TCF      D_COLOOP                      	# More columns to process, loop back up
000359,000110: 
000360,000111:    4320                        D_NXTRW                                                   	#
000361,000112: 
000362,000113:    4320           54067                           TS       NEWJOB                        	# Nudge watchdog as this processing might take a while
000363,000114:    4321           30113                           CA       ROW_ID                        	# Load the row id
000364,000115:    4322           00006                           EXTEND                                 	#
000365,000116: 
000366,000117:    4323           14327                           BZF      D_DONE                        	# If row id is zero, we've done all rows now
000367,000118: 
000368,000119:    4324           00006                           EXTEND                                 	#
000369,000120:    4325           26113                           DIM      ROW_ID                        	# Not last row, move up into next row
000370,000121: 
000371,000122:    4326           14242                           TCF      D_ROLOOP                      	# Process the next row
000372,000123: 
000373,000124:    4327                        D_DONE                                                    	#
000374,000125: 
000375,000126:    4327           30123                           CA       PLAY_ID                       	# Did we move anything in this iteration?
000376,000127:    4330           00006                           EXTEND                                 	#
000377,000128:    4331           14335                           BZF      D_NOWT                        	# If 0 we did not so return control to player
000378,000129: 
000379,000130:    4332                        D_UPDATE                                                  	#
000380,000131: 
000381,000132:    4332           04723                           TC       DISP15                        	# We moved something, update display
000382,000133:    4333           05015                           TC       IODELAY                       	# Delay a bit so numbers don't move instantly from one end to other
000383,000134:    4334           14070                           TCF      MAINLOOP                      	# Return to main loop to see if anything still to move
000384,000135: 
000385,000136:    4335                        D_NOWT                                                    	#
000386,000137:    4335           35300                           CA       STA_ADD                       	# All movement handled, now add new number to grid
000387,000138:    4336           54101                           TS       GM_STATE                      	# Save to game state, we'll do in next main loop
000388,000139: 
000389,000140:    4337           05015                           TC       IODELAY                       	# A little delay before adding so it's obvious where it went
000390,000141: 
000391,000142:    4340           14070                           TCF      MAINLOOP                      	# Return to main loop which will add a new number next time
000392,000143: 
000393,000144: 
000394,000145:    4341                        CELL_MOV                                                  	#
000395,000146: 
000396,000147:    4341           24123                           INCR     PLAY_ID                       	# We are moving a number into empty space. Inc move counter.
000397,000148: 
000398,000149:    4342           30100                           CA       CELL_VALUE                    	# Load the value in cell that's moving
000399,000150:    4343           50077                           INDEX    CHK_ID                        	# Index by cell below id
000400,000151:    4344           54124                           TS       VALUES                        	# Set cell below to value of original cell
000401,000152: 
000402,000153:    4345           35160                           CA       NEG_ONE                       	# Load -1 to A (empty)
000403,000154:    4346           50075                           INDEX    CUR_ID                        	# Index by original cell id
000404,000155:    4347           54124                           TS       VALUES                        	# Set original cell to now be empty
000405,000156: 
000406,000157:    4350           00002                           RETURN                                 	#
000407,000158: 
000408,000159:    4351                        UPGRADE                                                   	#
000409,000160: 
000410,000161: 
000411,000162:    4351           24123                           INCR     PLAY_ID                       	#
000412,000163:                                                                                          	# Increase counter as something is going to move
000413,000164: 
000414,000165:    4352           30100                           CA       CELL_VALUE                    	# Load value in original cell
000415,000166:    4353           65274                           AD       DEC1                          	# Add 1 because we are combining
000416,000167:    4354           50077                           INDEX    CHK_ID                        	# Index using cell below id
000417,000168:    4355           54124                           TS       VALUES                        	# Set cell below to be +1
000418,000169:    4356           54061                           TS       TEMPI                         	# Save to temp var, we need to check if it's 9
000419,000170: 
000420,000171:    4357           35304                           CA       DEC9                          	# Load 9 into A
000421,000172:    4360           00006                           EXTEND                                 	#
000422,000173:    4361           60061                           SU       TEMPI                         	# Subtract the value of combined cell
000423,000174:    4362           00006                           EXTEND                                 	#
000424,000175:    4363           14365                           BZF      COMPLETE                      	# If zero, we must have made a 9, game complete
000425,000176: 
000426,000177:    4364           14371                           TCF      NOTCOMP                       	# If zero, we must have made a 9, game complete
000427,000178: 
000428,000179: 
000429,000180:    4365                        COMPLETE                                                  	#
000430,000181: 
000431,000182:    4365           35172                           CA       BIT5                          	# Load value where bit 5 = 1, rest 0 (key rel flash)
000432,000183:    4366           00006                           EXTEND                                 	#
000433,000184:    4367           01011                           WRITE    CH11                          	# Output to DSKY lights IO channel
000434,000185:    4370           24112                           INCR     GM_DONE                       	# Set done flag so we don't allow further play'
000435,000186: 
000436,000187:    4371                        NOTCOMP                                                   	#
000437,000188: 
000438,000189: 
000439,000190:    4371           35160                           CA       NEG_ONE                       	# Load -1 to A (empty)
000440,000191:    4372           50075                           INDEX    CUR_ID                        	# Index by original cell id
000441,000192:    4373           54124                           TS       VALUES                        	# Set original cell to now be empty
000442,000193: 
000443,000194: 
000444,000195: 
000445,000196:    4374           00002                           RETURN                                 	#
000446,000197: 
(End of include-file Down.agc, resuming Main.agc)
000447,000056: $Up.agc
000448,000001:                                                                                          	# See Down.agc for detailed explanation of how the code
000449,000002:                                                                                          	# to move and combine numbers works. The only differences between them
000450,000003:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000451,000004: 
000452,000005:    4375                        MOVE_UP                                                   	#
000453,000006: 
000454,000007:    4375           04220                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000455,000008:    4376           30112                           CA       GM_DONE                       	# Load game complete status into A
000456,000009:    4377           00006                           EXTEND                                 	#
000457,000010:    4400           14402                           BZF      MOVING_UP                     	# Flag is zero, not complete yet
000458,000011: 
000459,000012:    4401           14070                           TCF      MAINLOOP                      	#
000460,000013: 
000461,000014:    4402                        MOVING_UP                                                  	#
000462,000015: 
000463,000016:    4402           35275                           CA       STA_UP                        	#
000464,000017:    4403           54101                           TS       GM_STATE                      	#
000465,000018: 
000466,000019:    4404           30007                           CA       ZERO                          	#
000467,000020:    4405           54123                           TS       PLAY_ID                       	#
000468,000021: 
000469,000022:    4406           35274                           CA       DEC1                          	#
000470,000023:    4407           54113                           TS       ROW_ID                        	#
000471,000024: 
000472,000025:    4410                        U_ROLOOP                                                  	#
000473,000026: 
000474,000027:    4410           50113                           INDEX    ROW_ID                        	#
000475,000028:    4411           35317                           CA       ROW_STRT                      	#
000476,000029:    4412           54075                           TS       CUR_ID                        	#
000477,000030:    4413           65300                           AD       DEC5                          	#
000478,000031:    4414           54115                           TS       END_ID                        	#
000479,000032: 
000480,000033:    4415                        U_COLOOP                                                  	#
000481,000034: 
000482,000035:    4415           50075                           INDEX    CUR_ID                        	#
000483,000036:    4416           35327                           CA       GRID_COL                      	#
000484,000037:    4417           54111                           TS       CELLCOL                       	#
000485,000038: 
000486,000039:    4420           50075                           INDEX    CUR_ID                        	#
000487,000040:    4421           30124                           CA       VALUES                        	#
000488,000041:    4422           54100                           TS       CELL_VALUE                    	#
000489,000042:    4423           65274                           AD       DEC1                          	#
000490,000043:    4424           00006                           EXTEND                                 	#
000491,000044:    4425           14465                           BZF      U_NOCOL                       	#
000492,000045: 
000493,000046: 
000494,000047:    4426                        CHK_ABV                                                   	#
000495,000048: 
000496,000049:    4426           30075                           CA       CUR_ID                        	#
000497,000050:    4427           65171                           AD       NEG5                          	#
000498,000051:    4430           54077                           TS       CHK_ID                        	#
000499,000052: 
000500,000053:    4431           50077                           INDEX    CHK_ID                        	#
000501,000054:    4432           30124                           CA       VALUES                        	#
000502,000055:    4433           54102                           TS       CHK_VALUE                     	#
000503,000056:    4434           65274                           AD       DEC1                          	#
000504,000057:    4435           00006                           EXTEND                                 	#
000505,000058:    4436           14456                           BZF      MOV_UP                        	#
000506,000059: 
000507,000060:    4437                        U_SOMEHR                                                  	#
000508,000061: 
000509,000062:    4437           50111                           INDEX    CELLCOL                       	#
000510,000063:    4440           30103                           CA       MATCHMD                       	#
000511,000064:    4441           00006                           EXTEND                                 	#
000512,000065:    4442           14444                           BZF      U_NOSOF                       	#
000513,000066: 
000514,000067:    4443           14465                           TCF      U_NOCOL                       	#
000515,000068: 
000516,000069:    4444                        U_NOSOF                                                   	#
000517,000070: 
000518,000071:    4444           30100                           CA       CELL_VALUE                    	#
000519,000072:    4445           00006                           EXTEND                                 	#
000520,000073:    4446           60102                           SU       CHK_VALUE                     	#
000521,000074:    4447           00006                           EXTEND                                 	#
000522,000075:    4450           14452                           BZF      U_MATCH                       	#
000523,000076: 
000524,000077:    4451           14465                           TCF      U_NOCOL                       	#
000525,000078: 
000526,000079:    4452                        U_MATCH                                                   	#
000527,000080: 
000528,000081:    4452           50111                           INDEX    CELLCOL                       	#
000529,000082:    4453           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000530,000083: 
000531,000084:    4454           04351                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000532,000085: 
000533,000086:    4455           14465                           TCF      U_NOCOL                       	#
000534,000087:    4456                        MOV_UP                                                    	#
000535,000088: 
000536,000089:    4456           24123                           INCR     PLAY_ID                       	#
000537,000090: 
000538,000091:    4457           30100                           CA       CELL_VALUE                    	#
000539,000092:    4460           50077                           INDEX    CHK_ID                        	#
000540,000093:    4461           54124                           TS       VALUES                        	#
000541,000094: 
000542,000095:    4462           35160                           CA       NEG_ONE                       	#
000543,000096:    4463           50075                           INDEX    CUR_ID                        	#
000544,000097:    4464           54124                           TS       VALUES                        	#
000545,000098: 
000546,000099:    4465                        U_NOCOL                                                   	#
000547,000100: 
000548,000101:    4465           24075                           INCR     CUR_ID                        	#
000549,000102:    4466           30075                           CA       CUR_ID                        	#
000550,000103:    4467           00006                           EXTEND                                 	#
000551,000104:    4470           60115                           SU       END_ID                        	#
000552,000105:    4471           00006                           EXTEND                                 	#
000553,000106:    4472           14474                           BZF      U_NXTRW                       	#
000554,000107: 
000555,000108:    4473           14415                           TCF      U_COLOOP                      	#
000556,000109: 
000557,000110:    4474                        U_NXTRW                                                   	#
000558,000111: 
000559,000112:    4474           54067                           TS       NEWJOB                        	#
000560,000113: 
000561,000114:    4475           35275                           CA       DEC2                          	#
000562,000115:    4476           00006                           EXTEND                                 	#
000563,000116:    4477           60113                           SU       ROW_ID                        	#
000564,000117:    4500           00006                           EXTEND                                 	#
000565,000118:    4501           14327                           BZF      D_DONE                        	#
000566,000119: 
000567,000120: 
000568,000121:    4502           24113                           INCR     ROW_ID                        	#
000569,000122: 
000570,000123:    4503           14410                           TCF      U_ROLOOP                      	#
000571,000124: 
(End of include-file Up.agc, resuming Main.agc)
000572,000057: $Left.agc
000573,000001:                                                                                          	# See Down.agc for detailed explanation of how the code
000574,000002:                                                                                          	# to move and combine numbers works. The only differences between them
000575,000003:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000576,000004: 
000577,000005:    4504                        MOVE_LEFT                                                  	#
000578,000006: 
000579,000007:    4504           04220                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000580,000008:    4505           30112                           CA       GM_DONE                       	# Load game complete status into A
000581,000009:    4506           00006                           EXTEND                                 	#
000582,000010:    4507           14511                           BZF      MOVING_LT                     	# Flag is zero, not complete yet
000583,000011: 
000584,000012:    4510           14070                           TCF      MAINLOOP                      	#
000585,000013: 
000586,000014: 
000587,000015:    4511                        MOVING_LT                                                  	#
000588,000016: 
000589,000017:    4511           35276                           CA       STA_LEFT                      	#
000590,000018:    4512           54101                           TS       GM_STATE                      	#
000591,000019: 
000592,000020:    4513           30007                           CA       ZERO                          	#
000593,000021:    4514           54123                           TS       PLAY_ID                       	#
000594,000022: 
000595,000023:    4515           35274                           CA       DEC1                          	#
000596,000024:    4516           54114                           TS       COL_ID                        	#
000597,000025: 
000598,000026:    4517                        L_COLOOP                                                  	#
000599,000027: 
000600,000028:    4517           50114                           INDEX    COL_ID                        	#
000601,000029:    4520           35322                           CA       COL_STRT                      	#
000602,000030:    4521           54075                           TS       CUR_ID                        	#
000603,000031:    4522           65312                           AD       DEC15                         	#
000604,000032:    4523           54115                           TS       END_ID                        	#
000605,000033: 
000606,000034:    4524                        L_ROLOOP                                                  	#
000607,000035: 
000608,000036:    4524           50075                           INDEX    CUR_ID                        	#
000609,000037:    4525           35354                           CA       GRID_ROW                      	#
000610,000038:    4526           54110                           TS       CELLROW                       	#
000611,000039: 
000612,000040:    4527           50075                           INDEX    CUR_ID                        	#
000613,000041:    4530           30124                           CA       VALUES                        	#
000614,000042:    4531           54100                           TS       CELL_VALUE                    	#
000615,000043:    4532           65274                           AD       DEC1                          	#
000616,000044:    4533           00006                           EXTEND                                 	#
000617,000045:    4534           14574                           BZF      L_NOROW                       	#
000618,000046: 
000619,000047: 
000620,000048:    4535                        CHK_LFT                                                   	#
000621,000049: 
000622,000050:    4535           30075                           CA       CUR_ID                        	#
000623,000051:    4536           65167                           AD       NEG1                          	#
000624,000052:    4537           54077                           TS       CHK_ID                        	#
000625,000053: 
000626,000054:    4540           50077                           INDEX    CHK_ID                        	#
000627,000055:    4541           30124                           CA       VALUES                        	#
000628,000056:    4542           54102                           TS       CHK_VALUE                     	#
000629,000057:    4543           65274                           AD       DEC1                          	#
000630,000058:    4544           00006                           EXTEND                                 	#
000631,000059:    4545           14565                           BZF      MOV_LEFT                      	#
000632,000060: 
000633,000061:    4546                        L_SOMEHR                                                  	#
000634,000062: 
000635,000063:    4546           50110                           INDEX    CELLROW                       	#
000636,000064:    4547           30103                           CA       MATCHMD                       	#
000637,000065:    4550           00006                           EXTEND                                 	#
000638,000066:    4551           14553                           BZF      L_NOMAT                       	#
000639,000067: 
000640,000068:    4552           14574                           TCF      L_NOROW                       	#
000641,000069: 
000642,000070:    4553                        L_NOMAT                                                   	#
000643,000071: 
000644,000072:    4553           30100                           CA       CELL_VALUE                    	#
000645,000073:    4554           00006                           EXTEND                                 	#
000646,000074:    4555           60102                           SU       CHK_VALUE                     	#
000647,000075:    4556           00006                           EXTEND                                 	#
000648,000076:    4557           14561                           BZF      L_MATCH                       	#
000649,000077: 
000650,000078:    4560           14574                           TCF      L_NOROW                       	#
000651,000079: 
000652,000080:    4561                        L_MATCH                                                   	#
000653,000081: 
000654,000082: 
000655,000083:    4561           50110                           INDEX    CELLROW                       	#
000656,000084:    4562           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000657,000085: 
000658,000086:    4563           04351                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000659,000087: 
000660,000088:    4564           14574                           TCF      L_NOROW                       	#
000661,000089:    4565                        MOV_LEFT                                                  	#
000662,000090: 
000663,000091:    4565           24123                           INCR     PLAY_ID                       	#
000664,000092: 
000665,000093:    4566           30100                           CA       CELL_VALUE                    	#
000666,000094:    4567           50077                           INDEX    CHK_ID                        	#
000667,000095:    4570           54124                           TS       VALUES                        	#
000668,000096: 
000669,000097:    4571           35160                           CA       NEG_ONE                       	#
000670,000098:    4572           50075                           INDEX    CUR_ID                        	#
000671,000099:    4573           54124                           TS       VALUES                        	#
000672,000100: 
000673,000101:    4574                        L_NOROW                                                   	#
000674,000102: 
000675,000103:    4574           30075                           CA       CUR_ID                        	#
000676,000104:    4575           65300                           AD       DEC5                          	#
000677,000105:    4576           54075                           TS       CUR_ID                        	#
000678,000106:    4577           00006                           EXTEND                                 	#
000679,000107:    4600           60115                           SU       END_ID                        	#
000680,000108:    4601           00006                           EXTEND                                 	#
000681,000109:    4602           14604                           BZF      L_NXTCOL                      	#
000682,000110: 
000683,000111:    4603           14524                           TCF      L_ROLOOP                      	#
000684,000112: 
000685,000113:    4604                        L_NXTCOL                                                  	#
000686,000114:    4604           54067                           TS       NEWJOB                        	#
000687,000115: 
000688,000116:    4605           35277                           CA       DEC4                          	#
000689,000117:    4606           00006                           EXTEND                                 	#
000690,000118:    4607           60114                           SU       COL_ID                        	#
000691,000119:    4610           00006                           EXTEND                                 	#
000692,000120:    4611           14327                           BZF      D_DONE                        	#
000693,000121: 
000694,000122: 
000695,000123:    4612           24114                           INCR     COL_ID                        	#
000696,000124: 
000697,000125:    4613           14517                           TCF      L_COLOOP                      	#
000698,000126: 
000699,000127: 
(End of include-file Left.agc, resuming Main.agc)
000700,000058: $Right.agc
000701,000001: 
000702,000002:                                                                                          	# See Down.agc for detailed explanation of how the code
000703,000003:                                                                                          	# to move and combine numbers works. The only differences between them
000704,000004:                                                                                          	# is to reverse directions and/or swap rows for columns (if horizontal)
000705,000005: 
000706,000006:    4614                        MOVE_RT                                                   	#
000707,000007: 
000708,000008:    4614           04220                           TC       SETUPMOV                      	# Setup a table and check if can proceed - may never return!
000709,000009:    4615           30112                           CA       GM_DONE                       	# Load game complete status into A
000710,000010:    4616           00006                           EXTEND                                 	#
000711,000011:    4617           14621                           BZF      MOVING_RT                     	# Flag is zero, not complete yet
000712,000012: 
000713,000013:    4620           14070                           TCF      MAINLOOP                      	#
000714,000014: 
000715,000015:    4621                        MOVING_RT                                                  	#
000716,000016: 
000717,000017:    4621           35277                           CA       STA_RIGHT                     	#
000718,000018:    4622           54101                           TS       GM_STATE                      	#
000719,000019: 
000720,000020:    4623           30007                           CA       ZERO                          	#
000721,000021:    4624           54123                           TS       PLAY_ID                       	#
000722,000022: 
000723,000023:    4625           35276                           CA       DEC3                          	#
000724,000024:    4626           54114                           TS       COL_ID                        	#
000725,000025: 
000726,000026:    4627                        R_COLOOP                                                  	#
000727,000027: 
000728,000028:    4627           50114                           INDEX    COL_ID                        	#
000729,000029:    4630           35322                           CA       COL_STRT                      	#
000730,000030:    4631           54075                           TS       CUR_ID                        	#
000731,000031:    4632           65312                           AD       DEC15                         	#
000732,000032:    4633           54115                           TS       END_ID                        	#
000733,000033: 
000734,000034:    4634                        R_ROLOOP                                                  	#
000735,000035: 
000736,000036:    4634           50075                           INDEX    CUR_ID                        	#
000737,000037:    4635           35354                           CA       GRID_ROW                      	#
000738,000038:    4636           54110                           TS       CELLROW                       	#
000739,000039: 
000740,000040:    4637           50075                           INDEX    CUR_ID                        	#
000741,000041:    4640           30124                           CA       VALUES                        	#
000742,000042:    4641           54100                           TS       CELL_VALUE                    	#
000743,000043:    4642           65274                           AD       DEC1                          	#
000744,000044:    4643           00006                           EXTEND                                 	#
000745,000045:    4644           14704                           BZF      R_NOROW                       	#
000746,000046: 
000747,000047: 
000748,000048:    4645                        CHK_RT                                                    	#
000749,000049: 
000750,000050:    4645           30075                           CA       CUR_ID                        	#
000751,000051:    4646           65274                           AD       DEC1                          	#
000752,000052:    4647           54077                           TS       CHK_ID                        	#
000753,000053: 
000754,000054:    4650           50077                           INDEX    CHK_ID                        	#
000755,000055:    4651           30124                           CA       VALUES                        	#
000756,000056:    4652           54102                           TS       CHK_VALUE                     	#
000757,000057:    4653           65274                           AD       DEC1                          	#
000758,000058:    4654           00006                           EXTEND                                 	#
000759,000059:    4655           14675                           BZF      MOV_RT                        	#
000760,000060: 
000761,000061:    4656                        R_SOMEHR                                                  	#
000762,000062: 
000763,000063:    4656           50110                           INDEX    CELLROW                       	#
000764,000064:    4657           30103                           CA       MATCHMD                       	#
000765,000065:    4660           00006                           EXTEND                                 	#
000766,000066:    4661           14663                           BZF      R_NOMAT                       	#
000767,000067: 
000768,000068:    4662           14704                           TCF      R_NOROW                       	#
000769,000069: 
000770,000070:    4663                        R_NOMAT                                                   	#
000771,000071: 
000772,000072:    4663           30100                           CA       CELL_VALUE                    	#
000773,000073:    4664           00006                           EXTEND                                 	#
000774,000074:    4665           60102                           SU       CHK_VALUE                     	#
000775,000075:    4666           00006                           EXTEND                                 	#
000776,000076:    4667           14671                           BZF      R_MATCH                       	#
000777,000077: 
000778,000078:    4670           14704                           TCF      R_NOROW                       	#
000779,000079: 
000780,000080:    4671                        R_MATCH                                                   	#
000781,000081: 
000782,000082:    4671           50110                           INDEX    CELLROW                       	#
000783,000083:    4672           24103                           INCR     MATCHMD                       	# Set flag that we have combined in this column
000784,000084: 
000785,000085:    4673           04351                           TC       UPGRADE                       	# Increase target cell, empty orig cell
000786,000086: 
000787,000087:    4674           14704                           TCF      R_NOROW                       	#
000788,000088:    4675                        MOV_RT                                                    	#
000789,000089: 
000790,000090:    4675           24123                           INCR     PLAY_ID                       	#
000791,000091: 
000792,000092:    4676           30100                           CA       CELL_VALUE                    	#
000793,000093:    4677           50077                           INDEX    CHK_ID                        	#
000794,000094:    4700           54124                           TS       VALUES                        	#
000795,000095: 
000796,000096:    4701           35160                           CA       NEG_ONE                       	#
000797,000097:    4702           50075                           INDEX    CUR_ID                        	#
000798,000098:    4703           54124                           TS       VALUES                        	#
000799,000099: 
000800,000100:    4704                        R_NOROW                                                   	#
000801,000101: 
000802,000102:    4704           30075                           CA       CUR_ID                        	#
000803,000103:    4705           65300                           AD       DEC5                          	#
000804,000104:    4706           54075                           TS       CUR_ID                        	#
000805,000105:    4707           00006                           EXTEND                                 	#
000806,000106:    4710           60115                           SU       END_ID                        	#
000807,000107:    4711           00006                           EXTEND                                 	#
000808,000108:    4712           14714                           BZF      R_NXTCOL                      	#
000809,000109: 
000810,000110:    4713           14634                           TCF      R_ROLOOP                      	#
000811,000111: 
000812,000112:    4714                        R_NXTCOL                                                  	#
000813,000113:    4714           54067                           TS       NEWJOB                        	#
000814,000114:    4715           30114                           CA       COL_ID                        	#
000815,000115:    4716           00006                           EXTEND                                 	#
000816,000116:    4717           14327                           BZF      D_DONE                        	#
000817,000117: 
000818,000118:    4720           00006                           EXTEND                                 	#
000819,000119:    4721           26114                           DIM      COL_ID                        	#
000820,000120: 
000821,000121:    4722           14627                           TCF      R_COLOOP                      	#
000822,000122: 
(End of include-file Right.agc, resuming Main.agc)
000823,000059: $Display.agc
000824,000001: 
000825,000002: 
000826,000003:                                                                                          	# DISPLAY ALL 15 SEGMENTS IN THE GAME GRID
000827,000004: 
000828,000005:    4723                        DISP15                                                    	#
000829,000006:    4723           00006                           EXTEND                                 	#
000830,000007:    4724           22071                           QXCH     RET_ADR                       	# Store return address because we TC elsewhere
000831,000008: 
000832,000009:    4725           35301                           CA       DEC6                          	# Do top left cell first as its digit doesn't have a segment partner
000833,000010:    4726           54075                           TS       CUR_ID                        	# Use id for top left cell
000834,000011:    4727           04745                           TC       DISPNUM                       	# Call function to display this digit
000835,000012: 
000836,000013:    4730           24075                           INCR     CUR_ID                        	# Move onto next digit. The rest all come in pairs.
000837,000014: 
000838,000015:    4731                        SEGLOOP                                                   	#
000839,000016: 
000840,000017:    4731           04745                           TC       DISPNUM                       	# Call function to display next two digits.
000841,000018: 
000842,000019:    4732           24075                           INCR     CUR_ID                        	# Inc cell id, it's now +2 from before display call.
000843,000020:    4733           35162                           CA       TWENTY1                       	# Load id of last cell + 1
000844,000021:    4734           00006                           EXTEND                                 	#
000845,000022:    4735           60075                           SU       CUR_ID                        	# Subtract current cell id
000846,000023:    4736           00006                           EXTEND                                 	#
000847,000024:    4737           14742                           BZF      DONE15                        	# If zero, we displayed all cells
000848,000025: 
000849,000026:    4740           54067                           TS       NEWJOB                        	# Nudge watchdog as display code fairly slow
000850,000027: 
000851,000028:    4741           14731                           TCF      SEGLOOP                       	# Loop back to draw the next two segments
000852,000029: 
000853,000030: 
000854,000031:    4742                        DONE15                                                    	#
000855,000032:    4742           00006                           EXTEND                                 	#
000856,000033:    4743           22071                           QXCH     RET_ADR                       	# Retrieve our return address
000857,000034:    4744           00002                           RETURN                                 	# Return to caller (multiple places)
000858,000035: 
000859,000036: 
000860,000037: 
000861,000038: 
000862,000039:    4745                        DISPNUM                                                   	# CUR_ID is the index of next segment to display (0=left prog, 20 = digit 5 bottom row)
000863,000040:                                                                                          	# Print value held in VALUES array to correct segment
000864,000041: 
000865,000042:                                                                                          	# Data is sent to the DSKY via Channel 10 two digits at a time.
000866,000043:                                                                                          	# Bits 10-14 select which pair of digits we want to draw
000867,000044:                                                                                          	# Bits 0-4 selects which digit to draw on the right segment
000868,000045:                                                                                          	# Bits 5-9 selects which digit to draw on the left segment
000869,000046: 
000870,000047:    4745           30007                           CA       ZEROES                        	# Load 0 into accumulator from a fixed rom constant
000871,000048:    4746           54117                           TS       DIGIT_L                       	# Reset left digit calculation to 0 (empty)
000872,000049:    4747           54120                           TS       DIGIT_R                       	# Reset right digit calculation to 0 (empty)
000873,000050: 
000874,000051:    4750           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000875,000052:    4751           35233                           CA       SEG_0                         	# Get which pair of digits this segment belongs to
000876,000053:    4752           54076                           TS       SEG_OUT                       	# Save ID to RAM
000877,000054: 
000878,000055:    4753           50076                           INDEX    SEG_OUT                       	# Index next instruction by segment pair id
000879,000056:    4754           35260                           CA       SEGCODE                       	# Get value required in bits 10-14 to select pair, using id
000880,000057:    4755           54116                           TS       DSKY_OUT                      	# Save to RAM to use later when we have the digit data
000881,000058: 
000882,000059:    4756           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000883,000060:    4757           30124                           CA       VALUES                        	# Get the value in RAM we want to display here
000884,000061:    4760           54061                           TS       TEMPI                         	# Save to temporary RAM variable
000885,000062: 
000886,000063:    4761           50075                           INDEX    CUR_ID                        	# Index next instruction by segment id
000887,000064:    4762           35206                           CA       LEFTRIGHT                     	# Get whether this segment is left or right of its pair
000888,000065:    4763           00006                           EXTEND                                 	# Extend to use a new Block 2 AGC instruction
000889,000066:    4764           15003                           BZF      SKIPLEFT                      	# If zero (is right), skip the left digit
000890,000067: 
000891,000068:    4765                        CALCLEFT                                                  	#
000892,000069:    4765           50061                           INDEX    TEMPI                         	# Index next instruction by our digit (0-9)
000893,000070:    4766           35174                           CA       DSP0                          	# Get the 5-bit code for this digit to send to DSKY
000894,000071:    4767           54022                           TS       CYL                           	# Transfer it to the shift left register
000895,000072:    4770           30022                           CA       CYL                           	# Shift left no 1
000896,000073:    4771           30022                           CA       CYL                           	# Shift left no 2
000897,000074:    4772           30022                           CA       CYL                           	# Shift left no 3
000898,000075:    4773           30022                           CA       CYL                           	# Shift left no 4
000899,000076:    4774           30022                           CA       CYL                           	# Shift left no 5 (is now in bits 5-9 for the left digit)
000900,000077:    4775           54117                           TS       DIGIT_L                       	# Save to RAM to use later
000901,000078: 
000902,000079:    4776           24075                           INCR     CUR_ID                        	# Move onto the right segment of the pair
000903,000080:    4777           50075                           INDEX    CUR_ID                        	# Index by new segment id
000904,000081:    5000           30124                           CA       VALUES                        	# Get value to display on right digit
000905,000082:    5001           54120                           TS       DIGIT_R                       	# Save to RAM to use later
000906,000083: 
000907,000084:    5002           15005                           TCF      DIDLEFT                       	# Skip the code to set only the right digit if left not drawn
000908,000085: 
000909,000086:    5003                        SKIPLEFT                                                  	#
000910,000087:    5003           30061                           CA       TEMPI                         	# Load the value for this digit to draw on the right of pair
000911,000088:    5004           54120                           TS       DIGIT_R                       	# Store to RAM
000912,000089: 
000913,000090:    5005                        DIDLEFT                                                   	#
000914,000091: 
000915,000092:    5005           50120                           INDEX    DIGIT_R                       	# Index by value of right digit
000916,000093:    5006           35174                           CA       DSP0                          	# Get the 5-bit code for this digit to send to DSKY
000917,000094: 
000918,000095:    5007                        OUTPUT                                                    	#
000919,000096:    5007           60116                           AD       DSKY_OUT                      	# Add bits 10-14
000920,000097:    5010           60117                           AD       DIGIT_L                       	# Add bits 5-9
000921,000098:    5011           00006                           EXTEND                                 	# Extend in order to use I/O channel instruction
000922,000099:    5012           01010                           WRITE    CH10                          	# Send the value to channel 10 to display on DKSY
000923,000100: 
000924,000101:    5013           00002                           RETURN                                 	# Return from subroutine
000925,000102: 
000926,000103: 
000927,000104: 
000928,000105:                                                                                          	#Hold up CPU to delay between movement of numbers to give animation effect
000929,000106: 
000930,000107:    5014           01750        IODELAYT           DEC      1000       B-14               	# This constant is stored in fixed ROM
000931,000108: 
000932,000109:    5015                        IODELAY                                                   	#
000933,000110:    5015           54061                           TS       TEMPI                         	# Save accumulator.
000934,000111:    5016           15017                           NOOP                                   	# Do thing for a bit
000935,000112:    5017           35014                           CA       IODELAYT                      	# Load delay into A
000936,000113:    5020           54067                           TS       NEWJOB                        	# Nudge watchdog as we're in a busy loop
000937,000114:    5021           10000                           CCS      A                             	# Decrement a and compare
000938,000115:    5022           15020                           TCF      -2                            	# >0 so jump back up to TS NEWJOB
000939,000116:    5023           30061                           CA       TEMPI                         	# Restore accumulator.
000940,000117:    5024           00002                           RETURN                                 	# Return to where delay was asked for
(End of include-file Display.agc, resuming Main.agc)
000941,000060: $Interrupts.agc
000942,000001: 
000943,000002:    5025                                           BLOCK    02                            	#
000944,000003:    5025                        T3RUPT                                                    	#
000945,000004:    5025           35153                           CAF      O37774                        	# Schedule another TIME3 interrupt
000946,000005:    5026           54026                           TS       TIME3                         	# ... and don't do anything else, yet...
000947,000006: 
000948,000007:    5027           24074                           INCR     COUNTER                       	# Increment counter for random number generation
000949,000008: 
000950,000009:    5030           52011        RESUME             DXCH     ARUPT                         	# Restore A, L, and Q, and exit the interrupt
000951,000010:    5031           00006                           EXTEND                                 	#
000952,000011:    5032           22012                           QXCH     QRUPT                         	#
000953,000012:    5033           50017                           RESUME                                 	#
(End of include-file Interrupts.agc, resuming Main.agc)
000954,000061: $Input.agc
000955,000001:    5034                        KEYRUPT1                                                  	# Triggered automatically when a key is pressed
000956,000002: 
000957,000003:    5034           35150                           CA       NOKEY                         	# Load code for 'NO KEY PRESSED'
000958,000004:    5035           54070                           TS       KEYBUF                        	# Clear key buffer so we don't persist presses from when they are not wanted
000959,000005: 
000960,000006:    5036           30073                           CA       ACTIVE                        	# Load whether game is active
000961,000007:    5037           00006                           EXTEND                                 	#
000962,000008:    5040           15045                           BZF      CAN_READ                      	# If not active, we can accept key press to start the game
000963,000009: 
000964,000010:    5041           30101                           CA       GM_STATE                      	# Load game state into A
000965,000011:    5042           00006                           EXTEND                                 	#
000966,000012:    5043           15045                           BZF      CAN_READ                      	# If not 'check_key', we don't care about key presses
000967,000013: 
000968,000014:    5044           15051                           TCF      EXITRUPT                      	# Exit, we're not listening for key presses while processing happens
000969,000015: 
000970,000016:    5045                        CAN_READ                                                  	#
000971,000017: 
000972,000018:    5045           00006                           EXTEND                                 	#
000973,000019:    5046           00015                           READ     CH15                          	# Read I/O channel that contains the keycode
000974,000020:    5047           75152                           MASK     LOW5                          	# Retain only lower 5 bits
000975,000021:    5050           54070                           TS       KEYBUF                        	# Store into keyboard buffer variable for main loop to pick up
000976,000022: 
000977,000023:    5051                        EXITRUPT                                                  	#
000978,000024:    5051           30007                           CA       ZEROES                        	# Clear the input channel
000979,000025:    5052           00006                           EXTEND                                 	#
000980,000026:    5053           01015                           WRITE    CH15                          	#
000981,000027: 
000982,000028:    5054           52011                           DXCH     ARUPT                         	# Restore A, L, and Q, and exit the interrupt
000983,000029:    5055           00006                           EXTEND                                 	#
000984,000030:    5056           22012                           QXCH     QRUPT                         	#
000985,000031:    5057           50017                           RESUME                                 	#
000986,000032: 
000987,000033: 
000988,000034: 
000989,000035: 
000990,000036:    5060                        WAITKEY                                                   	# Waiting for any key press to start game
000991,000037:                                                                                          	# If we didn't wait, the RNG would always start in same state
000992,000038: 
000993,000039:    5060           35150                           CA       NOKEY                         	# Load key code for 'no key pressed'
000994,000040:    5061           00006                           EXTEND                                 	#
000995,000041:    5062           60070                           SU       KEYBUF                        	# Subtract the key code read
000996,000042:    5063           00006                           EXTEND                                 	#
000997,000043:    5064           15071                           BZF      WAITMORE                      	# If zero, nothing pressed, continue waiting
000998,000044: 
000999,000045:    5065           35150                           CA       NOKEY                         	# Clear keyboard buffer so not carried into game
001000,000046:    5066           54070                           TS       KEYBUF                        	#
001001,000047: 
001002,000048:    5067           35300                           CA       STA_ADD                       	# Set game state to add the two starting numbers and exit
001003,000049:    5070           54101                           TS       GM_STATE                      	#
001004,000050: 
001005,000051:    5071                        WAITMORE                                                  	#
001006,000052:    5071           14070                           TCF      MAINLOOP                      	#
001007,000053: 
001008,000054: 
001009,000055: 
001010,000056:    5072                        CHECK_KEY                                                  	# Check whether key press in buffer from interrupt
001011,000057: 
001012,000058:    5072           35150                           CA       NOKEY                         	# Load key code for nothing pressed into A
001013,000059:    5073           56070                           XCH      KEYBUF                        	# Swap A and buffer. A is now key code and buffer is clear.
001014,000060:    5074           50000                           INDEX    A                             	# Index using the keycode
001015,000061:    5075           15076                           TCF      KEYTABL                       	# Into a jump table with jumps for each possible key
001016,000062: 
001017,000063:                                                                                          	# We ignore all presses except for 2, 4, 6, 8 for game control and ENTER/RESTART to reset game.
001018,000064:    5076                        KEYTABL                                                   	#
001019,000065:    5076           15137                           TCF      ENDKYCK                       	# unused
001020,000066:    5077           15137                           TCF      ENDKYCK                       	# 1
001021,000067:    5100           14227                           TCF      MOVE_DOWN                     	# 2
001022,000068:    5101           15137                           TCF      ENDKYCK                       	# 3
001023,000069:    5102           14504                           TCF      MOVE_LEFT                     	# 4
001024,000070:    5103           15137                           TCF      ENDKYCK                       	# 5
001025,000071:    5104           14614                           TCF      MOVE_RT                       	# 6
001026,000072:    5105           15137                           TCF      ENDKYCK                       	# 7
001027,000073:    5106           14375                           TCF      MOVE_UP                       	# 8
001028,000074:    5107           15137                           TCF      ENDKYCK                       	# 9
001029,000075:    5110           15137                           TCF      ENDKYCK                       	# unused
001030,000076:    5111           15137                           TCF      ENDKYCK                       	# unused
001031,000077:    5112           15137                           TCF      ENDKYCK                       	# unused
001032,000078:    5113           15137                           TCF      ENDKYCK                       	# unused
001033,000079:    5114           15137                           TCF      ENDKYCK                       	# unused
001034,000080:    5115           15137                           TCF      ENDKYCK                       	# unused
001035,000081:    5116           15137                           TCF      ENDKYCK                       	# 0
001036,000082:    5117           15137                           TCF      ENDKYCK                       	# VERB
001037,000083:    5120           14054                           TCF      INIT                          	# RSET
001038,000084:    5121           15137                           TCF      ENDKYCK                       	# unused
001039,000085:    5122           15137                           TCF      ENDKYCK                       	# unused
001040,000086:    5123           15137                           TCF      ENDKYCK                       	# unused
001041,000087:    5124           15137                           TCF      ENDKYCK                       	# unused
001042,000088:    5125           15137                           TCF      ENDKYCK                       	# unused
001043,000089:    5126           15137                           TCF      ENDKYCK                       	# unused
001044,000090:    5127           15137                           TCF      ENDKYCK                       	# KEY REL
001045,000091:    5130           15137                           TCF      ENDKYCK                       	# +
001046,000092:    5131           15137                           TCF      ENDKYCK                       	# -
001047,000093:    5132           14054                           TCF      INIT                          	# ENTR
001048,000094:    5133           15137                           TCF      ENDKYCK                       	# unused
001049,000095:    5134           15137                           TCF      ENDKYCK                       	# CLR
001050,000096:    5135           15137                           TCF      ENDKYCK                       	# NOUN
001051,000097:    5136           15137                           TCF      ENDKYCK                       	# NOKEY
001052,000098: 
001053,000099:    5137                        ENDKYCK                                                   	#
001054,000100:    5137           14070                           TCF      MAINLOOP                      	# When we do nothing, just exit back to main loop to wait for a valid key
001055,000101: 
(End of include-file Input.agc, resuming Main.agc)
001056,000062: $Random.agc
001057,000001: 
001058,000002:    5140                        RANDOM                                                    	#
001059,000003: 
001060,000004:                                                                                          	# I tried various methods for generating 'random' numbers. Most traditional methods are designed
001061,000005:                                                                                          	# for 8-bit or 16-bit hardware, and the various xor 'magic numbers' are particular to that paradigm.
001062,000006:                                                                                          	# I'm not patient enough to find values that might work. Using a fast-moving index into a lookup
001063,000007:                                                                                          	# table should be 'good enough' for a game.
001064,000008: 
001065,000009: 
001066,000010:    5140           30025                           CA       TIME1                         	# Load a register that is updated very often by the hardware
001067,000011:    5141           60074                           AD       COUNTER                       	# Add previous value of counter in case we were so quick TIME1 didn't change
001068,000012:    5142           75163                           MASK     MASK128                       	# Mask value so now between 0-127.
001069,000013:    5143           54074                           TS       COUNTER                       	# Store this as new counter
001070,000014:    5144           50074                           INDEX    COUNTER                       	# Index using value between 0-127
001071,000015:    5145           35401                           CA       RAND1                         	# Into a table of random numbers between 0 and 9 (generated in Excel)
001072,000016:    5146           24074                           INCR     COUNTER                       	# Move counter on one so next index unlikely to be the same
001073,000017: 
001074,000018: 
001075,000019:    5147           00002                           RETURN                                 	#
001076,000020: 
001077,000021: 
(End of include-file Random.agc, resuming Main.agc)
001078,000063: 
001079,000064: $Constants.agc
001080,000001:                                                                                          	# The AGC does not support 'immediate mode', where you can embed a fixed value into the operand.
001081,000002:                                                                                          	# So where you might do lda #48 in 6502 to load 48 into A, here 48 must be present somewhere in RAM
001082,000003:                                                                                          	# or ROM so that it has an address we can reference in 'CA MYCONSTANT'.
001083,000004:                                                                                          	# So these constants are stored in the ROM itself as data to be lookup up when needed.
001084,000005: 
001085,000006:                                                                                          	#-----------------------------------------------------------------------
001086,000007:                                                                                          	# Constants and read-only memory.
001087,000008: 
001088,000009:                                                                                          	# Names of CPU registers.
001089,000010:    5150                        A                  EQUALS   0                             	#
001090,000011:    5150                        L                  EQUALS   1                             	# L AND Q ARE BOTH CHANNELS AND REGISTERS.
001091,000012:    5150                        Q                  EQUALS   2                             	#
001092,000013:    5150                        EBANK              EQUALS   3                             	#
001093,000014:    5150                        FBANK              EQUALS   4                             	#
001094,000015:    5150                        Z                  EQUALS   5                             	# ADJACENT TO FBANK AND BBANK FOR DXCH Z
001095,000016:    5150                        BBANK              EQUALS   6                             	# (DTCB) AND DXCH FBANK (DTCF).
001096,000017:    5150                        ZEROES             EQUALS   7                             	# REGISTER 7 IS A ZERO-SOURCE, USED BY ZL.
001097,000018:    5150                        ARUPT              EQUALS   10                            	# INTERRUPT STORAGE.
001098,000019:    5150                        LRUPT              EQUALS   11                            	#
001099,000020:    5150                        QRUPT              EQUALS   12                            	#
001100,000021:    5150                        SAMPTIME           EQUALS   13                            	# SAMPLED TIME 1 & 2.
001101,000022:    5150                        ZRUPT              EQUALS   15                            	# (13 AND 14 ARE SPARES.)
001102,000023:    5150                        BANKRUPT           EQUALS   16                            	# USUALLY HOLDS FBANK OR BBANK.
001103,000024:    5150                        BRUPT              EQUALS   17                            	# RESUME ADDRESS AS WELL.
001104,000025:    5150                        CYR                EQUALS   20                            	#
001105,000026:    5150                        SR                 EQUALS   21                            	#
001106,000027:    5150                        CYL                EQUALS   22                            	#
001107,000028:    5150                        EDOP               EQUALS   23                            	#
001108,000029: 
001109,000030: 
001110,000031:    5150                        CH10               EQUALS   10                            	#
001111,000032:    5150                        CH11               EQUALS   11                            	#
001112,000033:    5150                        CH12               EQUALS   12                            	#
001113,000034:    5150                        CH15               EQUALS   15                            	#
001114,000035:    5150                        CH32               EQUALS   32                            	#
001115,000036:    5150                        CH13               EQUALS   13                            	#
001116,000037:    5150           00040        NOKEY              OCT      40                            	#
001117,000038: 
001118,000039:    5151           40000        BIT15              DEC      16384      B-14               	#
001119,000040:    5152  0000007               ZERO               EQUALS   ZEROES                        	#
001120,000041: 
001121,000042: 
001122,000043:    5152           00037        LOW5               OCT      37                            	#
001123,000044: 
001124,000045:    5153           37774        O37774             OCT      37774                         	#
001125,000046:    5154           37777        O37777             OCT      37777                         	#
001126,000047: 
001127,000048:    5155           00012        TEN                DEC      10         B-14               	#
001128,000049:    5156           00034        CLEARBTN           DEC      28         B-14               	#
001129,000050:    5157           00022        RESETBTN           DEC      18         B-14               	#
001130,000051:    5160           77776        NEG_ONE            DEC      -1         B-14               	#
001131,000052: 
001132,000053:    5161           00024        TWENTY             DEC      20         B-14               	#
001133,000054:    5162           00025        TWENTY1            DEC      21         B-14               	#
001134,000055:    5163           00177        MASK128            DEC      127        B-14               	#
001135,000056:    5164           00017        MASK15             DEC      15         B-14               	#
001136,000057:    5165           00400        TWO56              DEC      256        B-14               	#
001137,000058:    5166           00016        FOURTEEN           DEC      14         B-14               	#
001138,000059: 
001139,000060:    5167           77776        NEG1               DEC      -1         B-14               	#
001140,000061:    5170           77775        NEG2               DEC      -2         B-14               	#
001141,000062:    5171           77772        NEG5               DEC      -5         B-14               	#
001142,000063:    5172           00176        BIT5               DEC      126        B-14               	#
001143,000064: 
001144,000065: 
(End of include-file Constants.agc, resuming Main.agc)
001145,000065: $Tables.agc
001146,000001: 
001147,000002:                                                                                          	# Because constants are held in fixed memory (ROM), we can organise them consecutively
001148,000003:                                                                                          	# and use them as handy lookup tables
001149,000004: 
001150,000005:                                                                                          	# For each possible digit (blank, 0-9), the 5-bit code we need to send to the DSKY.
001151,000006: 
001152,000007:    5173           00000        DSPBLANK           OCT      0                             	#
001153,000008:    5174           00025        DSP0               OCT      25                            	#
001154,000009:    5175           00003        DSP1               OCT      3                             	#
001155,000010:    5176           00031        DSP2               OCT      31                            	#
001156,000011:    5177           00033        DSP3               OCT      33                            	#
001157,000012:    5200           00017        DSP4               OCT      17                            	#
001158,000013:    5201           00036        DSP5               OCT      36                            	#
001159,000014:    5202           00034        DSP6               OCT      34                            	#
001160,000015:    5203           00023        DSP7               OCT      23                            	#
001161,000016:    5204           00035        DSP8               OCT      35                            	#
001162,000017:    5205           00037        DSP9               OCT      37                            	#
001163,000018: 
001164,000019:                                                                                          	# For each of the 21 display digits, is it left (1) or right (0) of the pair?
001165,000020: 
001166,000021:    5206           00001        LEFTRIGHT           DEC      1          B-14               	#
001167,000022:    5207           00000        LR1                DEC      0          B-14               	#
001168,000023:    5210           00001        LR2                DEC      1          B-14               	#
001169,000024:    5211           00000        LR3                DEC      0          B-14               	#
001170,000025:    5212           00001        LR4                DEC      1          B-14               	#
001171,000026:    5213           00000        LR5                DEC      0          B-14               	#
001172,000027:    5214           00000        LR6                DEC      0          B-14               	#
001173,000028:    5215           00001        LR7                DEC      1          B-14               	#
001174,000029:    5216           00000        LR8                DEC      0          B-14               	#
001175,000030:    5217           00001        LR9                DEC      1          B-14               	#
001176,000031:    5220           00000        LR10               DEC      0          B-14               	#
001177,000032:    5221           00001        LR11               DEC      1          B-14               	#
001178,000033:    5222           00000        LR12               DEC      0          B-14               	#
001179,000034:    5223           00001        LR13               DEC      1          B-14               	#
001180,000035:    5224           00000        LR14               DEC      0          B-14               	#
001181,000036:    5225           00001        LR15               DEC      1          B-14               	#
001182,000037:    5226           00000        LR16               DEC      0          B-14               	#
001183,000038:    5227           00001        LR17               DEC      1          B-14               	#
001184,000039:    5230           00000        LR18               DEC      0          B-14               	#
001185,000040:    5231           00001        LR19               DEC      1          B-14               	#
001186,000041:    5232           00000        LR20               DEC      0          B-14               	#
001187,000042: 
001188,000043:                                                                                          	# For each of the 21 display digits, which pair of segments does it belong to?
001189,000044: 
001190,000045:    5233           00000        SEG_0              DEC      00         B-14               	#
001191,000046:    5234           00000        SEG_1              DEC      00         B-14               	#
001192,000047:    5235           00001        SEG_2              DEC      01         B-14               	#
001193,000048:    5236           00001        SEG_3              DEC      01         B-14               	#
001194,000049:    5237           00002        SEG_4              DEC      02         B-14               	#
001195,000050:    5240           00002        SEG_5              DEC      02         B-14               	#
001196,000051:    5241           00003        SEG_6              DEC      03         B-14               	#
001197,000052:    5242           00004        SEG_7              DEC      04         B-14               	#
001198,000053:    5243           00004        SEG_8              DEC      04         B-14               	#
001199,000054:    5244           00005        SEG_9              DEC      05         B-14               	#
001200,000055:    5245           00005        SEG_10             DEC      05         B-14               	#
001201,000056:    5246           00006        SEG_11             DEC      06         B-14               	#
001202,000057:    5247           00006        SEG_12             DEC      06         B-14               	#
001203,000058:    5250           00007        SEG_13             DEC      07         B-14               	#
001204,000059:    5251           00007        SEG_14             DEC      07         B-14               	#
001205,000060:    5252           00010        SEG_15             DEC      08         B-14               	#
001206,000061:    5253           00010        SEG_16             DEC      08         B-14               	#
001207,000062:    5254           00011        SEG_17             DEC      09         B-14               	#
001208,000063:    5255           00011        SEG_18             DEC      09         B-14               	#
001209,000064:    5256           00012        SEG_19             DEC      10         B-14               	#
001210,000065:    5257           00012        SEG_20             DEC      10         B-14               	#
001211,000066: 
001212,000067: 
001213,000068:                                                                                          	# Lookup bits 10-14 to select the segement pair in Channel 10 WRITE
001214,000069: 
001215,000070: 
001216,000071:    5260           54000        SEGCODE            OCT      54000                         	#
001217,000072:    5261           50000        VERBLR             OCT      50000                         	#
001218,000073:    5262           44000        NOUNLR             OCT      44000                         	#
001219,000074:    5263           40000        TOP1               OCT      40000                         	#
001220,000075:    5264           34000        TOP23              OCT      34000                         	#
001221,000076:    5265           30000        TOP45              OCT      30000                         	#
001222,000077:    5266           24000        MID12              OCT      24000                         	#
001223,000078:    5267           20000        MID34              OCT      20000                         	#
001224,000079:    5270           14000        MID5BOT1           OCT      14000                         	#
001225,000080:    5271           10000        BOT23              OCT      10000                         	#
001226,000081:    5272           04000        BOT45              OCT      4000                          	#
001227,000082: 
001228,000083: 
001229,000084: 
001230,000085:                                                                                          	# Decimal table for easy loading into A
001231,000086: 
001232,000087:    5273           00000        DIGITS             DEC      0          B-14               	#
001233,000088:    5274           00001        DEC1               DEC      1          B-14               	#
001234,000089:    5275           00002        DEC2               DEC      2          B-14               	#
001235,000090:    5276           00003        DEC3               DEC      3          B-14               	#
001236,000091:    5277           00004        DEC4               DEC      4          B-14               	#
001237,000092:    5300           00005        DEC5               DEC      5          B-14               	#
001238,000093:    5301           00006        DEC6               DEC      6          B-14               	#
001239,000094:    5302           00007        DEC7               DEC      7          B-14               	#
001240,000095:    5303           00010        DEC8               DEC      8          B-14               	#
001241,000096:    5304           00011        DEC9               DEC      9          B-14               	#
001242,000097:    5305           00012        DEC10              DEC      10         B-14               	#
001243,000098:    5306           00013        DEC11              DEC      11         B-14               	#
001244,000099:    5307           00014        DEC12              DEC      12         B-14               	#
001245,000100:    5310           00015        DEC13              DEC      13         B-14               	#
001246,000101:    5311           00016        DEC14              DEC      14         B-14               	#
001247,000102:    5312           00017        DEC15              DEC      15         B-14               	#
001248,000103:    5313           00020        DEC16              DEC      16         B-14               	#
001249,000104:    5314           00021        DEC17              DEC      17         B-14               	#
001250,000105:    5315           00022        DEC18              DEC      18         B-14               	#
001251,000106:    5316           00023        DEC19              DEC      19         B-14               	#
001252,000107: 
001253,000108:                                                                                          	# Game state constants, re-using some of the above
001254,000109: 
001255,000110:    5317     5273               STA_INPUT           EQUALS   DIGITS                        	#
001256,000111:    5317     5274               STA_DOWN           EQUALS   DEC1                          	#
001257,000112:    5317     5275               STA_UP             EQUALS   DEC2                          	#
001258,000113:    5317     5276               STA_LEFT           EQUALS   DEC3                          	#
001259,000114:    5317     5277               STA_RIGHT           EQUALS   DEC4                          	#
001260,000115:    5317     5300               STA_ADD            EQUALS   DEC5                          	#
001261,000116:    5317     5301               STA_WAIT           EQUALS   DEC6                          	#
001262,000117: 
001263,000118: 
001264,000119: 
001265,000120:                                                                                          	# For each grid row, which segment ID does it start at?
001266,000121: 
001267,000122:    5317           00006        ROW_STRT           DEC      6          B-14               	#
001268,000123:    5320           00013        ROW_STRT2           DEC      11         B-14               	#
001269,000124:    5321           00020        ROW_STRT3           DEC      16         B-14               	#
001270,000125: 
001271,000126:                                                                                          	# For each grid column, which segment ID does it start at?
001272,000127: 
001273,000128:    5322           00006        COL_STRT           DEC      6          B-14               	#
001274,000129:    5323           00007        COL_STRT2           DEC      7          B-14               	#
001275,000130:    5324           00010        COL_STRT3           DEC      8          B-14               	#
001276,000131:    5325           00011        COL_STRT4           DEC      9          B-14               	#
001277,000132:    5326           00012        COL_STRT5           DEC      10         B-14               	#
001278,000133: 
001279,000134:                                                                                          	# For each grid cell, which column does it belong to (0-5 ignored)
001280,000135: 
001281,000136:    5327           00000        GRID_COL           DEC      0          B-14               	#
001282,000137:    5330           00000        GRID_CM5           DEC      0          B-14               	#
001283,000138:    5331           00000        GRID_CM4           DEC      0          B-14               	#
001284,000139:    5332           00000        GRID_CM3           DEC      0          B-14               	#
001285,000140:    5333           00000        GRID_CM2           DEC      0          B-14               	#
001286,000141:    5334           00000        GRID_CM1           DEC      0          B-14               	#
001287,000142:    5335           00000        GRID_C0            DEC      0          B-14               	#
001288,000143:    5336           00001        GRID_C1            DEC      1          B-14               	#
001289,000144:    5337           00002        GRID_C2            DEC      2          B-14               	#
001290,000145:    5340           00003        GRID_C3            DEC      3          B-14               	#
001291,000146:    5341           00004        GRID_C4            DEC      4          B-14               	#
001292,000147:    5342           00000        GRID_C5            DEC      0          B-14               	#
001293,000148:    5343           00001        GRID_C6            DEC      1          B-14               	#
001294,000149:    5344           00002        GRID_C7            DEC      2          B-14               	#
001295,000150:    5345           00003        GRID_C8            DEC      3          B-14               	#
001296,000151:    5346           00004        GRID_C9            DEC      4          B-14               	#
001297,000152:    5347           00000        GRID_C10           DEC      0          B-14               	#
001298,000153:    5350           00001        GRID_C11           DEC      1          B-14               	#
001299,000154:    5351           00002        GRID_C12           DEC      2          B-14               	#
001300,000155:    5352           00003        GRID_C13           DEC      3          B-14               	#
001301,000156:    5353           00004        GRID_C14           DEC      4          B-14               	#
001302,000157: 
001303,000158:                                                                                          	# For each grid cell, which ro wdoes it belong to (0-5 ignored)
001304,000159: 
001305,000160:    5354           00000        GRID_ROW           DEC      0          B-14               	#
001306,000161:    5355           00000        GRID_RM5           DEC      0          B-14               	#
001307,000162:    5356           00000        GRID_RM4           DEC      0          B-14               	#
001308,000163:    5357           00000        GRID_RM3           DEC      0          B-14               	#
001309,000164:    5360           00000        GRID_RM2           DEC      0          B-14               	#
001310,000165:    5361           00000        GRID_RM1           DEC      0          B-14               	#
001311,000166:    5362           00000        GRID_R0            DEC      0          B-14               	#
001312,000167:    5363           00000        GRID_R1            DEC      0          B-14               	#
001313,000168:    5364           00000        GRID_R2            DEC      0          B-14               	#
001314,000169:    5365           00000        GRID_R3            DEC      0          B-14               	#
001315,000170:    5366           00000        GRID_R4            DEC      0          B-14               	#
001316,000171:    5367           00001        GRID_R5            DEC      1          B-14               	#
001317,000172:    5370           00001        GRID_R6            DEC      1          B-14               	#
001318,000173:    5371           00001        GRID_R7            DEC      1          B-14               	#
001319,000174:    5372           00001        GRID_R8            DEC      1          B-14               	#
001320,000175:    5373           00001        GRID_R9            DEC      1          B-14               	#
001321,000176:    5374           00002        GRID_R10           DEC      2          B-14               	#
001322,000177:    5375           00002        GRID_R11           DEC      2          B-14               	#
001323,000178:    5376           00002        GRID_R12           DEC      2          B-14               	#
001324,000179:    5377           00002        GRID_R13           DEC      2          B-14               	#
001325,000180:    5400           00002        GRID_R14           DEC      2          B-14               	#
001326,000181: 
001327,000182:                                                                                          	# Table of 128 'random' numbers between 0-9 that we can index into
001328,000183: 
001329,000184:    5401           00005        RAND1              DEC      5          B-14               	#
001330,000185:    5402           00002        RAND2              DEC      2          B-14               	#
001331,000186:    5403           00000        RAND3              DEC      0          B-14               	#
001332,000187:    5404           00002        RAND4              DEC      2          B-14               	#
001333,000188:    5405           00011        RAND5              DEC      9          B-14               	#
001334,000189:    5406           00004        RAND6              DEC      4          B-14               	#
001335,000190:    5407           00005        RAND7              DEC      5          B-14               	#
001336,000191:    5410           00001        RAND8              DEC      1          B-14               	#
001337,000192:    5411           00000        RAND9              DEC      0          B-14               	#
001338,000193:    5412           00003        RAND10             DEC      3          B-14               	#
001339,000194:    5413           00011        RAND11             DEC      9          B-14               	#
001340,000195:    5414           00005        RAND12             DEC      5          B-14               	#
001341,000196:    5415           00006        RAND13             DEC      6          B-14               	#
001342,000197:    5416           00007        RAND14             DEC      7          B-14               	#
001343,000198:    5417           00007        RAND15             DEC      7          B-14               	#
001344,000199:    5420           00001        RAND16             DEC      1          B-14               	#
001345,000200:    5421           00006        RAND17             DEC      6          B-14               	#
001346,000201:    5422           00005        RAND18             DEC      5          B-14               	#
001347,000202:    5423           00007        RAND19             DEC      7          B-14               	#
001348,000203:    5424           00004        RAND20             DEC      4          B-14               	#
001349,000204:    5425           00005        RAND21             DEC      5          B-14               	#
001350,000205:    5426           00002        RAND22             DEC      2          B-14               	#
001351,000206:    5427           00000        RAND23             DEC      0          B-14               	#
001352,000207:    5430           00005        RAND24             DEC      5          B-14               	#
001353,000208:    5431           00011        RAND25             DEC      9          B-14               	#
001354,000209:    5432           00006        RAND26             DEC      6          B-14               	#
001355,000210:    5433           00005        RAND27             DEC      5          B-14               	#
001356,000211:    5434           00007        RAND28             DEC      7          B-14               	#
001357,000212:    5435           00005        RAND29             DEC      5          B-14               	#
001358,000213:    5436           00006        RAND30             DEC      6          B-14               	#
001359,000214:    5437           00000        RAND31             DEC      0          B-14               	#
001360,000215:    5440           00006        RAND32             DEC      6          B-14               	#
001361,000216:    5441           00011        RAND33             DEC      9          B-14               	#
001362,000217:    5442           00004        RAND34             DEC      4          B-14               	#
001363,000218:    5443           00002        RAND35             DEC      2          B-14               	#
001364,000219:    5444           00005        RAND36             DEC      5          B-14               	#
001365,000220:    5445           00011        RAND37             DEC      9          B-14               	#
001366,000221:    5446           00011        RAND38             DEC      9          B-14               	#
001367,000222:    5447           00002        RAND39             DEC      2          B-14               	#
001368,000223:    5450           00000        RAND40             DEC      0          B-14               	#
001369,000224:    5451           00007        RAND41             DEC      7          B-14               	#
001370,000225:    5452           00006        RAND42             DEC      6          B-14               	#
001371,000226:    5453           00000        RAND43             DEC      0          B-14               	#
001372,000227:    5454           00005        RAND44             DEC      5          B-14               	#
001373,000228:    5455           00006        RAND45             DEC      6          B-14               	#
001374,000229:    5456           00001        RAND46             DEC      1          B-14               	#
001375,000230:    5457           00007        RAND47             DEC      7          B-14               	#
001376,000231:    5460           00007        RAND48             DEC      7          B-14               	#
001377,000232:    5461           00002        RAND49             DEC      2          B-14               	#
001378,000233:    5462           00004        RAND50             DEC      4          B-14               	#
001379,000234:    5463           00011        RAND51             DEC      9          B-14               	#
001380,000235:    5464           00006        RAND52             DEC      6          B-14               	#
001381,000236:    5465           00011        RAND53             DEC      9          B-14               	#
001382,000237:    5466           00000        RAND54             DEC      0          B-14               	#
001383,000238:    5467           00003        RAND55             DEC      3          B-14               	#
001384,000239:    5470           00005        RAND56             DEC      5          B-14               	#
001385,000240:    5471           00001        RAND57             DEC      1          B-14               	#
001386,000241:    5472           00004        RAND58             DEC      4          B-14               	#
001387,000242:    5473           00007        RAND59             DEC      7          B-14               	#
001388,000243:    5474           00001        RAND60             DEC      1          B-14               	#
001389,000244:    5475           00002        RAND61             DEC      2          B-14               	#
001390,000245:    5476           00007        RAND62             DEC      7          B-14               	#
001391,000246:    5477           00002        RAND63             DEC      2          B-14               	#
001392,000247:    5500           00001        RAND64             DEC      1          B-14               	#
001393,000248:    5501           00005        RAND65             DEC      5          B-14               	#
001394,000249:    5502           00010        RAND66             DEC      8          B-14               	#
001395,000250:    5503           00001        RAND67             DEC      1          B-14               	#
001396,000251:    5504           00007        RAND68             DEC      7          B-14               	#
001397,000252:    5505           00007        RAND69             DEC      7          B-14               	#
001398,000253:    5506           00003        RAND70             DEC      3          B-14               	#
001399,000254:    5507           00003        RAND71             DEC      3          B-14               	#
001400,000255:    5510           00004        RAND72             DEC      4          B-14               	#
001401,000256:    5511           00005        RAND73             DEC      5          B-14               	#
001402,000257:    5512           00005        RAND74             DEC      5          B-14               	#
001403,000258:    5513           00005        RAND75             DEC      5          B-14               	#
001404,000259:    5514           00006        RAND76             DEC      6          B-14               	#
001405,000260:    5515           00006        RAND77             DEC      6          B-14               	#
001406,000261:    5516           00006        RAND78             DEC      6          B-14               	#
001407,000262:    5517           00010        RAND79             DEC      8          B-14               	#
001408,000263:    5520           00006        RAND80             DEC      6          B-14               	#
001409,000264:    5521           00005        RAND81             DEC      5          B-14               	#
001410,000265:    5522           00001        RAND82             DEC      1          B-14               	#
001411,000266:    5523           00007        RAND83             DEC      7          B-14               	#
001412,000267:    5524           00010        RAND84             DEC      8          B-14               	#
001413,000268:    5525           00001        RAND85             DEC      1          B-14               	#
001414,000269:    5526           00011        RAND86             DEC      9          B-14               	#
001415,000270:    5527           00003        RAND87             DEC      3          B-14               	#
001416,000271:    5530           00000        RAND88             DEC      0          B-14               	#
001417,000272:    5531           00003        RAND89             DEC      3          B-14               	#
001418,000273:    5532           00007        RAND90             DEC      7          B-14               	#
001419,000274:    5533           00002        RAND91             DEC      2          B-14               	#
001420,000275:    5534           00005        RAND92             DEC      5          B-14               	#
001421,000276:    5535           00001        RAND93             DEC      1          B-14               	#
001422,000277:    5536           00000        RAND94             DEC      0          B-14               	#
001423,000278:    5537           00011        RAND95             DEC      9          B-14               	#
001424,000279:    5540           00001        RAND96             DEC      1          B-14               	#
001425,000280:    5541           00011        RAND97             DEC      9          B-14               	#
001426,000281:    5542           00005        RAND98             DEC      5          B-14               	#
001427,000282:    5543           00006        RAND99             DEC      6          B-14               	#
001428,000283:    5544           00006        RAND100            DEC      6          B-14               	#
001429,000284:    5545           00011        RAND101            DEC      9          B-14               	#
001430,000285:    5546           00010        RAND102            DEC      8          B-14               	#
001431,000286:    5547           00001        RAND103            DEC      1          B-14               	#
001432,000287:    5550           00007        RAND104            DEC      7          B-14               	#
001433,000288:    5551           00003        RAND105            DEC      3          B-14               	#
001434,000289:    5552           00006        RAND106            DEC      6          B-14               	#
001435,000290:    5553           00007        RAND107            DEC      7          B-14               	#
001436,000291:    5554           00006        RAND108            DEC      6          B-14               	#
001437,000292:    5555           00001        RAND109            DEC      1          B-14               	#
001438,000293:    5556           00004        RAND110            DEC      4          B-14               	#
001439,000294:    5557           00011        RAND111            DEC      9          B-14               	#
001440,000295:    5560           00000        RAND112            DEC      0          B-14               	#
001441,000296:    5561           00002        RAND113            DEC      2          B-14               	#
001442,000297:    5562           00005        RAND114            DEC      5          B-14               	#
001443,000298:    5563           00004        RAND115            DEC      4          B-14               	#
001444,000299:    5564           00005        RAND116            DEC      5          B-14               	#
001445,000300:    5565           00000        RAND117            DEC      0          B-14               	#
001446,000301:    5566           00000        RAND118            DEC      0          B-14               	#
001447,000302:    5567           00005        RAND119            DEC      5          B-14               	#
001448,000303:    5570           00010        RAND120            DEC      8          B-14               	#
001449,000304:    5571           00005        RAND121            DEC      5          B-14               	#
001450,000305:    5572           00001        RAND122            DEC      1          B-14               	#
001451,000306:    5573           00000        RAND123            DEC      0          B-14               	#
001452,000307:    5574           00003        RAND124            DEC      3          B-14               	#
001453,000308:    5575           00006        RAND125            DEC      6          B-14               	#
001454,000309:    5576           00003        RAND126            DEC      3          B-14               	#
001455,000310:    5577           00004        RAND127            DEC      4          B-14               	#
001456,000311:    5600           00001        RAND128            DEC      1          B-14               	#
(End of include-file Tables.agc, resuming Main.agc)
001457,000066: $Ram.agc
001458,000001: 
001459,000002:                                                                                          	# The AGC has 2,000 words (4KB) of erasable memory. We only need a fraction for this game!
001460,000003: 
001461,000004: 
001462,000005:                                                                                          	#-------------------------------------------------------------------------
001463,000006:                                                                                          	# Some variables.
001464,000007: 
001465,000008:    0024                                           SETLOC   24                            	#
001466,000009:    0024                        TIME2              ERASE                                  	#
001467,000010:    0025                        TIME1              ERASE                                  	#
001468,000011:    0026                        TIME3              ERASE                                  	#
001469,000012:    0027                        TIME4              ERASE                                  	#
001470,000013:    0030                        TIME5              ERASE                                  	#
001471,000014:    0031                        TIME6              ERASE                                  	#
001472,000015: 
001473,000016:    0061                                           SETLOC   61                            	#
001474,000017: 
001475,000018:                                                                                          	# Temp variables.
001476,000019:    0061                        TEMPI              ERASE                                  	#
001477,000020:    0062                        TEMPJ              ERASE                                  	#
001478,000021:    0063                        TEMPK              ERASE                                  	#
001479,000022: 
001480,000023: 
001481,000024:    0067                                           SETLOC   67                            	#
001482,000025:    0067                        NEWJOB             ERASE                                  	#
001483,000026: 
001484,000027: 
001485,000028:    0070                        KEYBUF             ERASE                                  	#
001486,000029:    0071                        RET_ADR            ERASE                                  	#
001487,000030:    0072                        RET_ADR2           ERASE                                  	#
001488,000031: 
001489,000032:    0073                        ACTIVE             ERASE                                  	#
001490,000033:    0074                        COUNTER            ERASE                                  	#
001491,000034:    0075                        CUR_ID             ERASE                                  	#
001492,000035:    0076                        SEG_OUT            ERASE                                  	#
001493,000036:    0077                        CHK_ID             ERASE                                  	#
001494,000037:    0100                        CELL_VALUE           ERASE                                  	#
001495,000038:    0101                        GM_STATE           ERASE                                  	#
001496,000039:    0102                        CHK_VALUE           ERASE                                  	#
001497,000040:    0103                        MATCHMD            ERASE                                  	#
001498,000041:    0104                        MATCH1             ERASE                                  	#
001499,000042:    0105                        MATCH2             ERASE                                  	#
001500,000043:    0106                        MATCH3             ERASE                                  	#
001501,000044:    0107                        MATCH4             ERASE                                  	#
001502,000045:    0110                        CELLROW            ERASE                                  	#
001503,000046:    0111                        CELLCOL            ERASE                                  	#
001504,000047:    0112                        GM_DONE            ERASE                                  	#
001505,000048: 
001506,000049:    0113                        ROW_ID             ERASE                                  	#
001507,000050:    0114                        COL_ID             ERASE                                  	#
001508,000051:    0115                        END_ID             ERASE                                  	#
001509,000052:    0116                        DSKY_OUT           ERASE                                  	#
001510,000053:    0117                        DIGIT_L            ERASE                                  	#
001511,000054:    0120                        DIGIT_R            ERASE                                  	#
001512,000055:    0121                        INPUTBUF           ERASE                                  	#
001513,000056:    0122                        BTNMASK            ERASE                                  	#
001514,000057:    0123                        PLAY_ID            ERASE                                  	#
001515,000058: 
001516,000059:    0124                        VALUES             ERASE    +21                           	#
(End of include-file Ram.agc, resuming Main.agc)
001517,000067: 


Usage Table for Fixed-Memory Banks
----------------------------------
Bank 00:  0000/2000 words used.
Bank 01:  0000/2000 words used.
Bank 02:  1601/2000 words used.
Bank 03:  0000/2000 words used.
Bank 04:  0000/2000 words used.
Bank 05:  0000/2000 words used.
Bank 06:  0000/2000 words used.
Bank 07:  0000/2000 words used.
Bank 10:  0000/2000 words used.
Bank 11:  0000/2000 words used.
Bank 12:  0000/2000 words used.
Bank 13:  0000/2000 words used.
Bank 14:  0000/2000 words used.
Bank 15:  0000/2000 words used.
Bank 16:  0000/2000 words used.
Bank 17:  0000/2000 words used.
Bank 20:  0000/2000 words used.
Bank 21:  0000/2000 words used.
Bank 22:  0000/2000 words used.
Bank 23:  0000/2000 words used.
Bank 24:  0000/2000 words used.
Bank 25:  0000/2000 words used.
Bank 26:  0000/2000 words used.
Bank 27:  0000/2000 words used.
Bank 30:  0000/2000 words used.
Bank 31:  0000/2000 words used.
Bank 32:  0000/2000 words used.
Bank 33:  0000/2000 words used.
Bank 34:  0000/2000 words used.
Bank 35:  0000/2000 words used.
Bank 36:  0000/2000 words used.
Bank 37:  0000/2000 words used.
Bank 40:  0000/2000 words used.
Bank 41:  0000/2000 words used.
Bank 42:  0000/2000 words used.
Bank 43:  0000/2000 words used.


Symbol Table
------------
     1,E:   $17             0017  		     2,E:   $3              0003  		     3,E:   $4              0004  		     4,E:   $5              0005  
     5,E:   $6              0006  		     6,E:   $7              0007  		     7,C:   A            0000000  		     8,E:   ACTIVE          0073  
     9,F:   ADD5            4167  		    10,F:   ADD6            4164  		    11,C:   ARUPT        0000010  		    12,C:   BANKRUPT     0000016  
    13,C:   BBANK        0000006  		    14,F:   BIT15           5151  		    15,F:   BIT5            5172  		    16,F:   BOT23           5271  
    17,F:   BOT45           5272  		    18,C:   BRUPT        0000017  		    19,E:   BTNMASK         0122  		    20,F:   CALCLEFT        4765  
    21,F:   CAN_READ        5045  		    22,E:   CELLCOL         0111  		    23,E:   CELLROW         0110  		    24,F:   CELL_MOV        4341  
    25,E:   CELL_VALUE      0100  		    26,C:   CH10         0000010  		    27,C:   CH11         0000011  		    28,C:   CH12         0000012  
    29,C:   CH13         0000013  		    30,C:   CH15         0000015  		    31,C:   CH32         0000032  		    32,F:   CHECKEMP        4133  
    33,F:   CHECK_KEY       5072  		    34,F:   CHKLOOP         4135  		    35,F:   CHKVALID        4171  		    36,F:   CHK_ABV         4426  
    37,F:   CHK_BEL         4260  		    38,E:   CHK_ID          0077  		    39,F:   CHK_LFT         4535  		    40,F:   CHK_RT          4645  
    41,F:   CHK_STATE       4071  		    42,E:   CHK_VALUE       0102  		    43,F:   CLEARBTN        5156  		    44,E:   COL_ID          0114  
    45,F:   COL_STRT        5322  		    46,F:   COL_STRT2       5323  		    47,F:   COL_STRT3       5324  		    48,F:   COL_STRT4       5325  
    49,F:   COL_STRT5       5326  		    50,F:   COMPLETE        4365  		    51,E:   COUNTER         0074  		    52,E:   CUR_ID          0075  
    53,C:   CYL          0000022  		    54,C:   CYR          0000020  		    55,F:   DEC1            5274  		    56,F:   DEC10           5305  
    57,F:   DEC11           5306  		    58,F:   DEC12           5307  		    59,F:   DEC13           5310  		    60,F:   DEC14           5311  
    61,F:   DEC15           5312  		    62,F:   DEC16           5313  		    63,F:   DEC17           5314  		    64,F:   DEC18           5315  
    65,F:   DEC19           5316  		    66,F:   DEC2            5275  		    67,F:   DEC3            5276  		    68,F:   DEC4            5277  
    69,F:   DEC5            5300  		    70,F:   DEC6            5301  		    71,F:   DEC7            5302  		    72,F:   DEC8            5303  
    73,F:   DEC9            5304  		    74,F:   DIDLEFT         5005  		    75,F:   DIGITS          5273  		    76,E:   DIGIT_L         0117  
    77,E:   DIGIT_R         0120  		    78,F:   DISP15          4723  		    79,F:   DISPNUM         4745  		    80,F:   DONE15          4742  
    81,E:   DSKY_OUT        0116  		    82,F:   DSP0            5174  		    83,F:   DSP1            5175  		    84,F:   DSP2            5176  
    85,F:   DSP3            5177  		    86,F:   DSP4            5200  		    87,F:   DSP5            5201  		    88,F:   DSP6            5202  
    89,F:   DSP7            5203  		    90,F:   DSP8            5204  		    91,F:   DSP9            5205  		    92,F:   DSPBLANK        5173  
    93,F:   D_COLOOP        4247  		    94,F:   D_DONE          4327  		    95,F:   D_MATCH         4304  		    96,F:   D_NOCOL         4311  
    97,F:   D_NOSOF         4276  		    98,F:   D_NOWT          4335  		    99,F:   D_NXTRW         4320  		   100,F:   D_ROLOOP        4242  
   101,F:   D_SOMEHR        4271  		   102,F:   D_UPDATE        4332  		   103,C:   EBANK        0000003  		   104,C:   EDOP         0000023  
   105,F:   ENDKYCK         5137  		   106,E:   END_ID          0115  		   107,F:   EXITGEN         4215  		   108,F:   EXITRUPT        5051  
   109,C:   FBANK        0000004  		   110,F:   FOURTEEN        5166  		   111,F:   GENZERO         4131  		   112,E:   GM_DONE         0112  
   113,E:   GM_STATE        0101  		   114,F:   GRID_C0         5335  		   115,F:   GRID_C1         5336  		   116,F:   GRID_C10        5347  
   117,F:   GRID_C11        5350  		   118,F:   GRID_C12        5351  		   119,F:   GRID_C13        5352  		   120,F:   GRID_C14        5353  
   121,F:   GRID_C2         5337  		   122,F:   GRID_C3         5340  		   123,F:   GRID_C4         5341  		   124,F:   GRID_C5         5342  
   125,F:   GRID_C6         5343  		   126,F:   GRID_C7         5344  		   127,F:   GRID_C8         5345  		   128,F:   GRID_C9         5346  
   129,F:   GRID_CM1        5334  		   130,F:   GRID_CM2        5333  		   131,F:   GRID_CM3        5332  		   132,F:   GRID_CM4        5331  
   133,F:   GRID_CM5        5330  		   134,F:   GRID_COL        5327  		   135,F:   GRID_R0         5362  		   136,F:   GRID_R1         5363  
   137,F:   GRID_R10        5374  		   138,F:   GRID_R11        5375  		   139,F:   GRID_R12        5376  		   140,F:   GRID_R13        5377  
   141,F:   GRID_R14        5400  		   142,F:   GRID_R2         5364  		   143,F:   GRID_R3         5365  		   144,F:   GRID_R4         5366  
   145,F:   GRID_R5         5367  		   146,F:   GRID_R6         5370  		   147,F:   GRID_R7         5371  		   148,F:   GRID_R8         5372  
   149,F:   GRID_R9         5373  		   150,F:   GRID_RM1        5361  		   151,F:   GRID_RM2        5360  		   152,F:   GRID_RM3        5357  
   153,F:   GRID_RM4        5356  		   154,F:   GRID_RM5        5355  		   155,F:   GRID_ROW        5354  		   156,F:   INIT            4054  
   157,E:   INPUTBUF        0121  		   158,F:   IODELAY         5015  		   159,F:   IODELAYT        5014  		   160,F:   ISEMPTY         4201  
   161,E:   KEYBUF          0070  		   162,F:   KEYRUPT1        5034  		   163,F:   KEYTABL         5076  		   164,C:   L            0000001  
   165,F:   LEFTRIGHT       5206  		   166,F:   LOW5            5152  		   167,F:   LR1             5207  		   168,F:   LR10            5220  
   169,F:   LR11            5221  		   170,F:   LR12            5222  		   171,F:   LR13            5223  		   172,F:   LR14            5224  
   173,F:   LR15            5225  		   174,F:   LR16            5226  		   175,F:   LR17            5227  		   176,F:   LR18            5230  
   177,F:   LR19            5231  		   178,F:   LR2             5210  		   179,F:   LR20            5232  		   180,F:   LR3             5211  
   181,F:   LR4             5212  		   182,F:   LR5             5213  		   183,F:   LR6             5214  		   184,F:   LR7             5215  
   185,F:   LR8             5216  		   186,F:   LR9             5217  		   187,C:   LRUPT        0000011  		   188,F:   L_COLOOP        4517  
   189,F:   L_MATCH         4561  		   190,F:   L_NOMAT         4553  		   191,F:   L_NOROW         4574  		   192,F:   L_NXTCOL        4604  
   193,F:   L_ROLOOP        4524  		   194,F:   L_SOMEHR        4546  		   195,F:   MAINLOOP        4070  		   196,F:   MAKEONE         4212  
   197,F:   MASK128         5163  		   198,F:   MASK15          5164  		   199,E:   MATCH1          0104  		   200,E:   MATCH2          0105  
   201,E:   MATCH3          0106  		   202,E:   MATCH4          0107  		   203,E:   MATCHMD         0103  		   204,F:   MID12           5266  
   205,F:   MID34           5267  		   206,F:   MID5BOT1        5270  		   207,F:   MOVE_DOWN       4227  		   208,F:   MOVE_LEFT       4504  
   209,F:   MOVE_RT         4614  		   210,F:   MOVE_UP         4375  		   211,F:   MOVING_DN       4234  		   212,F:   MOVING_LT       4511  
   213,F:   MOVING_RT       4621  		   214,F:   MOVING_UP       4402  		   215,F:   MOV_DN          4310  		   216,F:   MOV_LEFT        4565  
   217,F:   MOV_RT          4675  		   218,F:   MOV_UP          4456  		   219,F:   NEG1            5167  		   220,F:   NEG2            5170  
   221,F:   NEG5            5171  		   222,F:   NEG_ONE         5160  		   223,F:   NEWBOX          4152  		   224,E:   NEWJOB          0067  
   225,F:   NEWNUM          4117  		   226,F:   NOKEY           5150  		   227,F:   NOTCOMP         4371  		   228,F:   NOTEMPTY        4177  
   229,F:   NOUNLR          5262  		   230,F:   O37774          5153  		   231,F:   O37777          5154  		   232,F:   OUTPUT          5007  
   233,E:   PLAY_ID         0123  		   234,C:   Q            0000002  		   235,C:   QRUPT        0000012  		   236,F:   RAND1           5401  
   237,F:   RAND10          5412  		   238,F:   RAND100         5544  		   239,F:   RAND101         5545  		   240,F:   RAND102         5546  
   241,F:   RAND103         5547  		   242,F:   RAND104         5550  		   243,F:   RAND105         5551  		   244,F:   RAND106         5552  
   245,F:   RAND107         5553  		   246,F:   RAND108         5554  		   247,F:   RAND109         5555  		   248,F:   RAND11          5413  
   249,F:   RAND110         5556  		   250,F:   RAND111         5557  		   251,F:   RAND112         5560  		   252,F:   RAND113         5561  
   253,F:   RAND114         5562  		   254,F:   RAND115         5563  		   255,F:   RAND116         5564  		   256,F:   RAND117         5565  
   257,F:   RAND118         5566  		   258,F:   RAND119         5567  		   259,F:   RAND12          5414  		   260,F:   RAND120         5570  
   261,F:   RAND121         5571  		   262,F:   RAND122         5572  		   263,F:   RAND123         5573  		   264,F:   RAND124         5574  
   265,F:   RAND125         5575  		   266,F:   RAND126         5576  		   267,F:   RAND127         5577  		   268,F:   RAND128         5600  
   269,F:   RAND13          5415  		   270,F:   RAND14          5416  		   271,F:   RAND15          5417  		   272,F:   RAND16          5420  
   273,F:   RAND17          5421  		   274,F:   RAND18          5422  		   275,F:   RAND19          5423  		   276,F:   RAND2           5402  
   277,F:   RAND20          5424  		   278,F:   RAND21          5425  		   279,F:   RAND22          5426  		   280,F:   RAND23          5427  
   281,F:   RAND24          5430  		   282,F:   RAND25          5431  		   283,F:   RAND26          5432  		   284,F:   RAND27          5433  
   285,F:   RAND28          5434  		   286,F:   RAND29          5435  		   287,F:   RAND3           5403  		   288,F:   RAND30          5436  
   289,F:   RAND31          5437  		   290,F:   RAND32          5440  		   291,F:   RAND33          5441  		   292,F:   RAND34          5442  
   293,F:   RAND35          5443  		   294,F:   RAND36          5444  		   295,F:   RAND37          5445  		   296,F:   RAND38          5446  
   297,F:   RAND39          5447  		   298,F:   RAND4           5404  		   299,F:   RAND40          5450  		   300,F:   RAND41          5451  
   301,F:   RAND42          5452  		   302,F:   RAND43          5453  		   303,F:   RAND44          5454  		   304,F:   RAND45          5455  
   305,F:   RAND46          5456  		   306,F:   RAND47          5457  		   307,F:   RAND48          5460  		   308,F:   RAND49          5461  
   309,F:   RAND5           5405  		   310,F:   RAND50          5462  		   311,F:   RAND51          5463  		   312,F:   RAND52          5464  
   313,F:   RAND53          5465  		   314,F:   RAND54          5466  		   315,F:   RAND55          5467  		   316,F:   RAND56          5470  
   317,F:   RAND57          5471  		   318,F:   RAND58          5472  		   319,F:   RAND59          5473  		   320,F:   RAND6           5406  
   321,F:   RAND60          5474  		   322,F:   RAND61          5475  		   323,F:   RAND62          5476  		   324,F:   RAND63          5477  
   325,F:   RAND64          5500  		   326,F:   RAND65          5501  		   327,F:   RAND66          5502  		   328,F:   RAND67          5503  
   329,F:   RAND68          5504  		   330,F:   RAND69          5505  		   331,F:   RAND7           5407  		   332,F:   RAND70          5506  
   333,F:   RAND71          5507  		   334,F:   RAND72          5510  		   335,F:   RAND73          5511  		   336,F:   RAND74          5512  
   337,F:   RAND75          5513  		   338,F:   RAND76          5514  		   339,F:   RAND77          5515  		   340,F:   RAND78          5516  
   341,F:   RAND79          5517  		   342,F:   RAND8           5410  		   343,F:   RAND80          5520  		   344,F:   RAND81          5521  
   345,F:   RAND82          5522  		   346,F:   RAND83          5523  		   347,F:   RAND84          5524  		   348,F:   RAND85          5525  
   349,F:   RAND86          5526  		   350,F:   RAND87          5527  		   351,F:   RAND88          5530  		   352,F:   RAND89          5531  
   353,F:   RAND9           5411  		   354,F:   RAND90          5532  		   355,F:   RAND91          5533  		   356,F:   RAND92          5534  
   357,F:   RAND93          5535  		   358,F:   RAND94          5536  		   359,F:   RAND95          5537  		   360,F:   RAND96          5540  
   361,F:   RAND97          5541  		   362,F:   RAND98          5542  		   363,F:   RAND99          5543  		   364,F:   RANDOM          5140  
   365,F:   RESETALL        4102  		   366,F:   RESETBTN        5157  		   367,F:   RESETEND        4115  		   368,F:   RESETLOOP       4104  
   369,F:   RESTART         4000  		   370,F:   RESUME          5030  		   371,E:   RET_ADR         0071  		   372,E:   RET_ADR2        0072  
   373,E:   ROW_ID          0113  		   374,F:   ROW_STRT        5317  		   375,F:   ROW_STRT2       5320  		   376,F:   ROW_STRT3       5321  
   377,F:   R_COLOOP        4627  		   378,F:   R_MATCH         4671  		   379,F:   R_NOMAT         4663  		   380,F:   R_NOROW         4704  
   381,F:   R_NXTCOL        4714  		   382,F:   R_ROLOOP        4634  		   383,F:   R_SOMEHR        4656  		   384,C:   SAMPTIME     0000013  
   385,F:   SECOND          4116  		   386,F:   SEGCODE         5260  		   387,F:   SEGLOOP         4731  		   388,F:   SEG_0           5233  
   389,F:   SEG_1           5234  		   390,F:   SEG_10          5245  		   391,F:   SEG_11          5246  		   392,F:   SEG_12          5247  
   393,F:   SEG_13          5250  		   394,F:   SEG_14          5251  		   395,F:   SEG_15          5252  		   396,F:   SEG_16          5253  
   397,F:   SEG_17          5254  		   398,F:   SEG_18          5255  		   399,F:   SEG_19          5256  		   400,F:   SEG_2           5235  
   401,F:   SEG_20          5257  		   402,F:   SEG_3           5236  		   403,F:   SEG_4           5237  		   404,F:   SEG_5           5240  
   405,F:   SEG_6           5241  		   406,F:   SEG_7           5242  		   407,F:   SEG_8           5243  		   408,F:   SEG_9           5244  
   409,E:   SEG_OUT         0076  		   410,F:   SETUPMOV        4220  		   411,F:   SKIPLEFT        5003  		   412,C:   SR           0000021  
   413,F:   STA_ADD         5300  		   414,F:   STA_DOWN        5274  		   415,F:   STA_INPUT       5273  		   416,F:   STA_LEFT        5276  
   417,F:   STA_RIGHT       5277  		   418,F:   STA_UP          5275  		   419,F:   STA_WAIT        5301  		   420,F:   STORENEW        4213  
   421,F:   ST_TABLE        4073  		   422,F:   T3RUPT          5025  		   423,E:   TEMPI           0061  		   424,E:   TEMPJ           0062  
   425,E:   TEMPK           0063  		   426,F:   TEN             5155  		   427,E:   TIME1           0025  		   428,E:   TIME2           0024  
   429,E:   TIME3           0026  		   430,E:   TIME4           0027  		   431,E:   TIME5           0030  		   432,E:   TIME6           0031  
   433,F:   TOP1            5263  		   434,F:   TOP23           5264  		   435,F:   TOP45           5265  		   436,F:   TWENTY          5161  
   437,F:   TWENTY1         5162  		   438,F:   TWO56           5165  		   439,F:   UPGRADE         4351  		   440,F:   U_COLOOP        4415  
   441,F:   U_MATCH         4452  		   442,F:   U_NOCOL         4465  		   443,F:   U_NOSOF         4444  		   444,F:   U_NXTRW         4474  
   445,F:   U_ROLOOP        4410  		   446,F:   U_SOMEHR        4437  		   447,E:   VALUES          0124  		   448,F:   VERBLR          5261  
   449,F:   WAITKEY         5060  		   450,F:   WAITMORE        5071  		   451,C:   Z            0000005  		   452,C:   ZERO         0000007  
   453,C:   ZEROES       0000007  		   454,C:   ZRUPT        0000015  		

Unresolved symbols:  0
Fatal errors:  0
Warnings:  0
Removing the duplicated lines... 

Symbol-table file written.

Bugger word 75001 at 02,3603.
